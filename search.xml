<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Androidç³»åˆ—ä¹‹Android Studio æ­å»º</title>
    <url>/2018/05/06/bcb6.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="å‰è®°"><a href="#å‰è®°" class="headerlink" title="å‰è®°"></a>å‰è®°</h2><blockquote>
<p>ä¸€åˆ‡éƒ½æ˜¯æœ€å¥½çš„å®‰æ’å’Œ<code>wuliç§€</code>ä¸€èµ·å­¦ä¹ Androidï¼Œè®°å½•å­¦ä¹ çš„ä¸€ç³»åˆ—è¿‡ç¨‹ã€‚<br>å¸Œæœ›å½¼æ­¤éƒ½æœ‰è¿›æ­¥~`letâ€™s go ~`ğŸ˜˜</p>
</blockquote>
<a id="more"></a>

<h2 id="æ”¶é›†åˆ°çš„ä¸€äº›å‚è€ƒèµ„æ–™"><a href="#æ”¶é›†åˆ°çš„ä¸€äº›å‚è€ƒèµ„æ–™" class="headerlink" title="æ”¶é›†åˆ°çš„ä¸€äº›å‚è€ƒèµ„æ–™"></a>æ”¶é›†åˆ°çš„ä¸€äº›å‚è€ƒèµ„æ–™</h2><blockquote>
<p>è¿™ä¸ªåœ°æ–¹æˆ‘ç”¨æ¥å­˜æ”¾ä¸€äº›æ”¶é›†åˆ°çš„ä¸€äº›å‚è€ƒèµ„æ–™ï¼›</p>
</blockquote>
<ul>
<li>å®˜æ–¹å¾ˆé‡çš„å…¥é—¨èµ„æ–™(æ˜¯ä½ äº†æ²¡é”™ğŸ˜†ğŸ˜†ğŸ˜†): <a href="https://developer.android.google.cn/guide/"><code>https://developer.android.google.cn/guide/</code></a></li>
<li>developersä¸­æ–‡å®˜ç½‘(çœ‹æ–°é—»çš„å’¯) : <a href="https://developers.google.cn/" title="åœ°å€"><code>https://developers.google.cn/</code></a></li>
<li>å¼€å‘æ–‡æ¡£:  <a href="https://www.diycode.cc/wiki/androidbook"><code>https://www.diycode.cc/wiki/androidbook</code></a></li>
<li>å¼€å‘æ–‡æ¡£(èƒ¡å‡¯): <a href="http://hukai.me/android-training-course-in-chinese/index.html#"><code>http://hukai.me/android-training-course-in-chinese/index.html#</code></a></li>
<li><a href="http://www.runoob.com/w3cnote/android-tutorial-android-studio.html"><code>http://www.runoob.com/w3cnote/android-tutorial-android-studio.html</code></a></li>
<li>æå®¢å­¦é™¢èµ„æº: <a href="http://www.jikexueyuan.com/resources/"><code>http://www.jikexueyuan.com/resources/</code></a></li>
</ul>
<h2 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h2><ul>
<li>ä¸‹è½½å®‰è£…åŒ…(mac): <code>https://developer.android.google.cn/studio/</code></li>
<li>æŸ¥çœ‹JDK ç‰ˆæœ¬: <code>java -version</code></li>
</ul>
<h2 id="ç¬¬ä¸€è¡Œä»£ç -Android-ç¬¬2ç‰ˆ"><a href="#ç¬¬ä¸€è¡Œä»£ç -Android-ç¬¬2ç‰ˆ" class="headerlink" title="ç¬¬ä¸€è¡Œä»£ç +Android+ç¬¬2ç‰ˆ"></a>ç¬¬ä¸€è¡Œä»£ç +Android+ç¬¬2ç‰ˆ</h2><embed src="https://gitee.com/alexlin/alexSource/raw/master/book/%E7%AC%AC%E4%B8%80%E8%A1%8C%E4%BB%A3%E7%A0%81+Android+%E7%AC%AC2%E7%89%88.pdf" width="100%" height="950" type="application/pdf" align=center >


]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Android Studio</tag>
      </tags>
  </entry>
  <entry>
    <title>Androidç³»åˆ—ä¹‹å„ç§ç–‘éš¾æ‚ç—‡å¤„ç†</title>
    <url>/2018/05/06/7aeb.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="å‰è®°"><a href="#å‰è®°" class="headerlink" title="å‰è®°"></a>å‰è®°</h2><blockquote>
<p>å„ç§ç–‘éš¾æ‚ç—‡ç™»è®°å’Œè§£å†³æ–¹æ³•è®°å½•ï¼Œå°å§å§å¯ä»¥çœ‹O(âˆ©_âˆ©)Oå“ˆå“ˆ~</p>
</blockquote>
<a id="more"></a>

<h2 id="é—®é¢˜1"><a href="#é—®é¢˜1" class="headerlink" title="é—®é¢˜1."></a>é—®é¢˜1.</h2><p><code>gradle project sync failed.Basic functionality(e.g.editing,debugging) will not work properly.</code></p>
<p><img src="https://gitee.com/alexlin/alexSource/raw/master/images/gradleFail.png" alt="gradle Fail"></p>
<ul>
<li><strong>è§£å†³æ–¹æ³•:</strong><br>åˆ°é¡¹ç›®ä¸‹æ‰¾åˆ°<code>gradle\wrapper\gradle-wrapper.properties</code> ç„¶åä¸‹è½½é‡Œé¢<code>distributionUrl</code>æŒ‡å®šå†…å®¹;</li>
</ul>
<pre><code>#Sun May 06 22:16:52 CST 2018
distributionBase=GRADLE_USER_HOME
distributionPath=wrapper/dists
zipStoreBase=GRADLE_USER_HOME
zipStorePath=wrapper/dists
distributionUrl=https\://services.gradle.org/distributions/gradle-4.4-all.zip</code></pre>
<p>ç„¶åæŠŠ <code>distributionUrl=</code> æ¢æˆä¸‹è½½åçš„è·¯å¾„;<br>æ¯”å¦‚æˆ‘çš„æ˜¯è¿™æ ·:</p>
<pre><code>distributionUrl=file:///Users/alex/.gradle/wrapper/dists/gradle-4.4-all/9br9xq1tocpiv8o6njlyu5op1/gradle-4.4-all.zip</code></pre>
<p>ç„¶åå†é‡è¯•ä¸€ä¸‹ã€‚æœ‰å¯èƒ½è¿˜æœ‰æé†’<code>Could not download protobuf-java.jar (com.google.protobuf:protob</code> è¿™ç§é”™è¯¯ï¼Œæˆ‘è¯•äº†å¥½ä¹…å¥½ä¹…æ‰èƒ½ä¸‹è½½å®Œï¼Œæ€ªå®¶é‡Œçš„ç½‘ç»œå¤ªç³Ÿç³•ğŸ˜°~<br><strong>ç‰¹åˆ«æ„Ÿè°¢<code>wiliç§€</code>ä¸€ç›´çš„é¼“åŠ±â¤ï¸</strong></p>
]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title>COAPç³»åˆ—-lwm2måˆè¯†</title>
    <url>/2018/01/29/7f47.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Wakaama"><a href="#Wakaama" class="headerlink" title="Wakaama"></a>Wakaama</h2><hr>
<h2 id="1-Source-Layout"><a href="#1-Source-Layout" class="headerlink" title="1. Source Layout"></a>1. Source Layout</h2><pre><code>-+- core                   (the LWM2M engine)
 |    |
 |    +- er-coap-13        (Slightly modified Erbium&#39;s CoAP engine from
 |                          http://people.inf.ethz.ch/mkovatsc/erbium.php
 |
 +- tests                  (test cases)
 |
 +- examples
      |
      +- bootstrap_server  (a command-line LWM2M bootstrap server)
      |
      +- client            (a command-line LWM2M client with several test objects)
      |
      +- lightclient       (a very simple command-line LWM2M client with several test objects)
      |
      +- server            (a command-line LWM2M server)
      |
      +- shared            (utility functions for connection handling and command-
                            line interface)</code></pre>
<a id="more"></a>

<h2 id="2-Compiling"><a href="#2-Compiling" class="headerlink" title="2.Compiling"></a>2.Compiling</h2><p>Wakaama is not a library but files to be built with an application. Wakaama uses CMake &gt;= 3. Look at examples/server/CMakeLists.txt for an example of how to include it. Several compilation switches are used:</p>
<ul>
<li>LWM2M_BIG_ENDIAN if your target platform uses big-endian format.</li>
<li>LWM2M_LITTLE_ENDIAN if your target platform uses little-endian format.</li>
<li>LWM2M_CLIENT_MODE to enable LWM2M Client interfaces.</li>
<li>LWM2M_SERVER_MODE to enable LWM2M Server interfaces.</li>
<li>LWM2M_BOOTSTRAP_SERVER_MODE to enable LWM2M Bootstrap Server interfaces.</li>
<li>LWM2M_BOOTSTRAP to enable LWM2M Bootstrap support in a LWM2M Client.</li>
<li>LWM2M_SUPPORT_JSON to enable JSON payload support (implicit when defining - LWM2M_SERVER_MODE)</li>
<li>LWM2M_OLD_CONTENT_FORMAT_SUPPORT to support the deprecated content format values for TLV and JSON.</li>
</ul>
<h2 id="3-åŸºç¡€çŸ¥è¯†"><a href="#3-åŸºç¡€çŸ¥è¯†" class="headerlink" title="3.åŸºç¡€çŸ¥è¯†"></a>3.åŸºç¡€çŸ¥è¯†</h2><p>é€šè¿‡URIè®¿é—®LWM2Må®ä½“</p>
<pre><code>/&lt;object id&gt;[/&lt;object instance id&gt;][/&lt;resource id&gt;]</code></pre>
<p>åœ¨LWM2Mä¸­ï¼Œåˆæ³•çš„URIåº”å½“åƒå¦‚ä¸‹æ ¼å¼ï¼ˆæ³¨æ„ï¼Œä¸èƒ½ä»¥/ç»“å°¾ï¼‰ï¼š</p>
<pre><code>/&lt;object id&gt;[/&lt;object instance id&gt;][/&lt;resource id&gt;]

# legal example
/0
/0/0
/0/1
/0/1/1
1
2
3
4
5
6
7</code></pre>
<p>URIåˆ†åˆ«æ ‡è¯†äº†è®¿é—®èµ„æºçš„object idã€object instance idã€resource idï¼Œåä¸¤ä¸ªidæ˜¯å¯é€‰çš„ã€‚</p>
<p>Depending on your platform, you need to define LWM2M_BIG_ENDIAN or LWM2M_LITTLE_ENDIAN. LWM2M_CLIENT_MODE and LWM2M_SERVER_MODE can be defined at the same time.</p>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul>
<li><a href="http://www.eclipse.org/wakaama/">wakaama</a></li>
<li><a href="https://github.com/eclipse/wakaama">github</a></li>
<li><a href="http://blog.csdn.net/github_39603316/article/details/76014609">Blog</a></li>
</ul>
]]></content>
      <categories>
        <category>åè®®</category>
      </categories>
      <tags>
        <tag>COAP</tag>
        <tag>lwm2m</tag>
        <tag>åè®®</tag>
      </tags>
  </entry>
  <entry>
    <title>Androidç³»åˆ—ä¹‹å·¥å…·adb</title>
    <url>/2018/10/11/b305.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="å‰è®°"><a href="#å‰è®°" class="headerlink" title="å‰è®°"></a>å‰è®°</h2><hr>
<blockquote>
<p>é¦–å…ˆè¯´æ˜ä¸€ä¸‹ï¼Œä»¥ä¸‹çš„å†…å®¹éƒ½æ˜¯æˆ‘ä»ç½‘ä¸Šæ‰¾æ¥çš„ï¼Œä»…ä»…ä½œä¸ºç¬”è®°è®°å½•ã€‚</p>
</blockquote>
<h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><hr>
<ul>
<li><a href="https://github.com/mzlogin/awesome-adb">https://github.com/mzlogin/awesome-adb</a></li>
</ul>
<a id="more"></a>

<h2 id="ADB"><a href="#ADB" class="headerlink" title="ADB"></a>ADB</h2><h3 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h3><h3 id="å‘½ä»¤è¯­æ³•"><a href="#å‘½ä»¤è¯­æ³•" class="headerlink" title="å‘½ä»¤è¯­æ³•"></a>å‘½ä»¤è¯­æ³•</h3><p>adb å‘½ä»¤çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p>
<pre><code>adb [-d|-e|-s &lt;serialNumber&gt;] &lt;command&gt;</code></pre>
<p>å¦‚æœåªæœ‰ä¸€ä¸ªè®¾å¤‡/æ¨¡æ‹Ÿå™¨è¿æ¥æ—¶ï¼Œå¯ä»¥çœç•¥æ‰ [-d|-e|-s <serialNumber>] è¿™ä¸€éƒ¨åˆ†ï¼Œç›´æ¥ä½¿ç”¨ adb <command>ã€‚</p>
<h3 id="ä¸ºå‘½ä»¤æŒ‡å®šç›®æ ‡è®¾å¤‡"><a href="#ä¸ºå‘½ä»¤æŒ‡å®šç›®æ ‡è®¾å¤‡" class="headerlink" title="ä¸ºå‘½ä»¤æŒ‡å®šç›®æ ‡è®¾å¤‡"></a>ä¸ºå‘½ä»¤æŒ‡å®šç›®æ ‡è®¾å¤‡</h3><p>å¦‚æœæœ‰å¤šä¸ªè®¾å¤‡/æ¨¡æ‹Ÿå™¨è¿æ¥ï¼Œåˆ™éœ€è¦ä¸ºå‘½ä»¤æŒ‡å®šç›®æ ‡è®¾å¤‡ã€‚<br>å‚æ•°    å«ä¹‰</p>
<ul>
<li>-d    æŒ‡å®šå½“å‰å”¯ä¸€é€šè¿‡ USB è¿æ¥çš„ Android è®¾å¤‡ä¸ºå‘½ä»¤ç›®æ ‡</li>
<li>-e    æŒ‡å®šå½“å‰å”¯ä¸€è¿è¡Œçš„æ¨¡æ‹Ÿå™¨ä¸ºå‘½ä»¤ç›®æ ‡</li>
<li>-s <serialNumber>    æŒ‡å®šç›¸åº” serialNumber å·çš„è®¾å¤‡/æ¨¡æ‹Ÿå™¨ä¸ºå‘½ä»¤ç›®æ ‡</li>
</ul>
<p>åœ¨å¤šä¸ªè®¾å¤‡/æ¨¡æ‹Ÿå™¨è¿æ¥çš„æƒ…å†µä¸‹è¾ƒå¸¸ç”¨çš„æ˜¯ -s <serialNumber> å‚æ•°ï¼ŒserialNumber å¯ä»¥é€šè¿‡ adb devices å‘½ä»¤è·å–ã€‚å¦‚ï¼š</p>
<pre class=" language-sh"><code class="language-sh">$ adb devices

List of devices attached
cf264b8f    device
emulator-5554    device
10.129.164.6:5555    device</code></pre>
<p>è¾“å‡ºé‡Œçš„ <code>cf264b8f</code>ã€<code>emulator-5554</code> å’Œ <code>10.129.164.6:5555</code> å³ä¸º <strong>serialNumber</strong>ã€‚</p>
<p>æ¯”å¦‚è¿™æ—¶æƒ³æŒ‡å®š <code>cf264b8f</code> è¿™ä¸ªè®¾å¤‡æ¥è¿è¡Œ <code>adb</code> å‘½ä»¤è·å–å±å¹•åˆ†è¾¨ç‡ï¼š</p>
<pre><code>adb -s cf264b8f shell wm size</code></pre>
<p>åˆå¦‚æƒ³ç»™ <code>10.129.164.6:5555</code> è¿™ä¸ªè®¾å¤‡å®‰è£…åº”ç”¨ï¼ˆè¿™ç§å½¢å¼çš„ serialNumber æ ¼å¼ä¸º <code>&lt;IP&gt;:&lt;Port&gt;</code>ï¼Œä¸€èˆ¬ä¸ºæ— çº¿è¿æ¥çš„è®¾å¤‡æˆ– Genymotion ç­‰ç¬¬ä¸‰æ–¹ Android æ¨¡æ‹Ÿå™¨ï¼‰ï¼š</p>
<pre><code>adb -s 10.129.164.6:5555 install test.apk</code></pre>
<h3 id="å®‰è£…APK"><a href="#å®‰è£…APK" class="headerlink" title="å®‰è£…APK"></a>å®‰è£…APK</h3><p><strong>å‘½ä»¤æ ¼å¼ï¼š</strong></p>
<pre><code>adb install [-lrtsdg] &lt;path_to_apk&gt;</code></pre>
<p><strong>å‚æ•°:</strong></p>
<p><code>adb install</code> åé¢å¯ä»¥è·Ÿä¸€äº›å¯é€‰å‚æ•°æ¥æ§åˆ¶å®‰è£… APK çš„è¡Œä¸ºï¼Œå¯ç”¨å‚æ•°åŠå«ä¹‰å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th align="center">å‚æ•°</th>
<th align="left">å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-l</td>
<td align="left">å°†åº”ç”¨å®‰è£…åˆ°ä¿æŠ¤ç›®å½• <code>/mnt/asec</code></td>
</tr>
<tr>
<td align="center">-r</td>
<td align="left">å…è®¸è¦†ç›–å®‰è£…</td>
</tr>
<tr>
<td align="center">-t</td>
<td align="left">å…è®¸å®‰è£… <code>AndroidManifest.xml</code> é‡Œ <code>application</code> æŒ‡å®š <code>android:testOnly=&quot;true&quot;</code> çš„åº”ç”¨</td>
</tr>
<tr>
<td align="center">-s</td>
<td align="left">å°†åº”ç”¨å®‰è£…åˆ° <code>sdcard</code></td>
</tr>
<tr>
<td align="center">-d</td>
<td align="left">å…è®¸é™çº§è¦†ç›–å®‰è£…</td>
</tr>
<tr>
<td align="center">-g</td>
<td align="left">æˆäºˆæ‰€æœ‰è¿è¡Œæ—¶æƒé™</td>
</tr>
</tbody></table>
<p>è¿è¡Œå‘½ä»¤åå¦‚æœè§åˆ°ç±»ä¼¼å¦‚ä¸‹è¾“å‡ºï¼ˆçŠ¶æ€ä¸º Successï¼‰ä»£è¡¨å®‰è£…æˆåŠŸï¼š</p>
<pre><code>[100%] /data/local/tmp/1.apk
    pkg: /data/local/tmp/1.apk
Success</code></pre>
<p>ä¸Šé¢æ˜¯å½“å‰æœ€æ–°ç‰ˆ <code>v1.0.36</code> çš„ <code>adb</code> çš„è¾“å‡ºï¼Œä¼šæ˜¾ç¤º <code>push apk</code> æ–‡ä»¶åˆ°æ‰‹æœºçš„è¿›åº¦ç™¾åˆ†æ¯”ã€‚</p>
<p>ä½¿ç”¨æ—§ç‰ˆæœ¬ adb çš„è¾“å‡ºåˆ™æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code>12040 KB/s (22205609 bytes in 1.801s)
        pkg: /data/local/tmp/SogouInput_android_v8.3_sweb.apk
Success</code></pre>
<p>è€Œå¦‚æœçŠ¶æ€ä¸º <code>Failure</code> åˆ™è¡¨ç¤ºå®‰è£…å¤±è´¥ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code>[100%] /data/local/tmp/map-20160831.apk
        pkg: /data/local/tmp/map-20160831.apk
Failure [INSTALL_FAILED_ALREADY_EXISTS]</code></pre>
<p>å¸¸è§å®‰è£…å¤±è´¥è¾“å‡ºä»£ç ã€å«ä¹‰åŠå¯èƒ½çš„è§£å†³åŠæ³•å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th align="left">è¾“å‡º</th>
<th>å«ä¹‰</th>
<th>è§£å†³åŠæ³•</th>
</tr>
</thead>
<tbody><tr>
<td align="left">INSTALL_FAILED_ALREADY_EXISTS</td>
<td>åº”ç”¨å·²ç»å­˜åœ¨ï¼Œæˆ–å¸è½½äº†ä½†æ²¡å¸è½½å¹²å‡€</td>
<td><code>adb install</code> æ—¶ä½¿ç”¨ <code>-r</code> å‚æ•°ï¼Œæˆ–è€…å…ˆ <code>adb uninstall &lt;packagename&gt;</code> å†å®‰è£…</td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_INVALID_APK</td>
<td>æ— æ•ˆçš„ APK æ–‡ä»¶</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_INVALID_URI</td>
<td>æ— æ•ˆçš„ APK æ–‡ä»¶å</td>
<td>ç¡®ä¿ APK æ–‡ä»¶åé‡Œæ— ä¸­æ–‡</td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_INSUFFICIENT_STORAGE</td>
<td>ç©ºé—´ä¸è¶³</td>
<td>æ¸…ç†ç©ºé—´</td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_DUPLICATE_PACKAGE</td>
<td>å·²ç»å­˜åœ¨åŒåç¨‹åº</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_NO_SHARED_USER</td>
<td>è¯·æ±‚çš„å…±äº«ç”¨æˆ·ä¸å­˜åœ¨</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_UPDATE_INCOMPATIBLE</td>
<td>ä»¥å‰å®‰è£…è¿‡åŒååº”ç”¨ï¼Œä½†å¸è½½æ—¶æ•°æ®æ²¡æœ‰ç§»é™¤ï¼›æˆ–è€…å·²å®‰è£…è¯¥åº”ç”¨ï¼Œä½†ç­¾åä¸ä¸€è‡´</td>
<td>å…ˆ <code>adb uninstall &lt;packagename&gt;</code> å†å®‰è£…</td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_SHARED_USER_INCOMPATIBLE</td>
<td>è¯·æ±‚çš„å…±äº«ç”¨æˆ·å­˜åœ¨ä½†ç­¾åä¸ä¸€è‡´</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_MISSING_SHARED_LIBRARY</td>
<td>å®‰è£…åŒ…ä½¿ç”¨äº†è®¾å¤‡ä¸Šä¸å¯ç”¨çš„å…±äº«åº“</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_REPLACE_COULDNT_DELETE</td>
<td>æ›¿æ¢æ—¶æ— æ³•åˆ é™¤</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_DEXOPT</td>
<td>dex ä¼˜åŒ–éªŒè¯å¤±è´¥æˆ–ç©ºé—´ä¸è¶³</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_OLDER_SDK</td>
<td>è®¾å¤‡ç³»ç»Ÿç‰ˆæœ¬ä½äºåº”ç”¨è¦æ±‚</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_CONFLICTING_PROVIDER</td>
<td>è®¾å¤‡é‡Œå·²ç»å­˜åœ¨ä¸åº”ç”¨é‡ŒåŒåçš„ content provider</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_NEWER_SDK</td>
<td>è®¾å¤‡ç³»ç»Ÿç‰ˆæœ¬é«˜äºåº”ç”¨è¦æ±‚</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_TEST_ONLY</td>
<td>åº”ç”¨æ˜¯ test-only çš„ï¼Œä½†å®‰è£…æ—¶æ²¡æœ‰æŒ‡å®š <code>-t</code> å‚æ•°</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_CPU_ABI_INCOMPATIBLE</td>
<td>åŒ…å«ä¸å…¼å®¹è®¾å¤‡ CPU åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ¥å£çš„ native code</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_MISSING_FEATURE</td>
<td>åº”ç”¨ä½¿ç”¨äº†è®¾å¤‡ä¸å¯ç”¨çš„åŠŸèƒ½</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_CONTAINER_ERROR</td>
<td>1. sdcard è®¿é—®å¤±è´¥;<br />2. åº”ç”¨ç­¾åä¸ ROM ç­¾åä¸€è‡´ï¼Œè¢«å½“ä½œå†…ç½®åº”ç”¨ã€‚</td>
<td>1. ç¡®è®¤ sdcard å¯ç”¨ï¼Œæˆ–è€…å®‰è£…åˆ°å†…ç½®å­˜å‚¨;<br />2. æ‰“åŒ…æ—¶ä¸ä¸ ROM ä½¿ç”¨ç›¸åŒç­¾åã€‚</td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_INVALID_INSTALL_LOCATION</td>
<td>1. ä¸èƒ½å®‰è£…åˆ°æŒ‡å®šä½ç½®;<br />2. åº”ç”¨ç­¾åä¸ ROM ç­¾åä¸€è‡´ï¼Œè¢«å½“ä½œå†…ç½®åº”ç”¨ã€‚</td>
<td>1. åˆ‡æ¢å®‰è£…ä½ç½®ï¼Œæ·»åŠ æˆ–åˆ é™¤ <code>-s</code> å‚æ•°;<br />2. æ‰“åŒ…æ—¶ä¸ä¸ ROM ä½¿ç”¨ç›¸åŒç­¾åã€‚</td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_MEDIA_UNAVAILABLE</td>
<td>å®‰è£…ä½ç½®ä¸å¯ç”¨</td>
<td>ä¸€èˆ¬ä¸º sdcardï¼Œç¡®è®¤ sdcard å¯ç”¨æˆ–å®‰è£…åˆ°å†…ç½®å­˜å‚¨</td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_VERIFICATION_TIMEOUT</td>
<td>éªŒè¯å®‰è£…åŒ…è¶…æ—¶</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_VERIFICATION_FAILURE</td>
<td>éªŒè¯å®‰è£…åŒ…å¤±è´¥</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_PACKAGE_CHANGED</td>
<td>åº”ç”¨ä¸è°ƒç”¨ç¨‹åºæœŸæœ›çš„ä¸ä¸€è‡´</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_UID_CHANGED</td>
<td>ä»¥å‰å®‰è£…è¿‡è¯¥åº”ç”¨ï¼Œä¸æœ¬æ¬¡åˆ†é…çš„ UID ä¸ä¸€è‡´</td>
<td>æ¸…é™¤ä»¥å‰å®‰è£…è¿‡çš„æ®‹ç•™æ–‡ä»¶</td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_VERSION_DOWNGRADE</td>
<td>å·²ç»å®‰è£…äº†è¯¥åº”ç”¨æ›´é«˜ç‰ˆæœ¬</td>
<td>ä½¿ç”¨ <code>-d</code> å‚æ•°</td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_PERMISSION_MODEL_DOWNGRADE</td>
<td>å·²å®‰è£… target SDK æ”¯æŒè¿è¡Œæ—¶æƒé™çš„åŒååº”ç”¨ï¼Œè¦å®‰è£…çš„ç‰ˆæœ¬ä¸æ”¯æŒè¿è¡Œæ—¶æƒé™</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_PARSE_FAILED_NOT_APK</td>
<td>æŒ‡å®šè·¯å¾„ä¸æ˜¯æ–‡ä»¶ï¼Œæˆ–ä¸æ˜¯ä»¥ <code>.apk</code> ç»“å°¾</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_PARSE_FAILED_BAD_MANIFEST</td>
<td>æ— æ³•è§£æçš„ AndroidManifest.xml æ–‡ä»¶</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_PARSE_FAILED_UNEXPECTED_EXCEPTION</td>
<td>è§£æå™¨é‡åˆ°å¼‚å¸¸</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_PARSE_FAILED_NO_CERTIFICATES</td>
<td>å®‰è£…åŒ…æ²¡æœ‰ç­¾å</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_PARSE_FAILED_INCONSISTENT_CERTIFICATES</td>
<td>å·²å®‰è£…è¯¥åº”ç”¨ï¼Œä¸”ç­¾åä¸ APK æ–‡ä»¶ä¸ä¸€è‡´</td>
<td>å…ˆå¸è½½è®¾å¤‡ä¸Šçš„è¯¥åº”ç”¨ï¼Œå†å®‰è£…</td>
</tr>
<tr>
<td align="left">INSTALL_PARSE_FAILED_CERTIFICATE_ENCODING</td>
<td>è§£æ APK æ–‡ä»¶æ—¶é‡åˆ° <code>CertificateEncodingException</code></td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_PARSE_FAILED_BAD_PACKAGE_NAME</td>
<td>manifest æ–‡ä»¶é‡Œæ²¡æœ‰æˆ–è€…ä½¿ç”¨äº†æ— æ•ˆçš„åŒ…å</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_PARSE_FAILED_BAD_SHARED_USER_ID</td>
<td>manifest æ–‡ä»¶é‡ŒæŒ‡å®šäº†æ— æ•ˆçš„å…±äº«ç”¨æˆ· ID</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_PARSE_FAILED_MANIFEST_MALFORMED</td>
<td>è§£æ manifest æ–‡ä»¶æ—¶é‡åˆ°ç»“æ„æ€§é”™è¯¯</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_PARSE_FAILED_MANIFEST_EMPTY</td>
<td>åœ¨ manifest æ–‡ä»¶é‡Œæ‰¾ä¸åˆ°æ‰¾å¯æ“ä½œæ ‡ç­¾ï¼ˆinstrumentation æˆ– applicationï¼‰</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_INTERNAL_ERROR</td>
<td>å› ç³»ç»Ÿé—®é¢˜å®‰è£…å¤±è´¥</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_USER_RESTRICTED</td>
<td>ç”¨æˆ·è¢«é™åˆ¶å®‰è£…åº”ç”¨</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_DUPLICATE_PERMISSION</td>
<td>åº”ç”¨å°è¯•å®šä¹‰ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æƒé™åç§°</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_NO_MATCHING_ABIS</td>
<td>åº”ç”¨åŒ…å«è®¾å¤‡çš„åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ¥å£ä¸æ”¯æŒçš„ native code</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_CANCELED_BY_USER</td>
<td>åº”ç”¨å®‰è£…éœ€è¦åœ¨è®¾å¤‡ä¸Šç¡®è®¤ï¼Œä½†æœªæ“ä½œè®¾å¤‡æˆ–ç‚¹äº†å–æ¶ˆ</td>
<td>åœ¨è®¾å¤‡ä¸ŠåŒæ„å®‰è£…</td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_ACWF_INCOMPATIBLE</td>
<td>åº”ç”¨ç¨‹åºä¸è®¾å¤‡ä¸å…¼å®¹</td>
<td></td>
</tr>
<tr>
<td align="left">INSTALL_FAILED_TEST_ONLY</td>
<td>APK æ–‡ä»¶æ˜¯ä½¿ç”¨ Android Studio ç›´æ¥ RUN ç¼–è¯‘å‡ºæ¥çš„æ–‡ä»¶</td>
<td>é€šè¿‡ Gradle çš„ assembleDebug æˆ– assembleRelease é‡æ–°ç¼–è¯‘ï¼Œæˆ–è€… Generate Signed APK</td>
</tr>
<tr>
<td align="left">does not contain AndroidManifest.xml</td>
<td>æ— æ•ˆçš„ APK æ–‡ä»¶</td>
<td></td>
</tr>
<tr>
<td align="left">is not a valid zip file</td>
<td>æ— æ•ˆçš„ APK æ–‡ä»¶</td>
<td></td>
</tr>
<tr>
<td align="left">Offline</td>
<td>è®¾å¤‡æœªè¿æ¥æˆåŠŸ</td>
<td>å…ˆå°†è®¾å¤‡ä¸ adb è¿æ¥æˆåŠŸ</td>
</tr>
<tr>
<td align="left">unauthorized</td>
<td>è®¾å¤‡æœªæˆæƒå…è®¸è°ƒè¯•</td>
<td></td>
</tr>
<tr>
<td align="left">error: device not found</td>
<td>æ²¡æœ‰è¿æ¥æˆåŠŸçš„è®¾å¤‡</td>
<td>å…ˆå°†è®¾å¤‡ä¸ adb è¿æ¥æˆåŠŸ</td>
</tr>
<tr>
<td align="left">protocol failure</td>
<td>è®¾å¤‡å·²æ–­å¼€è¿æ¥</td>
<td>å…ˆå°†è®¾å¤‡ä¸ adb è¿æ¥æˆåŠŸ</td>
</tr>
<tr>
<td align="left">Unknown option: -s</td>
<td>Android 2.2 ä»¥ä¸‹ä¸æ”¯æŒå®‰è£…åˆ° sdcard</td>
<td>ä¸ä½¿ç”¨ <code>-s</code> å‚æ•°</td>
</tr>
<tr>
<td align="left">No space left on device</td>
<td>ç©ºé—´ä¸è¶³</td>
<td>æ¸…ç†ç©ºé—´</td>
</tr>
<tr>
<td align="left">Permission denied â€¦ sdcard â€¦</td>
<td>sdcard ä¸å¯ç”¨</td>
<td></td>
</tr>
<tr>
<td align="left">signatures do not match the previously installed version; ignoring!</td>
<td>å·²å®‰è£…è¯¥åº”ç”¨ä¸”ç­¾åä¸ä¸€è‡´</td>
<td>å…ˆå¸è½½è®¾å¤‡ä¸Šçš„è¯¥åº”ç”¨ï¼Œå†å®‰è£…</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Androidï¼Œadb</tag>
      </tags>
  </entry>
  <entry>
    <title>ESP8266ç³»åˆ—-12Få¼•è„šè¯´æ˜</title>
    <url>/2017/08/06/53ce.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ESP8266-12F-æ¨¡ç»„å›¾"><a href="#ESP8266-12F-æ¨¡ç»„å›¾" class="headerlink" title="ESP8266-12F æ¨¡ç»„å›¾"></a>ESP8266-12F æ¨¡ç»„å›¾</h2><p><img src="/images/pasted-14.png" alt="ç¡¬ä»¶æ¨¡ç»„å›¾"><br><img src="/images/pasted-13.png" alt="esp12fç®¡è„šå®šä¹‰å›¾"></p>
<a id="more"></a>
<h2 id="å¼•è„šè¯´æ˜"><a href="#å¼•è„šè¯´æ˜" class="headerlink" title="å¼•è„šè¯´æ˜"></a>å¼•è„šè¯´æ˜</h2><table>
<thead>
<tr>
<th align="center">å¼•è„šç¼–å·</th>
<th align="left">å¼•è„šå</th>
<th align="left">å¼•è„šæè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="left">RST</td>
<td align="left">å¤ä½æ¨¡ç»„</td>
</tr>
<tr>
<td align="center">2</td>
<td align="left">ADC</td>
<td align="left">A/D è½¬æ¢ç»“æœã€‚è¾“å…¥ç”µå‹èŒƒå›´ 0ï½1Vï¼Œå–å€¼èŒƒå›´ï¼š0ï½1024</td>
</tr>
<tr>
<td align="center">3</td>
<td align="left">EN</td>
<td align="left">èŠ¯ç‰‡ä½¿èƒ½ç«¯ï¼Œé«˜ç”µå¹³æœ‰æ•ˆ</td>
</tr>
<tr>
<td align="center">4</td>
<td align="left">IO16</td>
<td align="left">GPIO16; æ¥åˆ° RST ç®¡è„šæ—¶å¯åš deep sleep çš„å”¤é†’ã€‚</td>
</tr>
<tr>
<td align="center">5</td>
<td align="left">IO14</td>
<td align="left">GPIO14; HSPI_CLK</td>
</tr>
<tr>
<td align="center">6</td>
<td align="left">IO12</td>
<td align="left">GPIO12; HSPI_MISO</td>
</tr>
<tr>
<td align="center">7</td>
<td align="left">IO13</td>
<td align="left">GPIO13; HSPI_MOSI; UART0_CTS</td>
</tr>
<tr>
<td align="center">8</td>
<td align="left">VCC</td>
<td align="left">3.3V ä¾›ç”µ</td>
</tr>
<tr>
<td align="center">9</td>
<td align="left">CS0</td>
<td align="left">ç‰‡é€‰</td>
</tr>
<tr>
<td align="center">10</td>
<td align="left">MISO</td>
<td align="left">ä»æœºè¾“å‡ºä¸»æœºè¾“å…¥</td>
</tr>
<tr>
<td align="center">11</td>
<td align="left">IO9</td>
<td align="left">GPIO9</td>
</tr>
<tr>
<td align="center">12</td>
<td align="left">IO10</td>
<td align="left">GBIO10</td>
</tr>
<tr>
<td align="center">13</td>
<td align="left">MOSI</td>
<td align="left">ä¸»æœºè¾“å‡ºä»æœºè¾“å…¥</td>
</tr>
<tr>
<td align="center">14</td>
<td align="left">SCLK</td>
<td align="left">æ—¶é’Ÿ</td>
</tr>
<tr>
<td align="center">15</td>
<td align="left">GND</td>
<td align="left">GND</td>
</tr>
<tr>
<td align="center">16</td>
<td align="left">IO15</td>
<td align="left">GPIO15; MTDO; HSPICS; UART0_RTS</td>
</tr>
<tr>
<td align="center">17</td>
<td align="left">IO2</td>
<td align="left">GPIO2; UART1_TXD</td>
</tr>
<tr>
<td align="center">18</td>
<td align="left">IO0</td>
<td align="left">GPIO0</td>
</tr>
<tr>
<td align="center">19</td>
<td align="left">IO4</td>
<td align="left">GPIO4</td>
</tr>
<tr>
<td align="center">20</td>
<td align="left">IO5</td>
<td align="left">GPIO5</td>
</tr>
<tr>
<td align="center">21</td>
<td align="left">RXD</td>
<td align="left">UART0_RXD; GPIO3</td>
</tr>
<tr>
<td align="center">22</td>
<td align="left">TXD</td>
<td align="left">UART0_TXD; GPIO1</td>
</tr>
</tbody></table>
<h2 id="æ¥å£è¯´æ˜"><a href="#æ¥å£è¯´æ˜" class="headerlink" title="æ¥å£è¯´æ˜"></a>æ¥å£è¯´æ˜</h2><table>
<thead>
<tr>
<th align="center">å¼•è„šå</th>
<th align="left">å¼•è„š</th>
<th align="left">åŠŸèƒ½æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="center">HSPI æ¥</td>
<td align="left">IO12(MISO),IO13(MOSI), IO14(CLK),IO15(CS)</td>
<td align="left">å¯å¤–æ¥ 4SPI Flashã€æ˜¾ç¤ºå±å’Œ MCU ç­‰ã€‚</td>
</tr>
<tr>
<td align="center">PWM  æ¥</td>
<td align="left">IO12(R), IO15(G),IO13(B)</td>
<td align="left">demo ä¸­æä¾› 4 è·¯ PWM (ç”¨æˆ·å¯è‡ªè¡Œæ‰©å±•è‡³ 8 è·¯)ï¼Œå¯ç”¨æ¥æ§åˆ¶å½©ç¯ï¼Œèœ‚é¸£å™¨ï¼Œç»§ç”µå™¨åŠç”µæœºç­‰ã€‚</td>
</tr>
<tr>
<td align="center">IR   æ¥</td>
<td align="left">IO14(IR_T), IO5(IR_R)</td>
<td align="left">IR Remote Control4 æ¥å£ç”±è½¯ä»¶å®ç°ï¼Œæ¥å£ä½¿ç”¨ NEC ç¼–ç åŠè°ƒåˆ¶è§£è°ƒï¼Œé‡‡ç”¨ 38KHz çš„è°ƒåˆ¶è½½æ³¢ã€‚</td>
</tr>
<tr>
<td align="center">ADC  æ¥</td>
<td align="left">TOUT</td>
<td align="left">å¯äºæ£€æµ‹ VDD3P3 (Pin3,Pin4) ç”µæºç”µå‹å’Œ TOUT (Pin6)çš„è¾“å…¥ç”µå‹(äºŒè€…ä¸å¯åŒæ—¶ä½¿ç”¨)ã€‚å¯ç”¨äºä¼ æ„Ÿå™¨ç­‰åº”ç”¨ã€‚</td>
</tr>
<tr>
<td align="center">I2C  æ¥</td>
<td align="left">IO14(SCL), IO2(SDA)</td>
<td align="left">å¯å¤–æ¥ä¼ æ„Ÿå™¨åŠæ˜¾ç¤ºå±ç­‰</td>
</tr>
<tr>
<td align="center">UART æ¥</td>
<td align="left">UART0: TXD(U0TXD),RXD(U0RXD), IO15(RTS),IO13(CTS),UART1: IO2(TXD)</td>
<td align="left">å¯å¤–æ¥ UART æ¥å£çš„è®¾å¤‡ã€‚ä¸‹è½½ï¼šU0TXD+U0RXD æˆ–è€… GPIO2+U0RXDé€šä¿¡(UART0)ï¼šU0TXDï¼ŒU0RXDï¼ŒMTDO(U0RTS)ï¼ŒMTCK(U0CTS) Debug: UART1_TXD(GPIO2)å¯ä½œä¸º debug ä¿¡æ¯çš„æ‰“å°ã€‚</td>
</tr>
<tr>
<td align="center">-</td>
<td align="left">-</td>
<td align="left">UART0 åœ¨ ESP8266EX ä¸Šç”µé»˜è®¤ä¼šè¾“å‡ºä¸€äº›æ‰“å°ä¿¡æ¯ã€‚å¯¹æ­¤æ•æ„Ÿçš„åº”ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ UART çš„å†…éƒ¨å¼•è„šäº¤æ¢åŠŸèƒ½ï¼Œåœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œå°†U0TXDï¼ŒU0RXD åˆ†åˆ«ä¸ U0RTSï¼ŒU0CTS äº¤æ¢ã€‚ç¡¬ä»¶ä¸Šå°† MTDO MTCK è¿æ¥åˆ°å¯¹åº”çš„ å¤–éƒ¨ MCU çš„ä¸²è¿›è¡Œé€šä¿¡ã€‚</td>
</tr>
<tr>
<td align="center">I2S æ¥</td>
<td align="left">I2S è¾“å…¥ï¼šIO12 (I2SI_DATA) ;IO13 (I2SI_BCK );IO14 (I2SI_WS);</td>
<td align="left">ä¸»è¦äºéŸ³é¢‘é‡‡é›†ã€å¤„ç†å’Œä¼ è¾“ã€‚</td>
</tr>
<tr>
<td align="center">I2S æ¥</td>
<td align="left">I2S è¾“å‡ºï¼šIO15 (I2SO_BCK );IO3 (I2SO_DATA);IO2 (I2SO_WS ).</td>
<td align="left">ä¸»è¦äºéŸ³é¢‘é‡‡é›†ã€å¤„ç†å’Œä¼ è¾“ã€‚</td>
</tr>
</tbody></table>
<h2 id="ESP8266-SPI-è¯´æ˜"><a href="#ESP8266-SPI-è¯´æ˜" class="headerlink" title="ESP8266 SPI è¯´æ˜"></a>ESP8266 SPI è¯´æ˜</h2><p>ESP8266 æœ‰ä¸¤ç»„ SPI é€šä¿¡æ¨¡å—å‘½ååˆ†åˆ«ä¸º SPI ä¸ HSPIã€‚</p>
<ul>
<li>SPI é€šå¸¸ä¸“äºä»å¤–éƒ¨ Flash è¯»å– CPU ç¨‹åºä»£ç ã€‚</li>
<li>HSPI åˆ™ç”¨äºç”¨æˆ·å’Œ SPI è®¾å¤‡çš„é€šä¿¡æ“ä½œã€‚</li>
</ul>
]]></content>
      <categories>
        <category>esp8266</category>
      </categories>
      <tags>
        <tag>esp8266</tag>
      </tags>
  </entry>
  <entry>
    <title>Dockerç³»åˆ—-åŸºç¡€å…¥é—¨</title>
    <url>/2017/10/09/e119.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>[ TOP ]</p>
<h2 id="å®˜ç½‘"><a href="#å®˜ç½‘" class="headerlink" title="å®˜ç½‘"></a>å®˜ç½‘</h2><hr>
<p><a href="https://www.docker.com/">https://www.docker.com</a><br><a href="https://hub.docker.com/">https://hub.docker.com/</a></p>
<a id="more"></a>

<h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><hr>
<ul>
<li> å¸®åŠ©å‘½ä»¤</li>
</ul>
<pre><code># æŸ¥çœ‹run å‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯
docker run --help</code></pre>
<ul>
<li> æ˜¾ç¤º Docker ç‰ˆæœ¬ä¿¡æ¯ã€‚</li>
</ul>
<pre><code>docker version</code></pre>
<ul>
<li>æ˜¾ç¤º Docker ç³»ç»Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬é•œåƒå’Œå®¹å™¨æ•°ã€‚</li>
</ul>
<pre><code>docker info</code></pre>
<h3 id="é•œåƒç›¸å…³"><a href="#é•œåƒç›¸å…³" class="headerlink" title="é•œåƒç›¸å…³"></a>é•œåƒç›¸å…³</h3><hr>
<ul>
<li>æŸ¥çœ‹é•œåƒ</li>
</ul>
<pre><code>docker images</code></pre>
<ul>
<li> æŸ¥çœ‹é•œåƒè¯¦ç»†ä¿¡æ¯</li>
</ul>
<pre><code>docker inspect &lt;IMAGE ID&gt;</code></pre>
<ul>
<li>æœç´¢é•œåƒ</li>
</ul>
<p>å¯ä»¥åˆ°docker hub æˆ–è€…å‘½ä»¤è¡Œæœç´¢<br><a href="https://hub.docker.com/">https://hub.docker.com/</a></p>
<pre><code>alex@Alex î‚° ~ î‚° docker search ubuntu
NAME                                                   DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
ubuntu                                                 Ubuntu is a Debian-based Linux operating s...   6645      [OK]
dorowu/ubuntu-desktop-lxde-vnc                         Ubuntu with openssh-server and NoVNC            131                  [OK]
rastasheep/ubuntu-sshd                                 Dockerized SSH service, built on top of of...   105                  [OK]
ansible/ubuntu14.04-ansible                            Ubuntu 14.04 LTS with ansible                   87                   [OK]</code></pre>
<ul>
<li>ä¸‹è½½é•œåƒ</li>
</ul>
<pre><code>docker pull ubuntu</code></pre>
<ul>
<li>åˆ é™¤é•œåƒ</li>
</ul>
<pre><code>docker rmi &lt;IMAGE_ID&gt;</code></pre>
<ul>
<li>å®¹å™¨å¯¼å‡º(ä¿å­˜å½“å‰çš„å®¹å™¨ä¸ºä¸€ä¸ªé•œåƒ)</li>
</ul>
<p><strong>è¯­æ³•:</strong></p>
<pre><code>docker save [OPTIONS] IMAGE [IMAGE...]</code></pre>
<h3 id="å®¹å™¨ç›¸å…³"><a href="#å®¹å™¨ç›¸å…³" class="headerlink" title="å®¹å™¨ç›¸å…³"></a>å®¹å™¨ç›¸å…³</h3><hr>
<ul>
<li>dockerå’Œå®¿ä¸»æœºä¹‹é—´å¤åˆ¶æ–‡ä»¶</li>
</ul>
<pre class=" language-shell"><code class="language-shell"># ä»ä¸»æœºå¤åˆ¶åˆ°å®¹å™¨
sudo docker cp host_path containerID:container_path
# ä»å®¹å™¨å¤åˆ¶åˆ°ä¸»æœº
sudo docker cp containerID:container_path host_path
# å®¹å™¨IDçš„æŸ¥è¯¢æ–¹æ³•æƒ³å¿…å¤§å®¶éƒ½æ¸…æ¥š:docker ps -a</code></pre>
<ul>
<li>åˆ—å‡ºå®¹å™¨</li>
</ul>
<pre><code>docker ps - Lists containers.
-lï¼šæ˜¾ç¤ºæœ€åå¯åŠ¨çš„å®¹å™¨
-aï¼šåŒæ—¶æ˜¾ç¤ºåœæ­¢çš„å®¹å™¨ï¼Œé»˜è®¤åªæ˜¾ç¤ºå¯åŠ¨çŠ¶æ€</code></pre>
<ul>
<li>åœæ­¢ã€å¯åŠ¨ã€æ€æ­»ä¸€ä¸ªå®¹å™¨</li>
</ul>
<pre><code>$docker stop  Name/CONTAINER_ID
$docker start Name/CONTAINER_ID
$docker kill  Name/CONTAINER_ID</code></pre>
<ul>
<li>åˆ é™¤æ‰€æœ‰å®¹å™¨</li>
</ul>
<pre><code>$docker rm `docker ps -a -q`</code></pre>
<ul>
<li>åˆ é™¤æŒ‡å®šå®¹å™¨</li>
</ul>
<pre><code>$docker rm Name/CONTAINER_ID</code></pre>
<ul>
<li>åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¹¶è¿è¡Œä¸€ä¸ªå‘½ä»¤</li>
</ul>
<pre><code>docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</code></pre>
<p><strong>OPTIONSï¼š</strong></p>
<ul>
<li>-a stdin : æŒ‡å®šæ ‡å‡†è¾“å…¥è¾“å‡ºå†…å®¹ç±»å‹ï¼Œå¯é€‰ STDIN/STDOUT/STDERR ä¸‰é¡¹ï¼›</li>
<li>-d : åå°è¿è¡Œå®¹å™¨ï¼Œå¹¶è¿”å›å®¹å™¨IDï¼›</li>
<li>-i : ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸ -t åŒæ—¶ä½¿ç”¨ï¼›</li>
<li>-t : ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨ï¼›</li>
<li>--name=â€nginx-lbâ€ : ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§°ï¼›</li>
<li>--dns 8.8.8.8 : æŒ‡å®šå®¹å™¨ä½¿ç”¨çš„DNSæœåŠ¡å™¨ï¼Œé»˜è®¤å’Œå®¿ä¸»ä¸€è‡´ï¼›</li>
<li>--dns-search example.com : æŒ‡å®šå®¹å™¨DNSæœç´¢åŸŸåï¼Œé»˜è®¤å’Œå®¿ä¸»ä¸€è‡´ï¼›</li>
<li>-h â€œmarsâ€ : æŒ‡å®šå®¹å™¨çš„hostnameï¼›</li>
<li>-e username=â€ritchieâ€ : è®¾ç½®ç¯å¢ƒå˜é‡ï¼›</li>
<li>--env-file=[] : ä»æŒ‡å®šæ–‡ä»¶è¯»å…¥ç¯å¢ƒå˜é‡ï¼›</li>
<li>--cpuset=â€0-2â€ or â€“cpuset=â€0,1,2â€ : ç»‘å®šå®¹å™¨åˆ°æŒ‡å®šCPUè¿è¡Œï¼›</li>
<li>-m : è®¾ç½®å®¹å™¨ä½¿ç”¨å†…å­˜æœ€å¤§å€¼ï¼›</li>
<li>--net=â€bridgeâ€ : æŒ‡å®šå®¹å™¨çš„ç½‘ç»œè¿æ¥ç±»å‹ï¼Œæ”¯æŒ bridge/host/none/container: å››ç§ç±»å‹ï¼›</li>
<li>--link=[] : æ·»åŠ é“¾æ¥åˆ°å¦ä¸€ä¸ªå®¹å™¨ï¼›</li>
<li>--expose=[] : å¼€æ”¾ä¸€ä¸ªç«¯å£æˆ–ä¸€ç»„ç«¯å£ï¼›</li>
<li>--rm : é€€å‡ºæ—¶åˆ é™¤å®¹å™¨</li>
<li>-v : æŒ‚è½½ç›®å½•ï¼Œå†’å·å‰ä¸ºå®¿ä¸»æœºç›®å½•ï¼Œå¿…é¡»ä¸ºç»å¯¹è·¯å¾„ï¼Œå†’å·åä¸ºé•œåƒå†…æŒ‚è½½çš„è·¯å¾„</li>
<li>--device /dev/ttyUSB0:/dev/ttyUSB0 : æŒ‡å®šäº†å®¿ä¸»æœºçš„ä¸²å£è®¾å¤‡ä»¥åŠå®¹å™¨çš„æ˜ å°„ä¸²å£è®¾å¤‡</li>
<li>--privileged : Dockerå°†æ‹¥æœ‰è®¿é—®ä¸»æœºæ‰€æœ‰è®¾å¤‡çš„æƒé™</li>
</ul>
<p><strong>ä¾‹å­</strong></p>
<ul>
<li>1.ä½¿ç”¨dockeré•œåƒnginx:latestä»¥åå°æ¨¡å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨,å¹¶å°†å®¹å™¨å‘½åä¸ºmynginxã€‚</li>
</ul>
<pre><code>docker run --name mynginx -d nginx:latest</code></pre>
<ul>
<li>2.ä½¿ç”¨é•œåƒnginx:latestä»¥åå°æ¨¡å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨,å¹¶å°†å®¹å™¨çš„80ç«¯å£æ˜ å°„åˆ°ä¸»æœºéšæœºç«¯å£ã€‚</li>
</ul>
<pre><code>docker run -P -d nginx:latest</code></pre>
<ul>
<li>3.ä½¿ç”¨é•œåƒnginx:latestä»¥åå°æ¨¡å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨,å°†å®¹å™¨çš„80ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„80ç«¯å£,ä¸»æœºçš„ç›®å½•/dataæ˜ å°„åˆ°å®¹å™¨çš„/dataã€‚</li>
</ul>
<pre><code>docker run -p 80:80 -v /data:/data -d nginx:latest</code></pre>
<ul>
<li>4.ä½¿ç”¨é•œåƒnginx:latestä»¥äº¤äº’æ¨¡å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨,åœ¨å®¹å™¨å†…æ‰§è¡Œ/bin/bashå‘½ä»¤ã€‚</li>
</ul>
<pre><code>runoob@runoob:~$ docker run -it nginx:latest /bin/bash
root@b8573233d675:/#</code></pre>
<ul>
<li><p> è¿›å…¥ä¸€ä¸ªå¼€å¯çš„å®¹å™¨</p>
</li>
<li><ul>
<li><strong>æ–¹æ³•ä¸€ï¼š</strong><br><em>ä½¿ç”¨è¯¥å‘½ä»¤æœ‰ä¸€ä¸ªé—®é¢˜ã€‚å½“å¤šä¸ªçª—å£åŒæ—¶ä½¿ç”¨è¯¥å‘½ä»¤è¿›å…¥è¯¥å®¹å™¨æ—¶ï¼Œæ‰€æœ‰çš„çª—å£éƒ½ä¼šåŒæ­¥æ˜¾ç¤ºã€‚å¦‚æœæœ‰ä¸€ä¸ªçª—å£é˜»å¡äº†ï¼Œé‚£ä¹ˆå…¶ä»–çª—å£ä¹Ÿæ— æ³•å†è¿›è¡Œæ“ä½œã€‚</em> <strong>(é€‚åˆä¸ªäººå¼€å‘)</strong></li>
</ul>
</li>
</ul>
<pre><code>docker attach &lt;CONTAINER_ID&gt;</code></pre>
<ul>
<li><ul>
<li> <strong>æ–¹æ³•äºŒ:</strong><br><em>ä½¿ç”¨docker execè¿›å…¥Dockerå®¹å™¨</em></li>
</ul>
</li>
</ul>
<pre><code>$ sudo docker ps
$ sudo docker exec -it &lt;CONTAINER_ID&gt; /bin/bash</code></pre>
<h2 id="ç½‘ç»œç®¡ç†"><a href="#ç½‘ç»œç®¡ç†" class="headerlink" title="ç½‘ç»œç®¡ç†"></a>ç½‘ç»œç®¡ç†</h2><hr>
<p>æ–°çš„linux æ²¡æœ‰å¸¦ <strong>ifconfig</strong> å‘½ä»¤,è€Œæ˜¯ç”¨<strong>ip</strong> å‘½ä»¤ä»£æ›¿<br>å¦‚æœæƒ³ä½¿å‘˜å·¥__ifconfig___ å°±è¦å®‰è£…</p>
<pre><code>apt-get install net-tools</code></pre>
<h3 id="ç½‘ç»œå‘½ä»¤ä»‹ç»"><a href="#ç½‘ç»œå‘½ä»¤ä»‹ç»" class="headerlink" title="ç½‘ç»œå‘½ä»¤ä»‹ç»"></a>ç½‘ç»œå‘½ä»¤ä»‹ç»</h3><ul>
<li>iptables</li>
</ul>
<pre><code># è¿›è¡Œå®‰è£…
apt-get install iptables</code></pre>
<h2 id="æ–°é•œåƒåˆ›å»º"><a href="#æ–°é•œåƒåˆ›å»º" class="headerlink" title="æ–°é•œåƒåˆ›å»º"></a>æ–°é•œåƒåˆ›å»º</h2><hr>
<blockquote>
<p>åŸºäºæŸä¸ªé•œåƒè¿è¡Œèµ·æ¥ä¹‹åï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒ</p>
</blockquote>
<ul>
<li>è¿è¡ŒæŸä¸ªé•œåƒ(<strong>ubuntu:v1</strong>)</li>
</ul>
<pre><code>docker run -it ubuntu:v1 /bin/bash-</code></pre>
<ul>
<li>å¯¹é•œåƒè¿›è¡Œä¿®æ”¹(<strong>å®‰è£…ping å‘½ä»¤</strong>)</li>
</ul>
<pre><code>apt-get install inetutils-ping</code></pre>
<ul>
<li>é€€å‡ºå®¹å™¨ï¼ŒæŸ¥çœ‹å®¹å™¨ID</li>
</ul>
<pre><code>docker ps -a</code></pre>
<ul>
<li> commit docker å®¹å™¨çš„ä¿®æ”¹(<strong>alexubuntu:</strong> ä¸ºä¿®æ”¹åæ–°çš„é•œåƒåç§°)</li>
</ul>
<pre><code>docker commit -m &quot;add hello.c&quot; -a &quot;AlexLin&quot; 04727fbe69a3 alexubuntu</code></pre>
<ul>
<li>æŸ¥çœ‹æ–°é•œåƒä¿¡æ¯</li>
</ul>
<pre><code>âœ˜ alex@Alex î‚° ~ î‚° docker images alexubuntu
REPOSITORY          TAG                 IMAGE ID            CREATED              SIZE
alexubuntu          latest              780ea1933dc9        About a minute ago   163.5 MB</code></pre>
<ul>
<li> å¯¼å‡ºæœ€æ–°çš„é•œåƒ(<strong>save æ–¹å¼</strong>)</li>
</ul>
<pre><code>docker save -o alexubuntu.tar alexubuntu</code></pre>
<ul>
<li>å¯¼å…¥é•œåƒ(<strong>load æ–¹å¼</strong>)</li>
</ul>
<pre><code>docker load&lt;alexubuntu.tar</code></pre>
<ul>
<li>æŸ¥çœ‹</li>
</ul>
<pre><code>alex@Alex î‚° ~ î‚° docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
alexubuntu          latest              780ea1933dc9        3 minutes ago       163.5 MB
ubuntu              v1                  41269ec1cc87        23 minutes ago      163.5 MB</code></pre>
<ul>
<li>ä½¿ç”¨ export å’Œ import å‘½ä»¤</li>
<li>é€‰æ‹©è¦å¯¼å‡ºçš„é•œåƒ CONTAINER ID</li>
</ul>
<pre><code>alex@Alex î‚° ~ î‚° docker ps -a
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                         PORTS               NAMES
65cd9e63d321        ubuntu:v1           &quot;/bin/bash&quot;         11 minutes ago      Exited (0) 11 minutes ago                          grave_panini
04727fbe69a3        ubuntu:v1           &quot;/bin/bash&quot;         About an hour ago   Up About an hour                                   elated_poincare
591034c72b82        ubuntu              &quot;/bin/bash&quot;         3 hours ago         Exited (0) About an hour ago                       nauseous_tesla</code></pre>
<ul>
<li> å¯¼å‡ºé•œåƒ</li>
</ul>
<pre><code>alex@Alex î‚° ~ î‚° docker export 65cd9e63d321&gt;newubuntu.tar
alex@Alex î‚° ~ î‚° ll newubuntu.tar
-rw-r--r--  1 alex  staff   128M 10  7 22:09 newubuntu.tar</code></pre>
<ul>
<li>å¯¼å…¥é•œåƒ(<strong>newubuntu:ä¸ºé•œåƒåç§°</strong>)</li>
</ul>
<pre><code>âœ˜ alex@Alex î‚° ~ î‚° cat newubuntu.tar | docker import - newubuntu
sha256:ecc200f7c4c3a6b1249708c46a627e54dc81ad5e3370ce9d57ad3b413e73e6c0</code></pre>
<ul>
<li>æŸ¥çœ‹</li>
</ul>
<pre><code>âœ˜ alex@Alex î‚° ~ î‚° docker images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
newubuntu           latest              ecc200f7c4c3        20 seconds ago      129.9 MB</code></pre>
<h3 id="Dockerä¸­export-save-çš„åŒºåˆ«"><a href="#Dockerä¸­export-save-çš„åŒºåˆ«" class="headerlink" title="Dockerä¸­export save çš„åŒºåˆ«"></a>Dockerä¸­export save çš„åŒºåˆ«</h3><p><strong>export :</strong> æ˜¯åŸºäºå½“å‰å®¹å™¨çš„æœ€æ–°çŠ¶æ€ï¼Œå¯¼å‡ºæ¥çš„ä¸€ä¸ªé•œåƒï¼Œä¸ä¼šä¿ç•™å†å²ç‰ˆæœ¬ä¿¡æ¯ï¼Œæ‰€ä»¥ä½“ç§¯ä¼šæ¯”è¾ƒè½»ï¼›<br><strong>save :</strong> æ˜¯é’ˆå¯¹é•œåƒimages,å¯¼å‡ºæ¥çš„ï¼Œä¼šæŠŠé•œåƒçš„å†å²ä¹Ÿä¸€è‡´å¯¼å…¥åˆ°æ–°çš„é•œåƒä¸­ï¼Œå¯ä»¥å›æ»šä»¥å‰çš„é…ç½® ,æ‰€ä»¥ä½“ç§¯ä¼šæ¯”è¾ƒå¤§;</p>
<h2 id="Dockerfile-åˆ¶ä½œé•œåƒ"><a href="#Dockerfile-åˆ¶ä½œé•œåƒ" class="headerlink" title="Dockerfile åˆ¶ä½œé•œåƒ"></a>Dockerfile åˆ¶ä½œé•œåƒ</h2><hr>
<blockquote>
<p>dockerfile åˆ¶ä½œé•œåƒæ˜¯æ›´æ ‡å‡†çš„æ–¹å¼</p>
</blockquote>
<h2 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h2><hr>
<p>docker commit</p>
<pre><code>docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]</code></pre>
<p><strong>REPOSITORY :</strong> ä¸æ”¯æŒå¤§å†™å­—æ¯ï¼Œä¸ç„¶ä¼šå‡ºç°ä»¥ä¸‹é”™è¯¯</p>
<pre><code>alex@Alex î‚° ~ î‚° docker commit -m &quot;add hello.c&quot; -a &quot;AlexLin&quot; 04727fbe69a3 AlexUbuntu
invalid reference format</code></pre>
]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title>ESP8266ç³»åˆ—-èµ„æ–™æ”¶é›†</title>
    <url>/2017/08/06/1260.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ESP8266-é€šç”¨ç³»ç±»"><a href="#ESP8266-é€šç”¨ç³»ç±»" class="headerlink" title="ESP8266 é€šç”¨ç³»ç±»"></a>ESP8266 é€šç”¨ç³»ç±»</h2><p>å®‰ä¿¡å¯ç§‘æŠ€: <a href="http://wiki.ai-thinker.com/esp8266">http://wiki.ai-thinker.com/esp8266</a><br>Jackâ€™s LAB: <a href="http://wiki.jackslab.org/ESP8266">http://wiki.jackslab.org/ESP8266</a><br>ä¹é‘«è®ºå›: <a href="http://bbs.espressif.com/index.php">http://bbs.espressif.com/index.php</a></p>
<a id="more"></a>

<h2 id="ESP8266-Luaç³»åˆ—"><a href="#ESP8266-Luaç³»åˆ—" class="headerlink" title="ESP8266 Luaç³»åˆ—"></a>ESP8266 Luaç³»åˆ—</h2><p>NodeMCU: <a href="https://github.com/nodemcu/nodemcu-firmware/wiki/nodemcu_api_cn">https://github.com/nodemcu/nodemcu-firmware/wiki/nodemcu_api_cn</a><br>æ³°æ™“ç§‘æŠ€: <a href="http://tinylab.org/nodemcu-kickstart/">http://tinylab.org/nodemcu-kickstart/</a><br>NodeMcu Docs: [<a href="http://nodemcu.readthedocs.io/en/dev/]">http://nodemcu.readthedocs.io/en/dev/]</a> <a href="http://nodemcu.readthedocs.io/en/dev/">6</a></p>
<h2 id="ESP8266-å¸¸è§é—®é¢˜"><a href="#ESP8266-å¸¸è§é—®é¢˜" class="headerlink" title="ESP8266 å¸¸è§é—®é¢˜"></a>ESP8266 å¸¸è§é—®é¢˜</h2><p>ä¸Šç”µè¾“å‡ºä»¥ä¸‹ä¿¡æ¯</p>
<pre class=" language-SH"><code class="language-SH">ets Jan  8 2013,rst cause:1, boot mode:(3,6)</code></pre>
<p>In the bootup message â€˜boot mode:(x,y)â€™ three low bits of x are {MTDO, GPIO0, GPIO2}.<br><br>The Espressif code can boot in different modes, selected on power-up based on GPIO pin levels. (<strong>MTDO is equivalent to GPIO15</strong>).<br></p>
<table>
<thead>
<tr>
<th align="left">MTDO</th>
<th align="left">GPIO0</th>
<th align="left">GPIO2</th>
<th align="left">Mode</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">L</td>
<td align="left">L</td>
<td align="left">H</td>
<td align="left">UART</td>
<td align="left">Download code from UART</td>
</tr>
<tr>
<td align="left">L</td>
<td align="left">H</td>
<td align="left">H</td>
<td align="left">Flash</td>
<td align="left">Boot from SPI Flash</td>
</tr>
<tr>
<td align="left">H</td>
<td align="left">x</td>
<td align="left">x</td>
<td align="left">SDIO</td>
<td align="left">Boot from SD-card</td>
</tr>
</tbody></table>
<h2 id="ESP8266-datasheet"><a href="#ESP8266-datasheet" class="headerlink" title="ESP8266 datasheet"></a>ESP8266 datasheet</h2><p><a href="https://www.espressif.com/sites/default/files/documentation/0a-esp8266ex_datasheet_cn.pdf">https://www.espressif.com/sites/default/files/documentation/0a-esp8266ex_datasheet_cn.pdf</a></p>
<h3 id="02D-datasheet"><a href="#02D-datasheet" class="headerlink" title="02D datasheet"></a>02D datasheet</h3><p><a href="https://www.espressif.com/sites/default/files/documentation/esp-wroom-02d_esp-wroom-02u_datasheet_cn.pdf">https://www.espressif.com/sites/default/files/documentation/esp-wroom-02d_esp-wroom-02u_datasheet_cn.pdf</a></p>
<h3 id="02D-å¼•è„šå›¾"><a href="#02D-å¼•è„šå›¾" class="headerlink" title="02D å¼•è„šå›¾"></a>02D å¼•è„šå›¾</h3><p><img src="/images/pasted-16.png" alt="upload successful"></p>
<h2 id="ESP8266-IDF-SDK-æ–‡æ¡£"><a href="#ESP8266-IDF-SDK-æ–‡æ¡£" class="headerlink" title="ESP8266 IDF-SDK æ–‡æ¡£"></a>ESP8266 IDF-SDK æ–‡æ¡£</h2><p><a href="https://docs.espressif.com/projects/esp8266-rtos-sdk/en/latest/api-reference/index.html">https://docs.espressif.com/projects/esp8266-rtos-sdk/en/latest/api-reference/index.html</a></p>
<h2 id="ESP8266-ä½åŠŸè€—æ–‡æ¡£è¯´æ˜"><a href="#ESP8266-ä½åŠŸè€—æ–‡æ¡£è¯´æ˜" class="headerlink" title="ESP8266 ä½åŠŸè€—æ–‡æ¡£è¯´æ˜"></a>ESP8266 ä½åŠŸè€—æ–‡æ¡£è¯´æ˜</h2><p><a href="https://www.espressif.com/sites/default/files/documentation/9b-esp8266-low_power_solutions_cn.pdf">https://www.espressif.com/sites/default/files/documentation/9b-esp8266-low_power_solutions_cn.pdf</a></p>
<h2 id="ç”¨è„šæœ¬å‘½ä»¤ç”Ÿæˆåˆæˆå›ºä»¶"><a href="#ç”¨è„šæœ¬å‘½ä»¤ç”Ÿæˆåˆæˆå›ºä»¶" class="headerlink" title="ç”¨è„šæœ¬å‘½ä»¤ç”Ÿæˆåˆæˆå›ºä»¶"></a>ç”¨è„šæœ¬å‘½ä»¤ç”Ÿæˆåˆæˆå›ºä»¶</h2><pre class=" language-sh"><code class="language-sh">if [ $GAT_FLASH_SIZE == 08Mbit ];then
    echo "08Mbit"
    BS_SIZE=1k
    SPI_FLASH_SIZE=2
    BOOT_ADDR_OFFSET=0k
    PART_ADDR_OFFSET=12k
    APP_ADDR_OFFSET=20k
    OTADATA_ADDR_OFFSET=1000k
    cp sdkconfig_08Mbit sdkconfig
elif [ $GAT_FLASH_SIZE == 16Mbit ];then
    echo "16Mbit"
    BS_SIZE=2k
    SPI_FLASH_SIZE=5
    BOOT_ADDR_OFFSET=0k
    PART_ADDR_OFFSET=32k
    OTADATA_ADDR_OFFSET=40k
    APP_ADDR_OFFSET=64k
    cp sdkconfig_16Mbit sdkconfig
elif [ $GAT_FLASH_SIZE == 32Mbit ];then
    BS_SIZE=4k
    SPI_FLASH_SIZE=6
    BOOT_ADDR_OFFSET=0k
    PART_ADDR_OFFSET=32k
    OTADATA_ADDR_OFFSET=2100k
    APP_ADDR_OFFSET=40k
    cp sdkconfig_32Mbit sdkconfig
    echo "32Mbit"
else
    echo "GAT_FLASH_SIZE must be one of [08Mbit|16Mbit|32Mbit]"
    exit
fi
FLASH_MAX_ADDR=1024
TARGET_DIR=build
BOOT_BIN=bootloader/bootloader.bin
OTA_DATA_BIN=ota_data_initial.bin
PART_BIN=Partition_$&#123;GAT_FLASH_SIZE&#125;.bin
COMBINE_BIN=$&#123;TARGET_NAME&#125;_combine.bin

# spi mode(0=QIO, 1=QOUT, 2=DIO, 3=DOUT)
SPI_MODE=3

dd if=/dev/zero bs=$BS_SIZE count=$&#123;FLASH_MAX_ADDR&#125; | sed 's/\x00/\xff/g' > $&#123;TARGET_DIR&#125;/$&#123;COMBINE_BIN&#125;
dd if=$&#123;TARGET_DIR&#125;/$&#123;BOOT_BIN&#125; ibs=$(wc -c < $&#123;TARGET_DIR&#125;/$&#123;BOOT_BIN&#125;) count=1 of=$&#123;TARGET_DIR&#125;/$&#123;COMBINE_BIN&#125; seek=$BOOT_ADDR_OFFSET obs=1 conv=notrunc
dd if=$&#123;TARGET_DIR&#125;/$&#123;PART_BIN&#125; ibs=$(wc -c < $&#123;TARGET_DIR&#125;/$&#123;PART_BIN&#125;) count=1 of=$&#123;TARGET_DIR&#125;/$&#123;COMBINE_BIN&#125; seek=$PART_ADDR_OFFSET obs=1 conv=notrunc
dd if=$&#123;TARGET_DIR&#125;/$&#123;OTA_DATA_BIN&#125; ibs=$(wc -c < $&#123;TARGET_DIR&#125;/$&#123;OTA_DATA_BIN&#125;) count=1 of=$&#123;TARGET_DIR&#125;/$&#123;COMBINE_BIN&#125; seek=$OTADATA_ADDR_OFFSET obs=1 conv=notrunc
dd if=$&#123;TARGET_DIR&#125;/$&#123;TARGET_NAME&#125;.bin ibs=$(wc -c < $&#123;TARGET_DIR&#125;/$&#123;TARGET_NAME&#125;.bin) count=1 of=$&#123;TARGET_DIR&#125;/$&#123;COMBINE_BIN&#125; seek=$APP_ADDR_OFFSET obs=1 conv=notrunc
echo 0$&#123;SPI_MODE&#125; | xxd -r -ps | dd of=$&#123;TARGET_DIR&#125;/$&#123;COMBINE_BIN&#125; seek=2 bs=1 count=1 conv=notrunc
echo $&#123;SPI_FLASH_SIZE&#125;0 | xxd -r -ps | dd of=$&#123;TARGET_DIR&#125;/$&#123;COMBINE_BIN&#125; seek=3 bs=1 count=1 conv=notrunc</code></pre>
<h2 id="å…¶ä»–æœ‰ç”¨å‘½ä»¤"><a href="#å…¶ä»–æœ‰ç”¨å‘½ä»¤" class="headerlink" title="å…¶ä»–æœ‰ç”¨å‘½ä»¤"></a>å…¶ä»–æœ‰ç”¨å‘½ä»¤</h2><ul>
<li>ç”Ÿæˆæ±‡ç¼–æ–‡ä»¶ï¼Œç”¨äºå®šä½é—®é¢˜<pre class=" language-sh"><code class="language-sh">xtensa-lx106-elf-objdump -S build/$&#123;TARGET_NAME&#125;.elf > build/$&#123;TARGET_NAME&#125;.S</code></pre>
</li>
</ul>
]]></content>
      <categories>
        <category>esp8266</category>
      </categories>
      <tags>
        <tag>esp8266</tag>
      </tags>
  </entry>
  <entry>
    <title>Cè¯­è¨€ä¹‹å¥‡é—¨éç”²æœ¯</title>
    <url>/2019/01/09/b2a3.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Cè¯­è¨€ä½æ“ä½œä¸è®¡ç®—"><a href="#Cè¯­è¨€ä½æ“ä½œä¸è®¡ç®—" class="headerlink" title="Cè¯­è¨€ä½æ“ä½œä¸è®¡ç®—"></a>Cè¯­è¨€ä½æ“ä½œä¸è®¡ç®—</h2><hr>
<blockquote>
<p><strong>Cè¯­è¨€ä¸­ä½å–åæ˜¯~ï¼Œé€»è¾‘å–åæ˜¯</strong></p>
</blockquote>
<h3 id="å¸ƒå°”ä½è¿ç®—ç¬¦"><a href="#å¸ƒå°”ä½è¿ç®—ç¬¦" class="headerlink" title="å¸ƒå°”ä½è¿ç®—ç¬¦"></a>å¸ƒå°”ä½è¿ç®—ç¬¦</h3><table>
<thead>
<tr>
<th align="left">è¿ç®—ç¬¦</th>
<th align="left">æ„ä¹‰</th>
<th align="left">ç¤ºä¾‹</th>
<th align="left">å¯¹äºæ¯ä¸ªä½ä½ç½®çš„ç»“æœï¼ˆ1=è®¾å®šï¼Œ0=æ¸…é™¤ï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&amp;</td>
<td align="left">ä½ AND</td>
<td align="left">x&amp;y</td>
<td align="left">å¦‚æœ x å’Œ y éƒ½ä¸º 1ï¼Œåˆ™å¾—åˆ° 1ï¼›å¦‚æœ x æˆ– y ä»»ä½•ä¸€ä¸ªä¸º 0ï¼Œæˆ–éƒ½ä¸º0ï¼Œåˆ™å¾—åˆ° 0</td>
</tr>
<tr>
<td align="left">I</td>
<td align="left">ä½ OR</td>
<td align="left">xIy</td>
<td align="left">å¦‚æœ x æˆ– y ä¸º 1ï¼Œæˆ–éƒ½ä¸º 1ï¼Œåˆ™å¾—åˆ° 1ï¼›å¦‚æœ x å’Œ y éƒ½ä¸º 0ï¼Œåˆ™å¾—åˆ° 0</td>
</tr>
<tr>
<td align="left">^</td>
<td align="left">ä½ XOR</td>
<td align="left">x^y</td>
<td align="left">å¦‚æœ x æˆ– y çš„å€¼ä¸åŒï¼Œåˆ™å¾—åˆ° 1ï¼›å¦‚æœä¸¤ä¸ªå€¼ç›¸åŒï¼Œåˆ™å¾—åˆ° 0</td>
</tr>
<tr>
<td align="left">~</td>
<td align="left">ä½ NOT</td>
<td align="left">ï¼ˆIçš„è¡¥ç ï¼‰~x</td>
<td align="left">å¦‚æœ x ä¸º 0ï¼Œåˆ™å¾—åˆ° 1ï¼Œå¦‚æœ x æ˜¯ 1ï¼Œåˆ™å¾—åˆ° 0</td>
</tr>
</tbody></table>
<a id="more"></a>

<h3 id="å¯¹æŸä¸€ä½æ“ä½œ"><a href="#å¯¹æŸä¸€ä½æ“ä½œ" class="headerlink" title="å¯¹æŸä¸€ä½æ“ä½œ"></a>å¯¹æŸä¸€ä½æ“ä½œ</h3><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">define</span> set_bit(m,n)       m|=(1&lt;&lt;n)               </span><span class="token comment" spellcheck="true">//å¯¹æŸä¸€ä½ç½®ä¸€</span>
<span class="token macro property">#<span class="token directive keyword">define</span> reset_bit(m,n)     m &amp;= ~( 1&lt;&lt;n )          </span><span class="token comment" spellcheck="true">//å¯¹æŸä¸€ä½ç½®é›¶</span>
<span class="token macro property">#<span class="token directive keyword">define</span> get_bit( m,n )     ((m) >> (n)&amp;1)          </span><span class="token comment" spellcheck="true">//è·å–çš„æŸä¸€ä½çš„å€¼</span>
<span class="token macro property">#<span class="token directive keyword">define</span> reversebit(m,n)    m^=(1&lt;&lt;n)               </span><span class="token comment" spellcheck="true">//å¯¹æŸä¸€ä½å–å</span></code></pre>
<h3 id="è®¡ç®—"><a href="#è®¡ç®—" class="headerlink" title="è®¡ç®—"></a>è®¡ç®—</h3><h4 id="1-å¦‚æœä¹˜ä¸Šä¸€ä¸ª2çš„å€æ•°æ•°å€¼ï¼Œå¯ä»¥æ”¹ç”¨å·¦ç§»è¿ç®—-Left-Shift-åŠ é€Ÿ-300"><a href="#1-å¦‚æœä¹˜ä¸Šä¸€ä¸ª2çš„å€æ•°æ•°å€¼ï¼Œå¯ä»¥æ”¹ç”¨å·¦ç§»è¿ç®—-Left-Shift-åŠ é€Ÿ-300" class="headerlink" title="1. å¦‚æœä¹˜ä¸Šä¸€ä¸ª2çš„å€æ•°æ•°å€¼ï¼Œå¯ä»¥æ”¹ç”¨å·¦ç§»è¿ç®—(Left Shift) åŠ é€Ÿ 300%"></a>1. å¦‚æœä¹˜ä¸Šä¸€ä¸ª2çš„å€æ•°æ•°å€¼ï¼Œå¯ä»¥æ”¹ç”¨å·¦ç§»è¿ç®—(Left Shift) åŠ é€Ÿ 300%</h4><pre class=" language-c"><code class="language-c">x <span class="token operator">=</span> x <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
x <span class="token operator">=</span> x <span class="token operator">*</span> <span class="token number">64</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//æ”¹ä¸º:</span>
x <span class="token operator">=</span> x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 2 == 2</span>
x <span class="token operator">=</span> x <span class="token operator">&lt;&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 64 == 2*2*2*2*2*2</span></code></pre>
<h4 id="2-å¦‚æœé™¤ä¸Šä¸€ä¸ª-2-çš„å€æ•°æ•°å€¼ï¼Œå¯ä»¥æ”¹ç”¨å³ç§»è¿ç®—åŠ é€Ÿ-350"><a href="#2-å¦‚æœé™¤ä¸Šä¸€ä¸ª-2-çš„å€æ•°æ•°å€¼ï¼Œå¯ä»¥æ”¹ç”¨å³ç§»è¿ç®—åŠ é€Ÿ-350" class="headerlink" title="2. å¦‚æœé™¤ä¸Šä¸€ä¸ª 2 çš„å€æ•°æ•°å€¼ï¼Œå¯ä»¥æ”¹ç”¨å³ç§»è¿ç®—åŠ é€Ÿ 350%"></a>2. å¦‚æœé™¤ä¸Šä¸€ä¸ª 2 çš„å€æ•°æ•°å€¼ï¼Œå¯ä»¥æ”¹ç”¨å³ç§»è¿ç®—åŠ é€Ÿ 350%</h4><pre class=" language-c"><code class="language-c">x <span class="token operator">=</span> x <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
x <span class="token operator">=</span> x <span class="token operator">/</span> <span class="token number">64</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//æ”¹ä¸º:</span>
x <span class="token operator">=</span> x <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 2 == 2</span>
x <span class="token operator">=</span> x <span class="token operator">>></span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 64 == 2*2*2*2*2*2</span></code></pre>
<h4 id="3-æ•°å€¼è½¬æ•´æ•°åŠ é€Ÿ-10"><a href="#3-æ•°å€¼è½¬æ•´æ•°åŠ é€Ÿ-10" class="headerlink" title="3. æ•°å€¼è½¬æ•´æ•°åŠ é€Ÿ 10%"></a>3. æ•°å€¼è½¬æ•´æ•°åŠ é€Ÿ 10%</h4><pre class=" language-c"><code class="language-c">x <span class="token operator">=</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">1.232</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//æ”¹ä¸º:</span>
x <span class="token operator">=</span> <span class="token number">1.232</span> <span class="token operator">>></span> <span class="token number">0</span><span class="token punctuation">;</span></code></pre>
<h4 id="4-äº¤æ¢ä¸¤ä¸ªæ•°å€¼-swap-ï¼Œä½¿ç”¨-XOR-å¯ä»¥åŠ é€Ÿ20"><a href="#4-äº¤æ¢ä¸¤ä¸ªæ•°å€¼-swap-ï¼Œä½¿ç”¨-XOR-å¯ä»¥åŠ é€Ÿ20" class="headerlink" title="4. äº¤æ¢ä¸¤ä¸ªæ•°å€¼(swap)ï¼Œä½¿ç”¨ XOR å¯ä»¥åŠ é€Ÿ20%"></a>4. äº¤æ¢ä¸¤ä¸ªæ•°å€¼(swap)ï¼Œä½¿ç”¨ XOR å¯ä»¥åŠ é€Ÿ20%</h4><pre class=" language-c"><code class="language-c">var t<span class="token punctuation">:</span><span class="token keyword">int</span> <span class="token operator">=</span> a<span class="token punctuation">;</span>
a <span class="token operator">=</span> b<span class="token punctuation">;</span>
b <span class="token operator">=</span> t<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//equals:</span>
a <span class="token operator">=</span> a<span class="token operator">^</span>b<span class="token punctuation">;</span>
b <span class="token operator">=</span> a<span class="token operator">^</span>b<span class="token punctuation">;</span>
a <span class="token operator">=</span> a<span class="token operator">^</span>b<span class="token punctuation">;</span></code></pre>
<h4 id="5-æ­£è´Ÿå·è½¬æ¢ï¼Œå¯ä»¥åŠ å…¥-300"><a href="#5-æ­£è´Ÿå·è½¬æ¢ï¼Œå¯ä»¥åŠ å…¥-300" class="headerlink" title="5. æ­£è´Ÿå·è½¬æ¢ï¼Œå¯ä»¥åŠ å…¥ 300%"></a>5. æ­£è´Ÿå·è½¬æ¢ï¼Œå¯ä»¥åŠ å…¥ 300%</h4><pre class=" language-c"><code class="language-c">i <span class="token operator">=</span> <span class="token operator">-</span>i<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//æ”¹ä¸º</span>
i <span class="token operator">=</span> <span class="token operator">~</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// NOT å†™æ³•</span>
<span class="token comment" spellcheck="true">//æˆ–</span>
i <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">^</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// XOR å†™æ³•</span></code></pre>
<h4 id="6-å–ä½™æ•°ï¼Œå¦‚æœé™¤æ•°ä¸º-2-çš„å€æ•°ï¼Œå¯åˆ©ç”¨-AND-è¿ç®—åŠ é€Ÿ-600"><a href="#6-å–ä½™æ•°ï¼Œå¦‚æœé™¤æ•°ä¸º-2-çš„å€æ•°ï¼Œå¯åˆ©ç”¨-AND-è¿ç®—åŠ é€Ÿ-600" class="headerlink" title="6. å–ä½™æ•°ï¼Œå¦‚æœé™¤æ•°ä¸º 2 çš„å€æ•°ï¼Œå¯åˆ©ç”¨ AND è¿ç®—åŠ é€Ÿ 600%"></a>6. å–ä½™æ•°ï¼Œå¦‚æœé™¤æ•°ä¸º 2 çš„å€æ•°ï¼Œå¯åˆ©ç”¨ AND è¿ç®—åŠ é€Ÿ 600%</h4><pre class=" language-c"><code class="language-c">x <span class="token operator">=</span> <span class="token number">131</span> <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//equals:</span>
x <span class="token operator">=</span> <span class="token number">131</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h4 id="7-åˆ©ç”¨-AND-è¿ç®—æ£€æŸ¥æ•´æ•°æ˜¯å¦ä¸º-2-çš„å€æ•°ï¼Œå¯ä»¥åŠ é€Ÿ-600"><a href="#7-åˆ©ç”¨-AND-è¿ç®—æ£€æŸ¥æ•´æ•°æ˜¯å¦ä¸º-2-çš„å€æ•°ï¼Œå¯ä»¥åŠ é€Ÿ-600" class="headerlink" title="7. åˆ©ç”¨ AND è¿ç®—æ£€æŸ¥æ•´æ•°æ˜¯å¦ä¸º 2 çš„å€æ•°ï¼Œå¯ä»¥åŠ é€Ÿ 600%"></a>7. åˆ©ç”¨ AND è¿ç®—æ£€æŸ¥æ•´æ•°æ˜¯å¦ä¸º 2 çš„å€æ•°ï¼Œå¯ä»¥åŠ é€Ÿ 600%</h4><pre class=" language-c"><code class="language-c">isEven <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//equals:</span>
isEven <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span></code></pre>
<h4 id="8-åŠ é€Ÿ-Math-abs-600-çš„å†™æ³•1ï¼Œå†™æ³•2-åˆæ¯”å†™æ³•1åŠ é€Ÿ-20"><a href="#8-åŠ é€Ÿ-Math-abs-600-çš„å†™æ³•1ï¼Œå†™æ³•2-åˆæ¯”å†™æ³•1åŠ é€Ÿ-20" class="headerlink" title="8.Â åŠ é€Ÿ Math.abs 600% çš„å†™æ³•1ï¼Œå†™æ³•2 åˆæ¯”å†™æ³•1åŠ é€Ÿ 20%"></a>8.Â åŠ é€Ÿ Math.abs 600% çš„å†™æ³•1ï¼Œå†™æ³•2 åˆæ¯”å†™æ³•1åŠ é€Ÿ 20%</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//å†™æ³•1</span>
i <span class="token operator">=</span> x <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//å†™æ³•2</span>

i <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">^</span> <span class="token punctuation">(</span>x <span class="token operator">>></span> <span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token punctuation">(</span>x <span class="token operator">>></span> <span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//å†™æ³•3</span>

i<span class="token operator">=</span>x<span class="token operator">^</span><span class="token punctuation">(</span><span class="token operator">~</span><span class="token punctuation">(</span>x<span class="token operator">>></span><span class="token number">31</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>x<span class="token operator">>></span><span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h4 id="9-æ¯”è¾ƒä¸¤æ•°å€¼ç›¸ä¹˜ä¹‹åæ˜¯å¦æ‹¥æœ‰ç›¸åŒçš„ç¬¦å·ï¼ŒåŠ é€Ÿ-35"><a href="#9-æ¯”è¾ƒä¸¤æ•°å€¼ç›¸ä¹˜ä¹‹åæ˜¯å¦æ‹¥æœ‰ç›¸åŒçš„ç¬¦å·ï¼ŒåŠ é€Ÿ-35" class="headerlink" title="9.Â æ¯”è¾ƒä¸¤æ•°å€¼ç›¸ä¹˜ä¹‹åæ˜¯å¦æ‹¥æœ‰ç›¸åŒçš„ç¬¦å·ï¼ŒåŠ é€Ÿ 35%"></a>9.Â æ¯”è¾ƒä¸¤æ•°å€¼ç›¸ä¹˜ä¹‹åæ˜¯å¦æ‹¥æœ‰ç›¸åŒçš„ç¬¦å·ï¼ŒåŠ é€Ÿ 35%</h4><pre class=" language-c"><code class="language-c">eqSign <span class="token operator">=</span> a <span class="token operator">*</span> b <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//equals:</span>
eqSign <span class="token operator">=</span> a <span class="token operator">^</span> b <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span></code></pre>
]]></content>
      <categories>
        <category>C</category>
      </categories>
      <tags>
        <tag>C</tag>
      </tags>
  </entry>
  <entry>
    <title>ESP8266ç³»åˆ—-å„ä¸ªæ¨¡ç»„å‹å·æ¨¡ç»„å¯¹æ¯”</title>
    <url>/2017/08/04/9fbf.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="çƒ§å½•Flash-åœ°å€è¯´æ˜"><a href="#çƒ§å½•Flash-åœ°å€è¯´æ˜" class="headerlink" title="çƒ§å½•Flash åœ°å€è¯´æ˜"></a>çƒ§å½•Flash åœ°å€è¯´æ˜</h2><table>
<thead>
<tr>
<th align="center">æ–‡ä»¶åç§°</th>
<th align="center">8Mbitçƒ§å½•åœ°å€</th>
<th align="center">16Mbitçƒ§å½•åœ°å€</th>
<th align="center">32Mbitçƒ§å½•åœ°å€</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="center">boot.bin</td>
<td align="center">0x00000</td>
<td align="center">0x00000</td>
<td align="center">0x00000</td>
<td align="left">ç”±ä¹é‘«åœ¨ SDK ä¸­æä¾›ï¼Œå»ºè®®ä¸€ç›´ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬</td>
</tr>
<tr>
<td align="center">user1.bin</td>
<td align="center">0x01000</td>
<td align="center">0x01000</td>
<td align="center">0x01000</td>
<td align="left">ä¸»ç¨‹åºï¼Œç”±ä»£ç ç¼–è¯‘ç”Ÿæˆ</td>
</tr>
<tr>
<td align="center">user2.bin</td>
<td align="center">0x81000</td>
<td align="center">0x81000</td>
<td align="center">0x81000</td>
<td align="left">ä¸»ç¨‹åºï¼Œç”±ä»£ç ç¼–è¯‘ç”Ÿæˆ</td>
</tr>
<tr>
<td align="center">esp_init_data_default.bin</td>
<td align="center">0xFC000</td>
<td align="center">0x1FC000</td>
<td align="center">0x3FC000</td>
<td align="left">ç”±ä¹é‘«åœ¨ SDK ä¸­æä¾›</td>
</tr>
<tr>
<td align="center">blank.bin</td>
<td align="center">0xFE000</td>
<td align="center">0x1FE000</td>
<td align="center">0x3FE000</td>
<td align="left">ç”±ä¹é‘«åœ¨ SDK ä¸­æä¾›</td>
</tr>
</tbody></table>
<a id="more"></a>

<h2 id="ç¡¬ä»¶è¿æ¥"><a href="#ç¡¬ä»¶è¿æ¥" class="headerlink" title="ç¡¬ä»¶è¿æ¥"></a>ç¡¬ä»¶è¿æ¥</h2><p>ESP8266æœ‰è¿è¡Œæ¨¡å¼ã€ä¸‹è½½æ¨¡å¼ã€æµ‹è¯•æ¨¡å¼çš„åŒºåˆ«ï¼Œè¿›å…¥ä¸‹è½½æ¨¡å¼å¯å‚è€ƒä»¥ä¸‹é…ç½®ï¼š</p>
<p>|æ¨¡å¼|CH_PD(EN)| RST |GPIO15|GPIO0|GPIO2|TXD0|<br>|:â€”:|:â€”:|<br>|UART ä¸‹è½½æ¨¡å¼|é«˜|é«˜|ä½|ä½|é«˜|é«˜|<br>|Flashè¿è¡Œæ¨¡å¼|é«˜|é«˜|ä½|é«˜|é«˜|é«˜|<br>|Chip æµ‹è¯•æ¨¡å¼|- |- |- | -| -|ä½|</p>
<h2 id="æ¨¡ç»„å¯¹æ¯”"><a href="#æ¨¡ç»„å¯¹æ¯”" class="headerlink" title="æ¨¡ç»„å¯¹æ¯”"></a>æ¨¡ç»„å¯¹æ¯”</h2><p>![æ¨¡ç»„å¯¹æ¯”][1]<br>[1]: <a href="http://upload-images.jianshu.io/upload_images/1736256-9acf4a0574852890.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">http://upload-images.jianshu.io/upload_images/1736256-9acf4a0574852890.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240</a></p>
]]></content>
      <categories>
        <category>esp8266</category>
      </categories>
      <tags>
        <tag>esp8266</tag>
      </tags>
  </entry>
  <entry>
    <title>COAPç³»åˆ—-å…¥é—¨ä»‹ç»</title>
    <url>/2017/10/18/fb1f.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="å®˜ç½‘"><a href="#å®˜ç½‘" class="headerlink" title="å®˜ç½‘"></a>å®˜ç½‘</h2><p><a href="http://coap.technology/">http://coap.technology/</a><br>WiKi<br><a href="https://en.wikipedia.org/wiki/Constrained_Application_Protocol">https://en.wikipedia.org/wiki/Constrained_Application_Protocol</a><br>å¼€æºåº“<br><a href="https://github.com/miri64/libcoap">https://github.com/miri64/libcoap</a></p>
<h2 id="1-COAP-æ¶æ„"><a href="#1-COAP-æ¶æ„" class="headerlink" title="1. COAP æ¶æ„"></a>1. COAP æ¶æ„</h2><p>COAPè¿è¡ŒäºUDPåè®®ä¹‹ä¸Š,æ¶æ„å¦‚ä¸‹å›¾</p>
<p> <img src="http://upload-images.jianshu.io/upload_images/1736256-55f00669c46bccfd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="COAP æ¶æ„å›¾"></p>
<a id="more"></a>

<h3 id="2-æ¶ˆæ¯ç±»å‹"><a href="#2-æ¶ˆæ¯ç±»å‹" class="headerlink" title="2. æ¶ˆæ¯ç±»å‹"></a>2. æ¶ˆæ¯ç±»å‹</h3><p>CoAPåè®®å…±æœ‰4ä¸­ä¸åŒçš„æ¶ˆæ¯ç±»å‹ã€‚</p>
<ul>
<li>CONâ€”â€”éœ€è¦è¢«ç¡®è®¤çš„è¯·æ±‚ï¼Œå¦‚æœCONè¯·æ±‚è¢«å‘é€ï¼Œé‚£ä¹ˆå¯¹æ–¹å¿…é¡»åšå‡ºå“åº”ã€‚</li>
<li>NONâ€”â€”ä¸éœ€è¦è¢«ç¡®è®¤çš„è¯·æ±‚ï¼Œå¦‚æœNONè¯·æ±‚è¢«å‘é€ï¼Œé‚£ä¹ˆå¯¹æ–¹ä¸å¿…åšå‡ºå›åº”ã€‚</li>
<li>ACKâ€”â€”åº”ç­”æ¶ˆæ¯ï¼Œæ¥å—åˆ°CONæ¶ˆæ¯çš„å“åº”ã€‚</li>
<li>RSTâ€”â€”å¤ä½æ¶ˆæ¯ï¼Œå½“æ¥æ”¶è€…æ¥å—åˆ°çš„æ¶ˆæ¯åŒ…å«ä¸€ä¸ªé”™è¯¯ï¼Œæ¥æ”¶è€…è§£ææ¶ˆæ¯æˆ–è€…ä¸å†å…³å¿ƒå‘é€è€…å‘é€çš„å†…å®¹ï¼Œé‚£ä¹ˆå¤ä½æ¶ˆæ¯å°†ä¼šè¢«å‘é€ã€‚</li>
</ul>
<h3 id="3-COAP-æ¶ˆæ¯æ ¼å¼"><a href="#3-COAP-æ¶ˆæ¯æ ¼å¼" class="headerlink" title="3. COAP æ¶ˆæ¯æ ¼å¼"></a>3. COAP æ¶ˆæ¯æ ¼å¼</h3><ul>
<li>ä¸€ä¸ªCOAPæ¶ˆæ¯æœ€å°ä¸º4ä¸ªå­—èŠ‚ï¼›</li>
<li>CoAPåè®®æ€»æ˜¯ä»¥â€œå¤´â€çš„å½¢å¼å‡ºç°åœ¨è´Ÿè½½ä¹‹å‰ï¼Œè€Œè´Ÿè½½å’ŒCoAPå¤´ä¹‹é—´ä½¿ç”¨å•å­—èŠ‚0xFFåˆ†ç¦»ï¼›</li>
<li>å…·ä½“æ ¼å¼å¦‚ä¸‹å›¾<br><img src="http://upload-images.jianshu.io/upload_images/1736256-34c6ef619d17ae78.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="COAP æ¶ˆæ¯æ ¼å¼"></li>
</ul>
<table>
<thead>
<tr>
<th align="left">å­—æ®µ</th>
<th align="left">é•¿åº¦</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left">ver</td>
<td align="left">2bit</td>
<td align="left">ç‰ˆæœ¬å·</td>
</tr>
<tr>
<td align="left">Type</td>
<td align="left">2bit</td>
<td align="left">æ¶ˆæ¯ç±»å‹:CON/NON/ACK/RST</td>
</tr>
<tr>
<td align="left">TKL(TokenLength)</td>
<td align="left">4bit</td>
<td align="left">æ ‡è¯†ç¬¦é•¿åº¦CoAPåè®®ä¸­å…·æœ‰ä¸¤ç§åŠŸèƒ½ç›¸ä¼¼çš„æ ‡è¯†ç¬¦ï¼Œä¸€ç§ä¸ºMessageID(æŠ¥æ–‡ç¼–å·)ï¼Œä¸€ç§ä¸ºToken(æ ‡è¯†ç¬¦)ã€‚å…¶ä¸­æ¯ä¸ªæŠ¥æ–‡å‡åŒ…å«æ¶ˆæ¯ç¼–å·ï¼Œä½†æ˜¯æ ‡è¯†ç¬¦å¯¹äºæŠ¥æ–‡æ¥è¯´æ˜¯<strong>éå¿…é¡»</strong>çš„</td>
</tr>
<tr>
<td align="left">Code</td>
<td align="left">8bit</td>
<td align="left">åŠŸèƒ½ç /å“åº”ç :å‰3ä½ä¸€éƒ¨åˆ†ï¼Œå5ä½ä¸€éƒ¨åˆ†;ä¸ºäº†æ–¹ä¾¿æè¿°å®ƒè¢«å†™æˆäº†c.ddç»“æ„ã€‚å…¶ä¸­0.XXè¡¨ç¤ºCoAPè¯·æ±‚çš„æŸç§æ–¹æ³•ï¼Œè€Œ2.XXã€4.XXæˆ–5.XXåˆ™è¡¨ç¤ºCoAPå“åº”çš„æŸç§å…·ä½“è¡¨ç°(å…·ä½“Codeè§ä¸‹é¢ğŸ‘‡)ã€‚</td>
</tr>
<tr>
<td align="left">Message ID</td>
<td align="left">16bit</td>
<td align="left">æŠ¥æ–‡ç¼–å·,ç”¨äºé‡å¤æ¶ˆæ¯æ£€æµ‹ï¼ŒåŒ¹é…æ¶ˆæ¯ç±»å‹ç­‰</td>
</tr>
<tr>
<td align="left">Token</td>
<td align="left">nBit</td>
<td align="left">æ ‡è¯†ç¬¦å…·ä½“å†…å®¹ï¼Œé€šè¿‡TKLæŒ‡å®šTokené•¿åº¦</td>
</tr>
<tr>
<td align="left">Option</td>
<td align="left">nBit</td>
<td align="left">æŠ¥æ–‡é€‰é¡¹ï¼Œé€šè¿‡æŠ¥æ–‡é€‰é¡¹å¯è®¾å®šCoAPä¸»æœºï¼ŒCoAP URIï¼ŒCoAPè¯·æ±‚å‚æ•°å’Œè´Ÿè½½åª’ä½“ç±»å‹ç­‰ç­‰ã€‚</td>
</tr>
</tbody></table>
<h4 id="3-1-COAP-Code-å­—æ®µ"><a href="#3-1-COAP-Code-å­—æ®µ" class="headerlink" title="3.1 COAP Code å­—æ®µ"></a>3.1 COAP Code å­—æ®µ</h4><p>è¯·æ±‚å­—æ®µ</p>
<ul>
<li>Req:0.xx</li>
</ul>
<hr>
<p>å“åº”å­—æ®µ</p>
<ul>
<li>Success : 2.xx</li>
<li>Client Error : 4.xx</li>
<li>Server Error : 5.xx</li>
</ul>
<hr>
<h5 id="3-1-1-è¯·æ±‚æ¶ˆæ¯ç±»å‹"><a href="#3-1-1-è¯·æ±‚æ¶ˆæ¯ç±»å‹" class="headerlink" title="3.1.1 è¯·æ±‚æ¶ˆæ¯ç±»å‹Â "></a>3.1.1 è¯·æ±‚æ¶ˆæ¯ç±»å‹Â </h5><table>
<thead>
<tr>
<th align="left">Codeç </th>
<th align="left">æ–¹æ³•</th>
<th align="left">è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td align="left">0.01</td>
<td align="left">GET</td>
<td align="left">ç”¨äºè·å¾—æŸèµ„æº</td>
</tr>
<tr>
<td align="left">0.02</td>
<td align="left">POST</td>
<td align="left">ç”¨äºåˆ›å»ºæŸèµ„æº</td>
</tr>
<tr>
<td align="left">0.03</td>
<td align="left">PUT</td>
<td align="left">ç”¨äºæ›´æ–°æŸèµ„æº</td>
</tr>
<tr>
<td align="left">0.04</td>
<td align="left">DELETE</td>
<td align="left">ç”¨äºåˆ é™¤æŸèµ„æº</td>
</tr>
</tbody></table>
<h5 id="3-1-2-å“åº”æ¶ˆæ¯ç±»å‹"><a href="#3-1-2-å“åº”æ¶ˆæ¯ç±»å‹" class="headerlink" title="3.1.2 å“åº”æ¶ˆæ¯ç±»å‹Â Â "></a>3.1.2 å“åº”æ¶ˆæ¯ç±»å‹Â Â </h5><ul>
<li><strong>Success 2.xx</strong></li>
</ul>
<table>
<thead>
<tr>
<th align="left">Codeç </th>
<th align="left">æ–¹æ³•</th>
<th align="left">è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td align="left">2.01</td>
<td align="left">Created</td>
<td align="left">å›å¤POSTæˆ–è€…PUTã€‚</td>
</tr>
<tr>
<td align="left">2.02</td>
<td align="left">Deleted</td>
<td align="left">å›å¤DELETEï¼Œæœ‰äº›æƒ…å†µä¸‹çš„POSTã€‚</td>
</tr>
<tr>
<td align="left">2.03</td>
<td align="left">Valid</td>
<td align="left">è¡¨ç¤ºå“åº”æ˜¯æœ‰æ•ˆçš„æ‰€ä»¥ï¼ŒResponseå¿…é¡»å¸¦ETag Optionã€‚</td>
</tr>
<tr>
<td align="left">2.04</td>
<td align="left">Changed</td>
<td align="left">å›å¤POSTå’ŒPUTã€‚</td>
</tr>
<tr>
<td align="left">2.05</td>
<td align="left">Content</td>
<td align="left">å›å¤GETã€‚</td>
</tr>
</tbody></table>
<ul>
<li><strong>Client Error 4.xx</strong></li>
</ul>
<table>
<thead>
<tr>
<th align="left">Codeç </th>
<th align="left">è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td align="left">4.00</td>
<td align="left">Bad Resuest.</td>
</tr>
<tr>
<td align="left">4.01</td>
<td align="left">Unauthorized</td>
</tr>
<tr>
<td align="left">4.02</td>
<td align="left">Bad Option</td>
</tr>
<tr>
<td align="left">4.03</td>
<td align="left">Forbidden</td>
</tr>
<tr>
<td align="left">4.04</td>
<td align="left">Not Found</td>
</tr>
<tr>
<td align="left">4.05</td>
<td align="left">Method Not Allowed</td>
</tr>
<tr>
<td align="left">4.06</td>
<td align="left">Not Acceptable</td>
</tr>
<tr>
<td align="left">4.12</td>
<td align="left">Precondition Failed</td>
</tr>
<tr>
<td align="left">4.13</td>
<td align="left">Request Entity Too Large</td>
</tr>
<tr>
<td align="left">4.15</td>
<td align="left">Unsupported Content-Format</td>
</tr>
</tbody></table>
<ul>
<li><strong>Server Error 5.xx</strong></li>
</ul>
<table>
<thead>
<tr>
<th align="left">Codeç </th>
<th align="left">è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td align="left">5.00</td>
<td align="left">Internal Server Error</td>
</tr>
<tr>
<td align="left">5.01</td>
<td align="left">Not Implemented</td>
</tr>
<tr>
<td align="left">5.02</td>
<td align="left">Bad Gateway</td>
</tr>
<tr>
<td align="left">5.03</td>
<td align="left">Service Unavailable</td>
</tr>
<tr>
<td align="left">5.04</td>
<td align="left">Gateway Timeout</td>
</tr>
<tr>
<td align="left">5.05</td>
<td align="left">Proxying Not Supported</td>
</tr>
</tbody></table>
<h4 id="3-2-COAP-Option-å­—æ®µ"><a href="#3-2-COAP-Option-å­—æ®µ" class="headerlink" title="3.2 COAP Option å­—æ®µ"></a>3.2 COAP Option å­—æ®µ</h4><p>æ¯ä¸ªOptoinç”±ä»¥ä¸‹ä¸‰éƒ¨åˆ†ç»„æˆ</p>
<ul>
<li><strong>OptionDelta :</strong> è¡¨ç¤ºOptionçš„å¢é‡ï¼Œå½“å‰çš„Optionçš„å…·ä½“ç¼–å·ç­‰äºä¹‹å‰æ‰€æœ‰Option Deltaçš„æ€»å’Œã€‚</li>
<li><strong>OptionLength :</strong>  è¡¨ç¤ºOption Valueçš„å…·ä½“é•¿åº¦</li>
<li><strong>OptionValue :</strong> è¡¨ç¤ºOptionå…·ä½“å†…å®¹</li>
</ul>
<p><strong>Optonçš„æ•°æ®å¯ä»¥è·Ÿéšå¤šä¸ªï¼Œæ¯ä¸ªçš„æ ¼å¼éƒ½ä¸€è‡´</strong><br><strong>ä¾‹å­:</strong></p>
<ul>
<li>ç¬¬ä¸€ä¸ªOption Delta=11ï¼Œè¡¨ç¤ºè¯¥Optionè¡¨ç¤ºUri-Path(11)</li>
<li>ç¬¬äºŒä¸ªOption Delta=1ï¼Œè¡¨ç¤ºè¯¥Option=1+11ï¼Œè¡¨ç¤ºContent-Format(12)</li>
<li>ç¬¬ä¸‰ä¸ªOption Delta=3ï¼Œè¡¨ç¤ºè¯¥Option=3+1+11ï¼Œè¡¨ç¤ºUri-Query(15)<br>CoAPé‡‡ç”¨è¿™æ ·çš„æ–¹å¼è¡¨ç¤ºå¤šä¸ªOptionï¼Œè€Œæ¯ç§Optionéƒ½å¯ä»¥åœ¨HTTPåè®®ä¸­æ‰¾åˆ°å¯¹åº”é¡¹ã€‚</li>
</ul>
<h5 id="3-2-1-Option-æ ¼å¼"><a href="#3-2-1-Option-æ ¼å¼" class="headerlink" title="3.2.1 Option æ ¼å¼"></a>3.2.1 Option æ ¼å¼</h5><p><img src="http://upload-images.jianshu.io/upload_images/1736256-de231b37e70545d3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Option æ ¼å¼å›¾"></p>
<p>CoAPä¸­æ‰€æœ‰çš„Optionéƒ½é‡‡ç”¨ç¼–å·çš„æ–¹å¼ï¼Œè¿™äº›OptionåŠç¼–å·çš„å®šä¹‰å¦‚ä¸‹å›¾æ‰€ç¤º<br><img src="http://upload-images.jianshu.io/upload_images/1736256-2c26b5c2d652ef37.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p><strong>Optionä¹‹ä¸­çš„å„ä¸ªå­—æ®µçš„å«ä¹‰å¦‚ä¸‹ï¼š</strong></p>
<p><strong>ã€Option Deltaã€‘</strong></p>
<ul>
<li>Option Deltaï¼š4-bitæ— ç¬¦å·æ•´å‹ã€‚å€¼0-12ä»£è¡¨option deltaã€‚å…¶å®ƒ3ä¸ªå€¼ä½œä¸ºç‰¹æ®Šæƒ…å†µä¿ç•™ï¼š</li>
<li>å½“å€¼ä¸º<strong>13</strong>ï¼šæœ‰ä¸€ä¸ª8-bitæ— ç¬¦å·æ•´å‹ï¼ˆextendedï¼‰è·Ÿéšåœ¨ç¬¬ä¸€ä¸ªå­—èŠ‚ä¹‹åï¼Œæœ¬optionçš„å®é™…deltaæ˜¯è¿™ä¸ª8-bitå€¼åŠ 13ã€‚</li>
<li>å½“å€¼ä¸º<strong>14</strong>ï¼šæœ‰ä¸€ä¸ª16-bitæ— ç¬¦å·æ•´å‹ï¼ˆç½‘ç»œå­—èŠ‚åºï¼‰ï¼ˆextendedï¼‰è·Ÿéšåœ¨ç¬¬ä¸€ä¸ªå­—èŠ‚ä¹‹åï¼Œæœ¬optionçš„å®é™…deltaæ˜¯è¿™ä¸ª16-bitå€¼åŠ 269ã€‚</li>
<li>å½“å€¼ä¸º<strong>15</strong>ï¼šä¸ºpayloadæ ‡è¯†ç¬¦è€Œä¿ç•™ã€‚å¦‚æœè¿™ä¸ªå­—æ®µè¢«è®¾ç½®ä¸ºå€¼15ï¼Œä½†è¿™ä¸ªå­—èŠ‚ä¸æ˜¯payloadæ ‡è¯†ç¬¦ï¼Œé‚£ä¹ˆå¿…é¡»å½“ä½œæ¶ˆæ¯æ ¼å¼é”™è¯¯æ¥å¤„ç†ã€‚</li>
</ul>
<p><strong>ã€Option Lengthã€‘</strong></p>
<ul>
<li>Option Lengthï¼š4-bitæ— ç¬¦å·æ•´æ•°ã€‚å€¼0-12ä»£è¡¨è¿™ä¸ªoptionå€¼çš„é•¿åº¦ï¼Œå•ä½æ˜¯å­—èŠ‚ã€‚å…¶å®ƒ3ä¸ªå€¼æ˜¯ç‰¹æ®Šä¿ç•™çš„ï¼š</li>
<li>å½“å€¼ä¸º13ï¼šæœ‰ä¸€ä¸ª8-bitæ— ç¬¦å·æ•´å‹è·Ÿéšåœ¨ç¬¬ä¸€ä¸ªå­—èŠ‚ä¹‹åï¼Œæœ¬optionçš„å®é™…é•¿åº¦æ˜¯è¿™ä¸ª8-bitå€¼åŠ 13ã€‚</li>
<li>å½“å€¼ä¸º14ï¼šä¸€ä¸ª16-bitæ— ç¬¦å·æ•´å‹ï¼ˆç½‘ç»œå­—èŠ‚åºï¼‰è·Ÿéšåœ¨ç¬¬ä¸€ä¸ªå­—èŠ‚ä¹‹åï¼Œæœ¬optionçš„å®é™…é•¿åº¦æ˜¯è¿™ä¸ª16-bitå€¼åŠ 269ã€‚</li>
<li>å½“å€¼ä¸º15ï¼šä¿ç•™ä¸ºå°†æ¥ä½¿ç”¨ã€‚å¦‚æœè¿™ä¸ªå­—æ®µè¢«è®¾ç½®ä¸ºå€¼15ï¼Œå¿…é¡»å½“ä½œæ¶ˆæ¯æ ¼å¼é”™è¯¯æ¥å¤„ç†ã€‚</li>
</ul>
<p><strong>ã€Option valueã€‘</strong></p>
<ul>
<li>Option Valueï¼šå…±option Lengthä¸ªå­—èŠ‚ã€‚option Valueå­—æ®µçš„é•¿åº¦å’Œæ ¼å¼å–å†³äºå…·ä½“çš„optionï¼Œæœ‰å¯èƒ½å®šä¹‰å˜é•¿çš„å€¼ã€‚</li>
</ul>
<p><strong>ã€Option valueçš„æ ¼å¼ã€‘</strong></p>
<ul>
<li>Emptyï¼šé•¿åº¦ä¸º0ã€‚</li>
<li>Opaqueï¼šä¸€ä¸ªï¼ˆç”¨æˆ·è‡ªå®šä¹‰çš„ï¼‰å­—èŠ‚åºåˆ—ã€‚</li>
<li>Uintï¼šä¸€ä¸ªéè´Ÿçš„æ•´æ•°ï¼Œä»¥ç½‘ç»œå­—èŠ‚åºè¡¨ç°ï¼Œç”±option Lengthå­—æ®µæŒ‡å®šå…¶é•¿åº¦ã€‚<br>optionæœ‰å¯èƒ½æŒ‡å®šå­—èŠ‚æ•°çš„èŒƒå›´ã€‚å¦‚æœæœ‰é€‰æ‹©çš„è¯ï¼Œå‘é€è€…åº”è¯¥ç”¨å°½å¯èƒ½å°‘çš„å­—èŠ‚æ•°è¡¨ç¤ºè¿™ä¸ªæ•´æ•°ï¼Œå¦‚çœç•¥å¼€å¤´ä¸ºçš„0çš„å­—èŠ‚ã€‚ä¾‹å¦‚ï¼Œæ•°å­—0ç”¨ç©ºçš„optionå€¼æ¥è¡¨ç¤ºï¼ˆ0é•¿åº¦å­—èŠ‚åºåˆ—ï¼‰ï¼Œæ•°å­—1ç”¨ä¸€ä¸ªå•å­—èŠ‚è¡¨ç¤ºï¼ŒMSB firstï¼ˆé«˜ä½ä¼˜å…ˆï¼‰ä¸‹ä¸º0b00000001ã€‚æ¥æ”¶ç«¯å¿…é¡»èƒ½å¤Ÿå¤„ç†0å¼€å¤´çš„å€¼ã€‚<br>å®ç°æ³¨æ„ï¼šåœ¨ä¸€äº›é«˜å—é™çš„ã€æ¨¡æ¿åŒ–çš„å®ç°ï¼ˆæ¯”å¦‚ç”±ç¡¬ä»¶å®ç°ï¼‰ä¸‹ï¼Œå…è®¸å‘é€è€…ä½¿ç”¨å›ºå®šé•¿åº¦çš„optionã€‚</li>
<li>Stringï¼šUnicodeå­—ç¬¦ä¸²ï¼Œä½¿ç”¨UTF-8<a href="http://tools.ietf.org/pdf/rfc3629.pdf">[RFC3629]</a>ç¼–ç ï¼Œä½¿ç”¨Net-Unicodeæ ¼å¼<a href="http://tools.ietf.org/pdf/rfc5198">[RFC5198]</a>ã€‚</li>
</ul>
<p><strong>æ³¨æ„ :</strong> åœ¨CoAPåè®®ä¸­ï¼Œæ‰€æœ‰ä½¿ç”¨UTF-8ç¼–ç çš„å­—ç¬¦ä¸²å¯ä»¥ä¸éœ€è¦ç»è¿‡æ ‡å‡†åŒ–è½¬æ¢è€Œè¢«ç›´æ¥ä½¿ç”¨ï¼Œæˆ–è€…ä½œä¸ºç”¨æˆ·è‡ªå®šä¹‰çš„å­—èŠ‚åºåˆ—æ¯”è¾ƒï¼Œé™¤éè¯¥Unicodeå­—ç¬¦ä¸²æ˜¯ä»CoAPåè®®ä¹‹å¤–çš„èµ„æºä¸­å¼•å…¥çš„ã€‚æ³¨æ„ï¼Œæ‰€æœ‰çš„ASCIIï¼ˆä¸ä½œä¸ºç‰¹æ®Šæ§åˆ¶å­—ç¬¦ä½¿ç”¨ï¼‰å­—ç¬¦éƒ½æ˜¯åˆæ³•çš„UTF-8 Net-Unicodeå­—ç¬¦ä¸²ã€‚</p>
<h3 id="4-COAP-è§‚å¯Ÿè€…æ¨¡å¼"><a href="#4-COAP-è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="4. COAP è§‚å¯Ÿè€…æ¨¡å¼"></a>4. COAP è§‚å¯Ÿè€…æ¨¡å¼</h3><hr>
<p>å½“ä½ éœ€è¦å»ç›‘æ§æŸä¸ªä¼ æ„Ÿå™¨ä¾‹å¦‚æ¸©åº¦æˆ–æ¹¿åº¦ç­‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒCoAPå®¢æˆ·ç«¯å¹¶ä¸éœ€è¦ä¸åœçš„æŸ¥è¯¢CoAPæœåŠ¡å™¨ç«¯çš„æ•°æ®å˜åŒ–æƒ…å†µã€‚<br>CoAPå®¢æˆ·ç«¯å¯ä»¥å‘é€ä¸€ä¸ªè§‚å¯Ÿè¯·æ±‚åˆ°æœåŠ¡å™¨ç«¯ã€‚ä»è¯¥æ—¶é—´ç‚¹å¼€å§‹è®¡ç®—ï¼ŒæœåŠ¡å™¨ä¾¿ä¼šè®°ä½å®¢æˆ·ç«¯çš„è¿æ¥ä¿¡æ¯ï¼Œä¸€æ—¦æ¸©åº¦å‘ç”Ÿå˜åŒ–ï¼ŒæœåŠ¡å™¨å°†ä¼šæŠŠæ–°ç»“æœå‘é€ç»™å®¢æˆ·ç«¯ã€‚<br>å¦‚æœå®¢æˆ·ç«¯ä¸åœ¨å¸Œæœ›è·å¾—æ¸©åº¦æ£€æµ‹ç»“æœï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯å°†ä¼šå‘é€ä¸€ä¸ªRSTå¤ä½è¯·æ±‚ï¼Œæ­¤æ—¶æœåŠ¡å™¨ä¾¿ä¼šæ¸…é™¤ä¸å®¢æˆ·ç«¯çš„è¿æ¥ä¿¡æ¯ã€‚</p>
<h3 id="5-CoAPå—ä¼ è¾“"><a href="#5-CoAPå—ä¼ è¾“" class="headerlink" title="5. CoAPå—ä¼ è¾“"></a>5. CoAPå—ä¼ è¾“</h3><hr>
<p>CoAPåè®®çš„ç‰¹ç‚¹æ˜¯ä¼ è¾“çš„å†…å®¹å°å·§ç²¾ç®€ï¼Œä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹ä¸å¾—ä¸ä¼ è¾“è¾ƒå¤§çš„æ•°æ®ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨CoAPåè®®ä¸­çš„æŸä¸ªé€‰é¡¹è®¾å®šåˆ†å—ä¼ è¾“çš„å¤§å°ï¼Œé‚£ä¹ˆæ— è®ºæ˜¯æœåŠ¡å™¨æˆ–å®¢æˆ·ç«¯å¯å®Œæˆåˆ†ç‰‡å’Œç»„è£…è¿™ä¸¤ä¸ªåŠ¨ä½œã€‚</p>
<h2 id="COAP-æ€»ç»“"><a href="#COAP-æ€»ç»“" class="headerlink" title="COAP æ€»ç»“"></a>COAP æ€»ç»“</h2><hr>
<h3 id="é€‚åˆè¿è¡Œäºå°è®¾å¤‡"><a href="#é€‚åˆè¿è¡Œäºå°è®¾å¤‡" class="headerlink" title="é€‚åˆè¿è¡Œäºå°è®¾å¤‡"></a>é€‚åˆè¿è¡Œäºå°è®¾å¤‡</h3><ul>
<li><strong>å°è®¾å¤‡ï¼š</strong>256KB Flash 32KB RAM 20MHzä¸»é¢‘â€¦.çš„è®¾å¤‡</li>
</ul>
<h3 id="ç‰¹ç‚¹æ€»ç»“"><a href="#ç‰¹ç‚¹æ€»ç»“" class="headerlink" title="ç‰¹ç‚¹æ€»ç»“"></a>ç‰¹ç‚¹æ€»ç»“</h3><ol>
<li>æ»¡è¶³èµ„æºå—é™çš„ç½‘ç»œéœ€æ±‚ã€‚</li>
<li>æ— çŠ¶æ€HTTPæ˜ å°„ï¼Œå¯ä»¥é€šè¿‡HTTPä»£ç†å®ç°è®¿é—®CoAPèµ„æºï¼Œæˆ–è€…åœ¨CoAPæ™ºå•†æ„å»ºHTTPæ¥å£ã€‚</li>
<li>ä½¿ç”¨UDPå®ç°å¯é IPå•æ’­å’Œæœ€å¤§åŠªåŠ›IPå¤šæ’­ã€‚</li>
<li>å¼‚æ­¥æ¶ˆæ¯äº¤æ¢</li>
<li>å¾ˆå°çš„æ¶ˆæ¯å¤´è½½è·åŠè§£æå¤æ‚åº¦ã€‚</li>
<li>æ”¯æŒURIå’Œå†…å®¹ç±»å‹(Content-type).</li>
<li>æ”¯æŒä»£ç†å’Œç¼“å­˜.</li>
<li>å†…å»ºèµ„æºå‘ç°.</li>
<li>å¯ä»¥ä½¿ç”¨DTLSä½œä¸ºå®‰å…¨åŠ å¯†å±‚ã€‚</li>
<li>èµ„æºæ¶ˆè€—ä½ï¼Œæ‰€éœ€RAMå’ŒROMèµ„æºå‡å°äº10KBã€‚</li>
<li>å…¶åŒå±‚(äº‹åŠ¡å±‚ï¼Œè¯·æ±‚/å“åº”å±‚)å¤„ç†æ–¹å¼å¯æ”¯æŒå¼‚æ­¥é€šä¿¡.</li>
<li>æ”¯æŒè§‚å¯Ÿæ¨¡å¼ã€‚</li>
<li>æ”¯æŒå—ä¼ è¾“</li>
</ol>
]]></content>
      <categories>
        <category>åè®®</category>
      </categories>
      <tags>
        <tag>COAP</tag>
        <tag>åè®®</tag>
      </tags>
  </entry>
  <entry>
    <title>ESP8266ç³»åˆ—-è¿æ¥OLEDæ¨¡å—</title>
    <url>/2020/04/09/8529.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="OLED-å±å¹•ä»‹ç»"><a href="#OLED-å±å¹•ä»‹ç»" class="headerlink" title="OLED å±å¹•ä»‹ç»"></a>OLED å±å¹•ä»‹ç»</h2><ul>
<li>èŠ¯ç‰‡å‹å· <a href="https://wenku.baidu.com/view/6d6497a53d1ec5da50e2524de518964bce84d233.html">SSD1306</a></li>
<li>åˆ†è¾¨ç‡ 128*64</li>
<li>ä¾›ç”µèŒƒå›´ ç›´æµ 3.3-5v</li>
<li>ä½“ç§¯ 27<em>27</em>2mm</li>
<li>å°ºå¯¸ <img src="/images/pasted-10.png" alt="upload successful"></li>
<li>SPI 4çº¿æ¥æ³• <img src="/images/pasted-11.png" alt="upload successful"></li>
<li>IIC æ¥æ³• <img src="/images/pasted-12.png" alt="upload successful"></li>
</ul>
<h3 id="OLEDä¸ESP8266-4çº¿SPIæ¥çº¿"><a href="#OLEDä¸ESP8266-4çº¿SPIæ¥çº¿" class="headerlink" title="OLEDä¸ESP8266 4çº¿SPIæ¥çº¿"></a>OLEDä¸ESP8266 4çº¿SPIæ¥çº¿</h3><table>
<thead>
<tr>
<th align="left">ESP8266</th>
<th align="left">OLED</th>
</tr>
</thead>
<tbody><tr>
<td align="left">IO_12</td>
<td align="left">DC</td>
</tr>
<tr>
<td align="left">IO_13</td>
<td align="left">DIN(MOSI)</td>
</tr>
<tr>
<td align="left">IO_14</td>
<td align="left">CLK</td>
</tr>
<tr>
<td align="left">IO_15</td>
<td align="left">RST</td>
</tr>
<tr>
<td align="left">GND</td>
<td align="left">CS</td>
</tr>
</tbody></table>
<h2 id="ESP8266-SPI"><a href="#ESP8266-SPI" class="headerlink" title="ESP8266 SPI"></a>ESP8266 SPI</h2><p><img src="/images/pasted-17.png" alt="upload successful"></p>
<h2 id="U8g2åº“"><a href="#U8g2åº“" class="headerlink" title="U8g2åº“"></a>U8g2åº“</h2><p><a href="https://github.com/olikraus/u8g2/wiki/u8g2reference">å®˜æ–¹apiè¯´æ˜</a></p>
<ul>
<li>u8g2_SetFontMode<br>```c<br>/*<br>set one of:<br>  U8G2_FONT_MODE_TRANSPARENT<br>  U8G2_FONT_MODE_SOLID<br>  U8G2_FONT_MODE_NONE<br>This has been changed for the new font procedures  </li>
</ul>
<p>*/<br>void u8g2_SetFontMode(u8g2_t *u8g2, uint8_t is_transparent)</p>
<pre><code>**è¯´æ˜:**å®šä¹‰å­—å½¢å’Œå­—ç¬¦ä¸²ç»˜åˆ¶å‡½æ•°æ˜¯å¦å†™å…¥èƒŒæ™¯è‰²ï¼ˆæ¨¡å¼0 / solidï¼Œis_transparent = 0ï¼‰æˆ–ä¸å†™å…¥èƒŒæ™¯é¢œè‰²ï¼ˆæ¨¡å¼1 /é€æ˜ï¼Œis_transparent = 1ï¼‰ã€‚ é»˜è®¤æ¨¡å¼ä¸º0ï¼ˆå­—ç¬¦çš„èƒŒæ™¯é¢œè‰²è¢«è¦†ç›–ï¼‰ã€‚

- u8g2_SetFontDirection</code></pre>
<p>void u8g2_SetFontDirection(u8g2_t *u8g2, uint8_t dir)</p>
<p>```</p>
<h2 id="å–æ¨¡è½¯ä»¶"><a href="#å–æ¨¡è½¯ä»¶" class="headerlink" title="å–æ¨¡è½¯ä»¶"></a>å–æ¨¡è½¯ä»¶</h2><ul>
<li><a href="https://tools.clz.me/">https://tools.clz.me/</a></li>
<li><a href="https://github.com/coloz/image-to-bitmap-array">https://github.com/coloz/image-to-bitmap-array</a></li>
</ul>
<h2 id="å¤©æ°”è·å–API"><a href="#å¤©æ°”è·å–API" class="headerlink" title="å¤©æ°”è·å–API"></a>å¤©æ°”è·å–API</h2><p><a href="http://wthrcdn.etouch.cn/WeatherApi?city=%E5%B9%BF%E5%B7%9E">http://wthrcdn.etouch.cn/WeatherApi?city=%E5%B9%BF%E5%B7%9E</a></p>
<h3 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h3><ul>
<li><a href="https://www.jianshu.com/p/404907770c90">https://www.jianshu.com/p/404907770c90</a></li>
<li><a href="https://www.cnblogs.com/huan-huan/p/8528307.html">https://www.cnblogs.com/huan-huan/p/8528307.html</a></li>
<li><a href="https://mbb.eet-china.com/forum/topic/74077_1_1.html">https://mbb.eet-china.com/forum/topic/74077_1_1.html</a></li>
<li><a href="https://blog.csdn.net/dpjcn1990/article/details/92831760">https://blog.csdn.net/dpjcn1990/article/details/92831760</a></li>
<li><a href="https://blog.csdn.net/notMine/article/details/79317782">https://blog.csdn.net/notMine/article/details/79317782</a></li>
<li><a href="http://www.mculover666.cn/posts/3603126757/">http://www.mculover666.cn/posts/3603126757/</a>   (RT-Thread Oled)</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>Github Blog æ­å»ºå…¥é—¨</title>
    <url>/2017/03/26/fc92.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr>
<h2 id="GitHub-é¡¹ç›®åˆ›å»º"><a href="#GitHub-é¡¹ç›®åˆ›å»º" class="headerlink" title="GitHub é¡¹ç›®åˆ›å»º"></a>GitHub é¡¹ç›®åˆ›å»º</h2><ul>
<li>åˆ›å»ºä¸€ä¸ªè·Ÿä½ çš„ç”¨æˆ·åç›¸åŒçš„é¡¹ç›®ï¼Œæ¯”å¦‚æˆ‘çš„*<strong>github**<em>åç§°æ˜¯</em></strong>ilxj*** åˆ™é¡¹ç›®åç§°ä¸º**<em>ilxj.github.io**</em></li>
</ul>
<h2 id="nodejså®‰è£…"><a href="#nodejså®‰è£…" class="headerlink" title="nodejså®‰è£…"></a>nodejså®‰è£…</h2><ul>
<li>å®‰è£…nodejsï¼Œä¸‹è½½ç›´æ¥å®‰è£…å°±å¯ä»¥äº†: <a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a>.</li>
</ul>
<a id="more"></a>

<h2 id="hexoå®‰è£…"><a href="#hexoå®‰è£…" class="headerlink" title="hexoå®‰è£…"></a>hexoå®‰è£…</h2><ul>
<li>å®‰è£…é…ç½®hexoï¼Œå®‰è£…å‘½ä»¤:</li>
</ul>
<h3 id="æ·˜å®cnpm"><a href="#æ·˜å®cnpm" class="headerlink" title="æ·˜å®cnpm"></a>æ·˜å®cnpm</h3><p>ç½‘å€:<a href="https://npm.taobao.org/">https://npm.taobao.org/</a></p>
<pre class=" language-sh"><code class="language-sh">npm install -g hexo-cli
# è‹¥npm å®‰è£…æœ‰é—®é¢˜ï¼Œå¯ä»¥æ›´æ”¹ä¸ºæ·˜å®æº,ä¹‹åå¯ä»¥ç”¨ cnpm ä»£æ›¿ npm
npm install -g cnpm --registry=https://registry.npm.taobao.org</code></pre>
<ul>
<li>åœ¨ç»ˆç«¯è¾“å…¥:</li>
</ul>
<pre class=" language-sh"><code class="language-sh"> $ hexo
 #æ˜¾ç¤ºå¦‚ä¸‹åˆ™æˆåŠŸ.</code></pre>
<p> <img src="http://upload-images.jianshu.io/upload_images/1736256-808fd91a203124d3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="hexo"></p>
<ul>
<li>åˆå§‹åŒ–åšå®¢</li>
</ul>
<pre class=" language-sh"><code class="language-sh"> #å»ºç«‹ä¸€ä¸ªåšå®¢æ–‡ä»¶å¤¹ï¼Œå¹¶åˆå§‹åŒ–åšå®¢ï¼Œ<folder>ä¸ºæ–‡ä»¶å¤¹çš„åç§°ï¼Œå¯ä»¥éšä¾¿èµ·åå­—
 $ hexo init <folder>
 #è¿›å…¥åšå®¢æ–‡ä»¶å¤¹ï¼Œæ ¹æ®åšå®¢æ—¢å®šçš„dependenciesé…ç½®å®‰è£…æ‰€æœ‰çš„ä¾èµ–åŒ…
 $ npm install
 # éƒ¨ç½²æ‰€éœ€çš„æ’ä»¶,åŠ ä¸Š--saveæ¯”è¾ƒå¥½
 $ npm install hexo-deployer-git    --save</code></pre>
<ul>
<li>åˆå§‹åŒ–å®Œæˆä¹‹åï¼Œç›®å½•å¦‚ä¸‹å›¾<br><img src="http://upload-images.jianshu.io/upload_images/1736256-41e851da429e5a19.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="hexo åˆå§‹åŒ–å›¾"><h2 id="åšå®¢é…ç½®"><a href="#åšå®¢é…ç½®" class="headerlink" title="åšå®¢é…ç½®"></a>åšå®¢é…ç½®</h2><img src="http://upload-images.jianshu.io/upload_images/1736256-70632d39b4a81358.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="åšå®¢é…ç½®"></li>
</ul>
<h3 id="æœ¬åœ°å‘å¸ƒå‘½ä»¤"><a href="#æœ¬åœ°å‘å¸ƒå‘½ä»¤" class="headerlink" title="æœ¬åœ°å‘å¸ƒå‘½ä»¤"></a>æœ¬åœ°å‘å¸ƒå‘½ä»¤</h3><pre class=" language-bash"><code class="language-bash"> $ hexo server.
 <span class="token comment" spellcheck="true">#æµè§ˆå™¨æµè§ˆ:http://localhost:4000/</span></code></pre>
<h3 id="GitHub-å‘å¸ƒå‘½ä»¤"><a href="#GitHub-å‘å¸ƒå‘½ä»¤" class="headerlink" title="GitHub å‘å¸ƒå‘½ä»¤"></a>GitHub å‘å¸ƒå‘½ä»¤</h3><pre class=" language-bash"><code class="language-bash"> $ hexo generate
 $ hexo deploy</code></pre>
<p>è¿™æ—¶å€™æˆ‘ä»¬çš„åšå®¢å·²ç»éƒ¨ç½²åˆ°ç½‘ä¸Šäº†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æµè§ˆå™¨åœ°å€è¾“å…¥æ è¾“å…¥æˆ‘ä»¬çš„ç½‘å€å³å¯ï¼Œå¦‚æˆ‘çš„åšå®¢æ˜¯:<a href="http://lxj-life.com/">ilxj.github.io</a>ã€‚</p>
<h2 id="è·¨PCéƒ¨ç½²"><a href="#è·¨PCéƒ¨ç½²" class="headerlink" title="è·¨PCéƒ¨ç½²"></a>è·¨PCéƒ¨ç½²</h2><p>åŸç†æ˜¯ä¸€ä¸ªä»“åº“å­˜éƒ¨ç½²å·¥å…·ï¼Œå¦å¤–ä¸€ä¸ªå‚è€ƒç”¨æ¥åšå‘å¸ƒä»“åº“ï¼›</p>
<h2 id="Hexo-ä¸»é¢˜"><a href="#Hexo-ä¸»é¢˜" class="headerlink" title="Hexo ä¸»é¢˜"></a>Hexo ä¸»é¢˜</h2><ul>
<li><a href="https://hexo.io/themes/">å®˜ç½‘ hexo ä¸»é¢˜</a></li>
<li><a href="https://github.com/hexojs/hexo/wiki/Themes">ä¸»é¢˜ github</a></li>
</ul>
<h3 id="æœ¬åšå®¢ä¸»é¢˜æ˜¯NEXT"><a href="#æœ¬åšå®¢ä¸»é¢˜æ˜¯NEXT" class="headerlink" title="æœ¬åšå®¢ä¸»é¢˜æ˜¯NEXT"></a>æœ¬åšå®¢ä¸»é¢˜æ˜¯NEXT</h3><ul>
<li>æ–°å»ºä¸€ä¸ªé¡µé¢ï¼Œå‘½åä¸º tags ã€‚å‘½ä»¤å¦‚ä¸‹ï¼š<pre><code>$ hexo new page tags</code></pre>
</li>
<li>åˆå§‹åŒ–<br>ç¼–è¾‘åˆšæ–°å»ºçš„é¡µé¢ï¼Œè®¾ç½®typeä¸ºtagsï¼š</li>
</ul>
<pre><code>title: æ ‡ç­¾
date: 2014-12-22 12:39:04
type: &quot;tags&quot;

---</code></pre>
<p><a href="http://theme-next.iissnan.com/getting-started.html">NEXT å‚è€ƒ</a></p>
<h2 id="CDN-å…è´¹åŠ é€Ÿ"><a href="#CDN-å…è´¹åŠ é€Ÿ" class="headerlink" title="CDN å…è´¹åŠ é€Ÿ"></a>CDN å…è´¹åŠ é€Ÿ</h2><p>å®˜ç½‘: <a href="https://www.jsdelivr.com/?docs=gh">https://www.jsdelivr.com/?docs=gh</a><br>ä¾‹å­</p>
<pre class=" language-sh"><code class="language-sh">https://cdn.jsdelivr.net/gh/githubç”¨æˆ·å/ä»“åº“@åˆ†æ”¯/images/pasted-15.png</code></pre>
]]></content>
      <tags>
        <tag>hexo</tag>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoæ’ä»¶-Hexo Admin</title>
    <url>/2017/08/08/6e86.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Hexo-Admin"><a href="#Hexo-Admin" class="headerlink" title="Hexo Admin"></a>Hexo Admin</h2><p>å®˜ç½‘é“¾æ¥:<a href="https://jaredforsyth.com/hexo-admin/">https://jaredforsyth.com/hexo-admin/</a></p>
<blockquote>
<p>æ’ä»¶å¯ä»¥ç›´æ¥åœ¨ç½‘é¡µç«¯åˆ›å»ºã€ç¼–è¾‘markdownæ–‡ç« å†…å®¹ï¼Œå¹¶å°†å†…å®¹å‘å¸ƒåˆ°_postsé‡Œã€‚<br>å¦å¤–ï¼Œå¯¹æˆ‘è€Œè¨€ï¼Œæœ€æ–¹ä¾¿çš„æ˜¯å¯ä»¥å¾ˆæ–¹ä¾¿çš„ç»™æ–‡ç« åŠ æ ‡é¢˜ã€åˆ†ç±»ã€æ‰“æ ‡ç­¾ã€‚</p>
</blockquote>
<h2 id="å®‰è£…æ–¹æ³•"><a href="#å®‰è£…æ–¹æ³•" class="headerlink" title="å®‰è£…æ–¹æ³•"></a>å®‰è£…æ–¹æ³•</h2><ol>
<li>ç¬¬ä¸€æ­¥:ä¸‹è½½å¯åŠ¨</li>
</ol>
<pre class=" language-sh"><code class="language-sh">npm install --save hexo-admin
hexo server -d
open http://localhost:4000/admin/</code></pre>
<a id="more"></a>

<ol start="2">
<li>ç¬¬äºŒæ­¥ï¼šé…ç½®</li>
</ol>
<p>åœ¨Hexo å…¨å±€é…ç½®æ–‡ä»¶<strong>_config.yml</strong>æœ€åæ·»åŠ ç±»ä¼¼å¦‚ä¸‹å†…å®¹</p>
<pre class=" language-sh"><code class="language-sh">admin:
  username: AlexLin
  password_hash: be121740bf988b2225a313fa1f107ca1
  secret: your admin password</code></pre>
<p><strong><em>secret :</em></strong>ä½ çš„åå°ç®¡ç†å¯†ç </p>
<p><strong><em>password_hash:</em></strong> ç”¨å¯†ç ç”Ÿæˆçš„å“ˆå¸Œä¸²</p>
<p>æˆ‘çš„ç”Ÿæˆå‘½ä»¤å¦‚ä¸‹:</p>
<pre class=" language-sh"><code class="language-sh">Alex@Alex-PC MINGW64 /e/work/myblog/gitBlog/hexo (master)
$ node
> const bcrypt = require('bcrypt-nodejs')
undefined
> bcrypt.hashSync('AlexLin666')
'$2a$10$NVMZ2dYeOd5YRxNb7g3WJOBMzJfaXJ5I53QCy8Pw5IV.3Uoldz0wq'
></code></pre>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoæ·»åŠ Swiftype</title>
    <url>/2017/08/04/5fa1.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="1-swiftype-æ­å»ºç«™å†…æœç´¢"><a href="#1-swiftype-æ­å»ºç«™å†…æœç´¢" class="headerlink" title="1.swiftype æ­å»ºç«™å†…æœç´¢"></a>1.swiftype æ­å»ºç«™å†…æœç´¢</h2><p>Swiftypeç«™å†…æœç´¢ ï¼Œ<a href="https://swiftype.com/">å®˜ç½‘</a></p>
<h3 id="Swiftype-é…ç½®"><a href="#Swiftype-é…ç½®" class="headerlink" title="Swiftype é…ç½®"></a>Swiftype é…ç½®</h3><ol>
<li>éœ€è¦æ³¨å†Œè´¦å·ï¼Œç›®å‰åªæ˜¯æ”¯æŒä¼ä¸šé‚®ç®±æ³¨å†Œ</li>
<li>åˆ›å»ºç½‘ç«™æœç´¢å¼•æ“ï¼Œç„¶åè¿›å…¥ä»¥ä¸‹ç•Œé¢<br><img src="http://upload-images.jianshu.io/upload_images/1736256-0ba9347ffa9e0420.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å›¾ç‰‡"></li>
</ol>
<blockquote>
<p>#st-search-input</p>
</blockquote>
<a id="more"></a>

<ol start="3">
<li>ç‚¹å‡»å³ä¸‹çš„<strong>SAVE</strong>,æ¥ç€ç‚¹å‡»<strong>ACTIVATE SWIFTYPE</strong>æŒ‰é’®å³å¯å®Œæˆswiftypeçš„æ‰€æœ‰é…ç½®äº†;</li>
<li>ç„¶åè‡ªåŠ¨æ¥åˆ°è¿™ä¸ªç•Œé¢ï¼ŒæŠŠ<strong>install</strong> åé¢çš„å­—ç¬¦ä¸²æ‹·è´å‡ºæ¥;</li>
</ol>
<h3 id="Hexo-Next-ä¸»é¢˜é…ç½®"><a href="#Hexo-Next-ä¸»é¢˜é…ç½®" class="headerlink" title="Hexo Next ä¸»é¢˜é…ç½®"></a>Hexo Next ä¸»é¢˜é…ç½®</h3><ol>
<li>source åˆ›å»º search/index.md</li>
<li>search/index.md æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä¿¡æ¯<pre><code>layout: search
title: search</code></pre>
</li>
</ol>
<hr>
<pre><code>
3. å…¨å±€é…ç½®æ–‡ä»¶_config.ymlæ·»åŠ ä»¥ä¸‹å†…å®¹/å¦‚å›¾
```yml
swiftype_key: you_swiftype_key

search:
  path: search.xml
  field: post</code></pre>
<pre><code>![é…ç½®å›¾][3]</code></pre>
<ol start="4">
<li>éªŒè¯å®Œæˆ<pre class=" language-sh"><code class="language-sh">hexo clean;hexo g ;hexo s;hexo d</code></pre>
</li>
</ol>
<h2 id="2-Hexo-ç«™å†…æœç´¢"><a href="#2-Hexo-ç«™å†…æœç´¢" class="headerlink" title="2.Hexo ç«™å†…æœç´¢"></a>2.Hexo ç«™å†…æœç´¢</h2><blockquote>
<p>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸º<code>swiftype</code>è¿‡æœŸä¹‹åå°±æ— æ³•ä½¿ç”¨äº†ï¼Œä½¿ç”¨ <code>hexo-generator-search</code> æ’ä»¶å¯ä»¥ç”¨æœ¬åœ°æœç´¢</p>
</blockquote>
<h3 id="1-æ­¥éª¤ä¸€ã€å®‰è£…æ’ä»¶"><a href="#1-æ­¥éª¤ä¸€ã€å®‰è£…æ’ä»¶" class="headerlink" title="1. æ­¥éª¤ä¸€ã€å®‰è£…æ’ä»¶"></a>1. æ­¥éª¤ä¸€ã€å®‰è£…æ’ä»¶</h3><pre class=" language-sh"><code class="language-sh">    npm install hexo-generator-search --save</code></pre>
<h3 id="2-æ­¥éª¤äºŒã€é…ç½®"><a href="#2-æ­¥éª¤äºŒã€é…ç½®" class="headerlink" title="2. æ­¥éª¤äºŒã€é…ç½®"></a>2. æ­¥éª¤äºŒã€é…ç½®</h3><p>   2.1 å…¨å±€é…ç½®æ–‡ä»¶ <code>_config.yml</code><br>    <code>yml     search:       path: search.xml       field: post       format: html       limit: 10000     </code><br>   2.2 ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>next/_config.yml</code><br>    <code>yml     # Local search     local_search:       enable: true     </code></p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoç›¸å…³èµ„æº</title>
    <url>/2017/08/04/ddcb.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>ä¸­æ–‡ç½‘ç«™ : <a href="https://hexo.io/zh-cn/docs/">https://hexo.io/zh-cn/docs/</a></p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoç¬¬ä¸‰æ–¹è¯„è®ºæ’ä»¶å¼•ç”¨</title>
    <url>/2017/08/01/6835.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ç¬¬ä¸‰æ–¹æ’ä»¶-å‹è¨€"><a href="#ç¬¬ä¸‰æ–¹æ’ä»¶-å‹è¨€" class="headerlink" title="ç¬¬ä¸‰æ–¹æ’ä»¶-å‹è¨€"></a>ç¬¬ä¸‰æ–¹æ’ä»¶-å‹è¨€</h2><blockquote>
<p>å‹è¨€å·²ç»æš‚åœæœåŠ¡äº†ï¼Œåˆä¸èƒ½ç”¨<br>å› å…¬å¸ä¸šåŠ¡è°ƒæ•´ï¼Œéå¸¸é—æ†¾çš„å‘å¤§å®¶å®£å¸ƒJiaThiså…¬å¸å†³å®šè‡ª2018å¹´4æœˆ30æ—¥èµ·å…³é—­æ——ä¸‹â€œå‹è¨€â€ä¸šåŠ¡ã€‚<br>å› ä¸ºå…³åœâ€œå‹è¨€â€ä¸šåŠ¡ç»™æ‚¨é€ æˆçš„ä¸ä¾¿ï¼Œæˆ‘ä»¬æ·±è¡¨æ­‰æ„ã€‚</p>
</blockquote>
<ul>
<li><a href="http://www.uyan.cc/">å‹è¨€å®˜ç½‘</a></li>
<li><a href="http://www.jianshu.com/p/4729e92fddbe">ç›¸å…³æ•™ç¨‹ 1 </a></li>
<li><a href="http://www.qtdebug.com/hexo-uyan/">ç›¸å…³æ•™ç¨‹ 2 </a></li>
</ul>
<a id="more"></a>

]]></content>
      <tags>
        <tag>hexo</tag>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>IoTè®¾å¤‡</title>
    <url>/2018/03/28/b3f9.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>æ˜å¤©è¦å»å¹²ä¸€ä»¶å¤§äº‹ï¼Œä¸èƒ½ä¸¢æŸäººçš„è„¸~ğŸ†™åŠ æ²¹ğŸ’ª</p>
<div align="center" >
![AVR][3]
</div>

<a id="more"></a>

<div align="center" >
![AVR][4]
</div>

<div align="center" >
![89S51æœ€å°ç³»ç»Ÿ][1]
</div>


]]></content>
      <categories>
        <category>ç¡¬ä»¶è®¾å¤‡</category>
      </categories>
      <tags>
        <tag>æ™ºèƒ½ç¡¬ä»¶</tag>
        <tag>IoT</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxä¹‹CoreDump</title>
    <url>/2017/06/06/7ad3.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Core-Dump-å®šä½"><a href="#Core-Dump-å®šä½" class="headerlink" title="Core Dump å®šä½"></a>Core Dump å®šä½</h2><hr>
<h3 id="æ‰“å¼€CoreDump-åŠŸèƒ½"><a href="#æ‰“å¼€CoreDump-åŠŸèƒ½" class="headerlink" title="æ‰“å¼€CoreDump åŠŸèƒ½"></a>æ‰“å¼€CoreDump åŠŸèƒ½</h3><ul>
<li>åœ¨ç»ˆç«¯ä¸­è¾“å…¥å‘½ä»¤ ulimit -c ï¼Œè¾“å‡ºçš„ç»“æœä¸º 0ï¼Œè¯´æ˜é»˜è®¤æ˜¯å…³é—­ core dump çš„ï¼Œå³å½“ç¨‹åºå¼‚å¸¸ç»ˆæ­¢æ—¶ï¼Œä¹Ÿä¸ä¼šç”Ÿæˆ core dump æ–‡ä»¶ã€‚</li>
<li>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤ ulimit -c unlimited æ¥å¼€å¯ core dump åŠŸèƒ½ï¼Œå¹¶ä¸”ä¸é™åˆ¶ core dump æ–‡ä»¶çš„å¤§å°ï¼› å¦‚æœéœ€è¦é™åˆ¶æ–‡ä»¶çš„å¤§å°ï¼Œå°† unlimited æ”¹æˆä½ æƒ³ç”Ÿæˆ core æ–‡ä»¶æœ€å¤§çš„å¤§å°ï¼Œæ³¨æ„å•ä½ä¸º blocksï¼ˆKBï¼‰ã€‚</li>
<li>ç”¨ä¸Šé¢å‘½ä»¤åªä¼šå¯¹å½“å‰çš„ç»ˆç«¯ç¯å¢ƒæœ‰æ•ˆï¼Œå¦‚æœæƒ³éœ€è¦æ°¸ä¹…ç”Ÿæ•ˆï¼Œå¯ä»¥ä¿®æ”¹æ–‡ä»¶Â /etc/security/limits.conf<br>æ–‡ä»¶ï¼Œå…³äºæ­¤æ–‡ä»¶çš„è®¾ç½®å‚çœ‹Â <strong><a href="http://manpages.ubuntu.com/manpages/hardy/man5/limits.conf.5.html">è¿™é‡Œ</a></strong>Â ã€‚å¢åŠ ä¸€è¡Œ:</li>
</ul>
<a id="more"></a>

<pre class=" language-sh"><code class="language-sh"># /etc/security/limits.conf
#
#Each line describes a limit for a user in the form:
#
#<domain>   <type>   <item>   <value>
  *          soft     core   unlimited</code></pre>
<h3 id="ä¿®æ”¹-core-æ–‡ä»¶ä¿å­˜çš„è·¯å¾„"><a href="#ä¿®æ”¹-core-æ–‡ä»¶ä¿å­˜çš„è·¯å¾„" class="headerlink" title="ä¿®æ”¹ core æ–‡ä»¶ä¿å­˜çš„è·¯å¾„"></a><strong>ä¿®æ”¹ core æ–‡ä»¶ä¿å­˜çš„è·¯å¾„</strong></h3><p>é»˜è®¤ç”Ÿæˆçš„ core æ–‡ä»¶ä¿å­˜åœ¨å¯æ‰§è¡Œæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åå°±ä¸ºÂ coreã€‚<br>é€šè¿‡ä¿®æ”¹Â /proc/sys/kernel/core_uses_pid æ–‡ä»¶å¯ä»¥è®©ç”Ÿæˆ core æ–‡ä»¶åæ˜¯å¦è‡ªåŠ¨åŠ ä¸Š pid å·ã€‚<br>ä¾‹å¦‚Â echo 1 &gt; /proc/sys/kernel/core_uses_pidï¼Œç”Ÿæˆçš„ core æ–‡ä»¶åå°†ä¼šå˜æˆÂ core.pidï¼Œå…¶ä¸­ pid è¡¨ç¤ºè¯¥è¿›ç¨‹çš„ PIDã€‚<br>è¿˜å¯ä»¥é€šè¿‡ä¿®æ”¹Â /proc/sys/kernel/core_patternæ¥æ§åˆ¶ç”Ÿæˆ core æ–‡ä»¶ä¿å­˜çš„ä½ç½®ä»¥åŠæ–‡ä»¶åæ ¼å¼ã€‚ä¾‹å¦‚å¯ä»¥ç”¨Â echo â€œ/tmp/corefile-%e-%p-%tâ€ &gt; /proc/sys/kernel/core_pattern è®¾ç½®ç”Ÿæˆçš„ core æ–‡ä»¶ä¿å­˜åœ¨ â€œ/tmp/corefileâ€ ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åæ ¼å¼ä¸º â€œcore-å‘½ä»¤å-pid-æ—¶é—´æˆ³â€ã€‚**<a href="http://man7.org/linux/man-pages/man5/core.5.html">è¿™é‡Œ</a>**Â æœ‰æ›´å¤šè¯¦ç»†çš„è¯´æ˜ï¼</p>
<h3 id="å®ç”¨GDB-å®šä½Core"><a href="#å®ç”¨GDB-å®šä½Core" class="headerlink" title="å®ç”¨GDB å®šä½Core"></a>å®ç”¨GDB å®šä½Core</h3><ul>
<li>ç”¨gcc -g ç¼–è¯‘ç”Ÿæˆå¸¦è°ƒè¯•ä¿¡æ¯æ–‡ä»¶:</li>
</ul>
<pre class=" language-sh"><code class="language-sh">gcc -g demo.c  -o demo</code></pre>
<ul>
<li>è¿è¡Œç¨‹åºï¼Œäº§ç”Ÿcore æ–‡ä»¶:</li>
</ul>
<pre class=" language-sh"><code class="language-sh">./demo</code></pre>
<ul>
<li>å®ç”¨GDB è°ƒè¯•:</li>
</ul>
<pre class=" language-sh"><code class="language-sh">gdb demo core</code></pre>
<h3 id="å®é™…ä¾‹å­å¦‚ä¸‹"><a href="#å®é™…ä¾‹å­å¦‚ä¸‹" class="headerlink" title="å®é™…ä¾‹å­å¦‚ä¸‹"></a>å®é™…ä¾‹å­å¦‚ä¸‹</h3><pre class=" language-C"><code class="language-C">#include <stdarg.h>
#include <stdio.h>
#include <string.h>
// void demoFun( char *start,... )
// &#123;
//     va_list arg_ptr;
//     char *value =NULL;
//     char *valueOne=NULL;
//     value = start;

//     va_start(arg_ptr, start );
//     do&#123;
//         printf("value :%s len=%d \n", value,strlen(value) );
//         valueOne = value;
//         value=va_arg(arg_ptr, int);
//     &#125;while( value!=NULL);
//     va_end(arg_ptr);
//     printf( "%s %d value=%s\n",__FUNCTION__,__LINE__,valueOne );
//     return;
// &#125;

void printfData( int *pData )
&#123;
    *pData = 100;
&#125;
void main( void )
&#123;
    int *null_ptr = NULL;
    printfData( null_ptr );

    return ;
&#125;</code></pre>
<p>è¿è¡Œæ­¥éª¤å¦‚ä¸‹</p>
<pre class=" language-sh"><code class="language-sh">alex@alex-virtual-machine:/mnt/hgfs/gagent/working/demo$ gcc -g demo.c  -o demo
alex@alex-virtual-machine:/mnt/hgfs/gagent/working/demo$ ./demo
Segmentation fault (core dumped)
alex@alex-virtual-machine:/mnt/hgfs/gagent/working/demo$ gdb demo core
GNU gdb (Ubuntu/Linaro 7.4-2012.04-0ubuntu2.1) 7.4-2012.04
Copyright (C) 2012 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "i686-linux-gnu".
For bug reporting instructions, please see:
<http://bugs.launchpad.net/gdb-linaro/>...
Reading symbols from /mnt/hgfs/gagent/working/demo/demo...done.

warning: core file may not match specified executable file.
[New LWP 8867]

warning: Can't read pathname for load map: Input/output error.
Core was generated by `./demo.c'.
Program terminated with signal 11, Segmentation fault.
#0  0x080483ba in printfData (pData=0x0) at demo.c:24
24      *pData = 100;
(gdb) where   #----------------->æ˜¾ç¤ºåœ¨å“ªä¸ªå‡½æ•°å‘ç”Ÿé”™è¯¯ï¼Œä»¥åŠåœ¨å“ªä¸ªåœ°æ–¹è°ƒç”¨äº†è¯¥å‡½æ•°
#0  0x080483ba in printfData (pData=0x0) at demo.c:24
#1  0x080483da in main () at demo.c:29
(gdb) quit    #----------------->é€€å‡ºgdb</code></pre>
<h3 id="GDB-æ–­ç‚¹ï¼ˆBreakPointï¼‰ï¼š"><a href="#GDB-æ–­ç‚¹ï¼ˆBreakPointï¼‰ï¼š" class="headerlink" title="GDB æ–­ç‚¹ï¼ˆBreakPointï¼‰ï¼š"></a>GDB æ–­ç‚¹ï¼ˆBreakPointï¼‰ï¼š</h3><p>åœ¨ä»£ç çš„æŒ‡å®šä½ç½®ä¸­æ–­ï¼Œè¿™ä¸ªæ˜¯æˆ‘ä»¬ç”¨å¾—æœ€å¤šçš„ä¸€ç§ã€‚è®¾ç½®æ–­ç‚¹çš„å‘½ä»¤æ˜¯breakï¼Œå®ƒé€šå¸¸æœ‰å¦‚ä¸‹æ–¹å¼ï¼š</p>
<pre><code>break &lt;function&gt;    åœ¨è¿›å…¥æŒ‡å®šå‡½æ•°æ—¶åœä½
break &lt;linenum&gt;    åœ¨æŒ‡å®šè¡Œå·åœä½ã€‚
break +/-offset    åœ¨å½“å‰è¡Œå·çš„å‰é¢æˆ–åé¢çš„offsetè¡Œåœä½ã€‚offisetä¸ºè‡ªç„¶æ•°ã€‚
break filename:linenum    åœ¨æºæ–‡ä»¶filenameçš„linenumè¡Œå¤„åœä½ã€‚
break ... if &lt;condition&gt;    ...å¯ä»¥æ˜¯ä¸Šè¿°çš„å‚æ•°ï¼Œconditionè¡¨ç¤ºæ¡ä»¶ï¼Œåœ¨æ¡ä»¶æˆç«‹æ—¶åœä½ã€‚æ¯”å¦‚åœ¨å¾ªç¯å¢ƒä½“ä¸­ï¼Œå¯ä»¥è®¾ç½®break if i=100ï¼Œè¡¨ç¤ºå½“iä¸º100æ—¶åœä½ç¨‹åºã€‚</code></pre>
<p>å¯ä»¥é€šè¿‡info breakpoints [n]å‘½ä»¤æŸ¥çœ‹å½“å‰æ–­ç‚¹ä¿¡æ¯ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰å¦‚ä¸‹å‡ ä¸ªé…å¥—çš„å¸¸ç”¨å‘½ä»¤ï¼š</p>
<pre><code>delete    åˆ é™¤æ‰€æœ‰æ–­ç‚¹
delete breakpoint [n]    åˆ é™¤æŸä¸ªæ–­ç‚¹
disable breakpoint [n]    ç¦ç”¨æŸä¸ªæ–­ç‚¹
enable breakpoint [n]    ä½¿èƒ½æŸä¸ªæ–­ç‚¹</code></pre>
<h3 id="è§‚å¯Ÿç‚¹ï¼ˆWatchPointï¼‰ï¼š"><a href="#è§‚å¯Ÿç‚¹ï¼ˆWatchPointï¼‰ï¼š" class="headerlink" title="è§‚å¯Ÿç‚¹ï¼ˆWatchPointï¼‰ï¼š"></a>è§‚å¯Ÿç‚¹ï¼ˆWatchPointï¼‰ï¼š</h3><p>åœ¨å˜é‡è¯»ã€å†™æˆ–å˜åŒ–æ—¶ä¸­æ–­ï¼Œè¿™ç±»æ–¹å¼å¸¸ç”¨æ¥å®šä½bugã€‚</p>
<pre><code>watch &lt;expr&gt;    å˜é‡å‘ç”Ÿå˜åŒ–æ—¶ä¸­æ–­
rwatch &lt;expr&gt;    å˜é‡è¢«è¯»æ—¶ä¸­æ–­
awatch &lt;expr&gt;     å˜é‡å€¼è¢«è¯»æˆ–è¢«å†™æ—¶ä¸­æ–­</code></pre>
<p>å¯ä»¥é€šè¿‡info watchpoints [n]å‘½ä»¤æŸ¥çœ‹å½“å‰è§‚å¯Ÿç‚¹ä¿¡æ¯</p>
<h3 id="æ•æ‰ç‚¹ï¼ˆCatchPointï¼‰ï¼š"><a href="#æ•æ‰ç‚¹ï¼ˆCatchPointï¼‰ï¼š" class="headerlink" title="æ•æ‰ç‚¹ï¼ˆCatchPointï¼‰ï¼š"></a>æ•æ‰ç‚¹ï¼ˆCatchPointï¼‰ï¼š</h3><p>æ•æ‰ç‚¹ç”¨æ¥è¡¥æ‰ç¨‹åºè¿è¡Œæ—¶çš„ä¸€äº›äº‹ä»¶ã€‚å¦‚ï¼šè½½å…¥å…±äº«åº“ï¼ˆåŠ¨æ€é“¾æ¥åº“ï¼‰ã€C++çš„å¼‚å¸¸ç­‰ã€‚é€šå¸¸ä¹Ÿæ˜¯ç”¨æ¥å®šä½bugã€‚</p>
<p>æ•æ‰ç‚¹çš„å‘½ä»¤æ ¼å¼æ˜¯ï¼šcatch <event>ï¼Œeventå¯ä»¥æ˜¯ä¸‹é¢çš„å†…å®¹</p>
<pre><code>throw     C++æŠ›å‡ºçš„å¼‚å¸¸æ—¶ä¸­æ–­
catch     C++æ•æ‰åˆ°çš„å¼‚å¸¸æ—¶ä¸­æ–­
exec    è°ƒç”¨ç³»ç»Ÿè°ƒç”¨execæ—¶ï¼ˆåªåœ¨æŸäº›æ“ä½œç³»ç»Ÿä¸‹æœ‰ç”¨ï¼‰
fork    è°ƒç”¨ç³»ç»Ÿè°ƒç”¨forkæ—¶ï¼ˆåªåœ¨æŸäº›æ“ä½œç³»ç»Ÿä¸‹æœ‰ç”¨ï¼‰
vfork    è°ƒç”¨ç³»ç»Ÿè°ƒç”¨vforkæ—¶ï¼ˆåªåœ¨æŸäº›æ“ä½œç³»ç»Ÿä¸‹æœ‰ç”¨ï¼‰
load æˆ– load &lt;libname&gt;     è½½å…¥å…±äº«åº“æ—¶ï¼ˆåªåœ¨æŸäº›æ“ä½œç³»ç»Ÿä¸‹æœ‰ç”¨ï¼‰
unload æˆ– unload &lt;libname&gt;    å¸è½½å…±äº«åº“æ—¶ï¼ˆåªåœ¨æŸäº›æ“ä½œç³»ç»Ÿä¸‹æœ‰ç”¨ï¼‰</code></pre>
<p>å¦å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªtcatch <event>ï¼ŒåŠŸèƒ½ç±»ä¼¼ï¼Œä¸è¿‡ä»–åªè®¾ç½®ä¸€æ¬¡æ•æ‰ç‚¹ï¼Œå½“ç¨‹åºåœä½ä»¥åï¼Œåº”ç‚¹è¢«è‡ªåŠ¨åˆ é™¤ã€‚</p>
<p>æ•æ‰ç‚¹ä¿¡æ¯çš„æŸ¥çœ‹æ–¹å¼å’Œä»£ç æ–­ç‚¹çš„å‘½ä»¤æ˜¯ä¸€æ ·çš„ï¼Œè¿™é‡Œå°±ä¸å¤šä»‹ç»äº†ã€‚</p>
<h4 id="åœ¨ç‰¹å®šçº¿ç¨‹ä¸­ä¸­æ–­"><a href="#åœ¨ç‰¹å®šçº¿ç¨‹ä¸­ä¸­æ–­" class="headerlink" title="åœ¨ç‰¹å®šçº¿ç¨‹ä¸­ä¸­æ–­"></a>åœ¨ç‰¹å®šçº¿ç¨‹ä¸­ä¸­æ–­</h4><p>ä½ å¯ä»¥å®šä¹‰ä½ çš„æ–­ç‚¹æ˜¯å¦åœ¨æ‰€æœ‰çš„çº¿ç¨‹ä¸Šï¼Œæˆ–æ˜¯åœ¨æŸä¸ªç‰¹å®šçš„çº¿ç¨‹ã€‚GDBå¾ˆå®¹æ˜“å¸®ä½ å®Œæˆè¿™ä¸€å·¥ä½œã€‚</p>
<pre><code>break &lt;linespec&gt; thread &lt;threadno&gt;
break &lt;linespec&gt; thread &lt;threadno&gt; if ...
linespecæŒ‡å®šäº†æ–­ç‚¹è®¾ç½®åœ¨çš„æºç¨‹åºçš„è¡Œå·ã€‚threadnoæŒ‡å®šäº†çº¿ç¨‹çš„IDï¼Œæ³¨æ„ï¼Œè¿™ä¸ªIDæ˜¯GDBåˆ†é…çš„ï¼Œä½ å¯ä»¥é€šè¿‡&quot;info threads&quot;å‘½ä»¤æ¥æŸ¥çœ‹æ­£åœ¨è¿è¡Œç¨‹åºä¸­çš„çº¿ç¨‹ä¿¡æ¯ã€‚å¦‚æœä½ ä¸æŒ‡å®šthread &lt;threadno&gt;</code></pre>
<p>åˆ™è¡¨ç¤ºä½ çš„æ–­ç‚¹è®¾åœ¨æ‰€æœ‰çº¿ç¨‹ä¸Šé¢ã€‚ä½ è¿˜å¯ä»¥ä¸ºæŸçº¿ç¨‹æŒ‡å®šæ–­ç‚¹æ¡ä»¶ã€‚å¦‚ï¼š<br>    <code>     (gdb) break frik.c:13 thread 28 if bartab &gt; lim    </code><br>å½“ä½ çš„ç¨‹åºè¢«GDBåœä½æ—¶ï¼Œæ‰€æœ‰çš„è¿è¡Œçº¿ç¨‹éƒ½ä¼šè¢«åœä½ã€‚è¿™æ–¹ä¾¿ä½ ä½ æŸ¥çœ‹è¿è¡Œç¨‹åºçš„æ€»ä½“æƒ…å†µã€‚è€Œåœ¨ä½ æ¢å¤ç¨‹åºè¿è¡Œæ—¶ï¼Œæ‰€æœ‰çš„çº¿ç¨‹ä¹Ÿä¼šè¢«æ¢å¤è¿è¡Œã€‚é‚£æ€•æ˜¯ä¸»è¿›ç¨‹åœ¨è¢«å•æ­¥è°ƒè¯•æ—¶ã€‚</p>
<p>æ¢å¤ç¨‹åºè¿è¡Œå’Œå•æ­¥è°ƒè¯•</p>
<h3 id="åœ¨gdbä¸­ï¼Œå’Œè°ƒè¯•æ­¥è¿›ç›¸å…³çš„å‘½ä»¤ä¸»è¦æœ‰å¦‚ä¸‹å‡ æ¡ï¼š"><a href="#åœ¨gdbä¸­ï¼Œå’Œè°ƒè¯•æ­¥è¿›ç›¸å…³çš„å‘½ä»¤ä¸»è¦æœ‰å¦‚ä¸‹å‡ æ¡ï¼š" class="headerlink" title="åœ¨gdbä¸­ï¼Œå’Œè°ƒè¯•æ­¥è¿›ç›¸å…³çš„å‘½ä»¤ä¸»è¦æœ‰å¦‚ä¸‹å‡ æ¡ï¼š"></a>åœ¨gdbä¸­ï¼Œå’Œè°ƒè¯•æ­¥è¿›ç›¸å…³çš„å‘½ä»¤ä¸»è¦æœ‰å¦‚ä¸‹å‡ æ¡ï¼š</h3><pre><code>continue    ç»§ç»­è¿è¡Œç¨‹åºç›´åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹ï¼ˆç±»ä¼¼äºVSé‡Œçš„F5ï¼‰
next        é€è¿‡ç¨‹æ­¥è¿›ï¼Œä¸ä¼šè¿›å…¥å­å‡½æ•°ï¼ˆç±»ä¼¼VSé‡Œçš„F10ï¼‰
setp        é€è¯­å¥æ­¥è¿›ï¼Œä¼šè¿›å…¥å­å‡½æ•°ï¼ˆç±»ä¼¼VSé‡Œçš„F11ï¼‰
until        è¿è¡Œè‡³å½“å‰è¯­å¥å—ç»“æŸ
finish    è¿è¡Œè‡³å‡½æ•°ç»“æŸå¹¶è·³å‡ºï¼Œå¹¶æ‰“å°å‡½æ•°çš„è¿”å›å€¼ï¼ˆç±»ä¼¼VSçš„Shift+F11ï¼‰</code></pre>
<p>PSï¼šè¿™äº›å‘½ä»¤å¤§éƒ¨åˆ†å¯ä»¥ç®€å†™ä¸ºç¬¬ä¸€ä¸ªå­—æ¯ï¼Œåœ¨æ—¥å¸¸ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå¾€å¾€åªä¼šè¾“å…¥ç¬¬ä¸€ä¸ªå­—ç¬¦å³å¯æ‰§è¡Œè¯¥å‘½ä»¤ï¼Œæˆ‘æ ‡çº¢çš„å³æ˜¯é€šå¸¸çš„ä½¿ç”¨æ–¹å¼ã€‚è¿™å‡ æ¡å‘½ä»¤ä½¿ç”¨éå¸¸é¢‘ç¹ï¼Œå¹¶ä¸”å¯ä»¥å¸¦ä¸€äº›é™„åŠ å‚æ•°ä»¥å®ç°é«˜çº§åŠŸèƒ½ï¼Œéœ€è¦ç†Ÿç»ƒæŒæ¡ã€‚</p>
<h2 id="Addr2Line"><a href="#Addr2Line" class="headerlink" title="Addr2Line"></a>Addr2Line</h2><blockquote>
<p>Addr2line å·¥å…·ï¼ˆå®ƒæ˜¯æ ‡å‡†çš„ GNU Binutils ä¸­çš„ä¸€éƒ¨åˆ†ï¼‰æ˜¯ä¸€ä¸ªå¯ä»¥å°†æŒ‡ä»¤çš„åœ°å€å’Œå¯æ‰§è¡Œæ˜ åƒè½¬æ¢æˆæ–‡ä»¶åã€å‡½æ•°åå’Œæºä»£ç è¡Œæ•°çš„å·¥å…·ã€‚è¿™ç§åŠŸèƒ½å¯¹äºå°†è·Ÿè¸ªåœ°å€è½¬æ¢æˆæ›´æœ‰æ„ä¹‰çš„å†…å®¹æ¥è¯´ç®€ç›´æ˜¯å¤ªæ£’äº†ã€‚</p>
</blockquote>
<h3 id="å®æˆ˜ä¸€"><a href="#å®æˆ˜ä¸€" class="headerlink" title="å®æˆ˜ä¸€"></a>å®æˆ˜ä¸€</h3><pre class=" language-C"><code class="language-C">#include <stdio.h>

int main()
&#123;
        int *p = NULL;
        *p = 0;

        printf("bad\n");
        return 0;
&#125;</code></pre>
<pre class=" language-shell"><code class="language-shell">alex@ubuntu:/media/psf/Home/myself/C$ gcc -g addr2line.c -o demo
alex@ubuntu:/media/psf/Home/myself/C$ ./demo
Segmentation fault
alex@ubuntu:/media/psf/Home/myself/C$ dmesg |grep demo
[ 2555.121891] demo[10553]: segfault at 0 ip 080483e9 sp bf9a7f60 error 6 in demo[8048000+1000]
alex@ubuntu:/media/psf/Home/myself/C$ addr2line
addr2line.c  bit.c        csv/         DS1302/      .DS_Store    hello.c      log/         printflog/
a.out        crc/         demo         DS1302.rar   gdb_test     list/        mac/         test.c
alex@ubuntu:/media/psf/Home/myself/C$ addr2line -e demo 080483e9
/media/psf/Home/myself/C/addr2line.c:6</code></pre>
<p><strong>è§£é‡Š:</strong></p>
<ol>
<li><code>gcc -o demo -g addr2line.c</code> ç”Ÿæˆå¸¦æœ‰è°ƒè¯•ä¿¡æ¯çš„å¯æ‰§è¡Œæ–‡ä»¶ demo</li>
<li><code>dmesg | grep demo</code> ï¼šè·å¾—æ‰§è¡Œdemoåçš„å‡ºé”™ä¿¡æ¯ï¼Œ ä½ å¯ä»¥å°†ç»“æœç†è§£ä¸ºæ—¥å¿—ï¼Œ å…¶ä¸­çš„080483c9æ˜¯ä¸€ä¸ªåœ°å€ï¼Œ æ­£æ˜¯è¿™ä¸ªåœ°å€å‡ºé”™äº†</li>
<li><code>addr2line -e demo 080483e9</code> ï¼šå°†å‡ºé”™åœ°å€è½¬æ¢æˆæºä»£ç å¯¹åº”çš„è¡Œï¼Œ ç»“æœä¸º6ï¼Œ ä¹Ÿå°±æ˜¯è¯´æºä»£ç ç¬¬6è¡Œæœ‰é—®é¢˜ã€‚ ä¸€çœ‹ï¼Œ æœç„¶æ˜¯ï¼Œä¸‡æ¶çš„*p=0;è¢«æªå‡ºæ¥äº†ã€‚</li>
</ol>
]]></content>
      <tags>
        <tag>å·¥å…·</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxä¹‹killå‘½ä»¤</title>
    <url>/2018/02/23/730d.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Kill-å‘½ä»¤åˆ—è¡¨"><a href="#Kill-å‘½ä»¤åˆ—è¡¨" class="headerlink" title="Kill å‘½ä»¤åˆ—è¡¨"></a>Kill å‘½ä»¤åˆ—è¡¨</h2><hr>
<pre><code>alex@ubuntu:~$ kill -l
 1) SIGHUP       2) SIGINT       3) SIGQUIT      4) SIGILL       5) SIGTRAP
 6) SIGABRT      7) SIGBUS       8) SIGFPE       9) SIGKILL     10) SIGUSR1
11) SIGSEGV     12) SIGUSR2     13) SIGPIPE     14) SIGALRM     15) SIGTERM
16) SIGSTKFLT   17) SIGCHLD     18) SIGCONT     19) SIGSTOP     20) SIGTSTP
21) SIGTTIN     22) SIGTTOU     23) SIGURG      24) SIGXCPU     25) SIGXFSZ
26) SIGVTALRM   27) SIGPROF     28) SIGWINCH    29) SIGIO       30) SIGPWR
31) SIGSYS      34) SIGRTMIN    35) SIGRTMIN+1  36) SIGRTMIN+2  37) SIGRTMIN+3
38) SIGRTMIN+4  39) SIGRTMIN+5  40) SIGRTMIN+6  41) SIGRTMIN+7  42) SIGRTMIN+8
43) SIGRTMIN+9  44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12 47) SIGRTMIN+13
48) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14 51) SIGRTMAX-13 52) SIGRTMAX-12
53) SIGRTMAX-11 54) SIGRTMAX-10 55) SIGRTMAX-9  56) SIGRTMAX-8  57) SIGRTMAX-7
58) SIGRTMAX-6  59) SIGRTMAX-5  60) SIGRTMAX-4  61) SIGRTMAX-3  62) SIGRTMAX-2
63) SIGRTMAX-1  64) SIGRTMAX</code></pre>
<a id="more"></a>

<h3 id="Linux-Signals"><a href="#Linux-Signals" class="headerlink" title="Linux Signals"></a>Linux Signals</h3><p>Signals<br>Linux Signals are:</p>
<pre><code>Signal_Name Number  Description
SIGHUP       1      Hangup (POSIX)
SIGINT       2      Terminal interrupt (ANSI)
SIGQUIT      3      Terminal quit (POSIX)
SIGILL       4      Illegal instruction (ANSI)
SIGTRAP      5      Trace trap (POSIX)
SIGIOT       6      IOT Trap (4.2 BSD)
SIGBUS       7      BUS error (4.2 BSD)
SIGFPE       8      Floating point exception (ANSI)
SIGKILL      9      Kill(can&#39;t be caught or ignored) (POSIX)
SIGUSR1      10     User defined signal 1 (POSIX)
SIGSEGV      11     Invalid memory segment access (ANSI)
SIGUSR2      12     User defined signal 2 (POSIX)
SIGPIPE      13     Write on a pipe with no reader, Broken pipe (POSIX)
SIGALRM      14     Alarm clock (POSIX)
SIGTERM      15     Termination (ANSI)
SIGSTKFLT    16     Stack fault
SIGCHLD      17     Child process has stopped or exited, changed (POSIX)
SIGCONT      18     Continue executing, if stopped (POSIX)
SIGSTOP      19     Stop executing(can&#39;t be caught or ignored) (POSIX)
SIGTSTP      20     Terminal stop signal (POSIX)
SIGTTIN      21     Background process trying to read, from TTY (POSIX)
SIGTTOU      22     Background process trying to write, to TTY (POSIX)
SIGURG       23     Urgent condition on socket (4.2 BSD)
SIGXCPU      24     CPU limit exceeded (4.2 BSD)
SIGXFSZ      25     File size limit exceeded (4.2 BSD)
SIGVTALRM    26     Virtual alarm clock (4.2 BSD)
SIGPROF      27     Profiling alarm clock (4.2 BSD)
SIGWINCH     28     Window size change (4.3 BSD, Sun)
SIGIO        29     I/O now possible (4.2 BSD)
SIGPWR       30     Power failure restart (System V)</code></pre>
<h3 id="SIGKILL-9-å’Œ-SIGTERM-15-çš„åŒºåˆ«"><a href="#SIGKILL-9-å’Œ-SIGTERM-15-çš„åŒºåˆ«" class="headerlink" title="SIGKILL(9) å’Œ SIGTERM(15) çš„åŒºåˆ«"></a>SIGKILL(9) å’Œ SIGTERM(15) çš„åŒºåˆ«</h3><pre><code>SIGKILL 9   Kill(can&#39;t be caught or ignored) (POSIX)
# é»˜è®¤kill å‘é€ä¿¡å·é‡
SIGTERM 15  Termination (ANSI)</code></pre>
<p>SIGKILL æ˜¯å¼ºåˆ¶ç»ˆæ­¢è¿›ç¨‹ï¼Œè¿›ç¨‹æ¥ä¸åŠé‡Šæ”¾èµ„æº<br>SIGTERM æ˜¯ <strong><em>ä¼˜é›…</em></strong> çš„é€€å‡ºè¿›ç¨‹ï¼Œè¿›ç¨‹æ¥æ”¶åˆ°SIGTERMå¯ä»¥è¿›è¡Œèµ„æºé‡Šæ”¾ï¼›</p>
<h2 id="killallå‘½ä»¤"><a href="#killallå‘½ä»¤" class="headerlink" title="killallå‘½ä»¤"></a>killallå‘½ä»¤</h2><p>killallå‘½ä»¤ä½¿ç”¨è¿›ç¨‹çš„åç§°æ¥æ€æ­»è¿›ç¨‹ï¼Œä½¿ç”¨æ­¤æŒ‡ä»¤å¯ä»¥æ€æ­»ä¸€ç»„åŒåè¿›ç¨‹ã€‚<br>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨killå‘½ä»¤æ€æ­»æŒ‡å®šè¿›ç¨‹PIDçš„è¿›ç¨‹ï¼Œå¦‚æœè¦æ‰¾åˆ°æˆ‘ä»¬éœ€è¦æ€æ­»çš„è¿›ç¨‹ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨ä¹‹å‰ä½¿ç”¨psç­‰å‘½ä»¤å†é…åˆgrepæ¥æŸ¥æ‰¾è¿›ç¨‹ï¼Œè€ŒkillallæŠŠè¿™ä¸¤ä¸ªè¿‡ç¨‹åˆäºŒä¸ºä¸€ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå¥½ç”¨çš„å‘½ä»¤ã€‚</p>
<h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><pre><code>killall(é€‰é¡¹)(å‚æ•°)</code></pre>
<h3 id="é€‰é¡¹"><a href="#é€‰é¡¹" class="headerlink" title="é€‰é¡¹"></a>é€‰é¡¹</h3><pre><code>-eï¼šå¯¹é•¿åç§°è¿›è¡Œç²¾ç¡®åŒ¹é…ï¼›
-lï¼šå¿½ç•¥å¤§å°å†™çš„ä¸åŒï¼›
-pï¼šæ€æ­»è¿›ç¨‹æ‰€å±çš„è¿›ç¨‹ç»„ï¼›
-iï¼šäº¤äº’å¼æ€æ­»è¿›ç¨‹ï¼Œæ€æ­»è¿›ç¨‹å‰éœ€è¦è¿›è¡Œç¡®è®¤ï¼›
-lï¼šæ‰“å°æ‰€æœ‰å·²çŸ¥ä¿¡å·åˆ—è¡¨ï¼›
-qï¼šå¦‚æœæ²¡æœ‰è¿›ç¨‹è¢«æ€æ­»ã€‚åˆ™ä¸è¾“å‡ºä»»ä½•ä¿¡æ¯ï¼›
-rï¼šä½¿ç”¨æ­£è§„è¡¨è¾¾å¼åŒ¹é…è¦æ€æ­»çš„è¿›ç¨‹åç§°ï¼›
-sï¼šç”¨æŒ‡å®šçš„è¿›ç¨‹å·ä»£æ›¿é»˜è®¤ä¿¡å·â€œSIGTERMâ€ï¼›
-uï¼šæ€æ­»æŒ‡å®šç”¨æˆ·çš„è¿›ç¨‹ã€‚</code></pre>
<h3 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h3><p>è¿›ç¨‹åç§°ï¼šæŒ‡å®šè¦æ€æ­»çš„è¿›ç¨‹åç§°ã€‚</p>
<h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><p>æ€æ­»æ‰€æœ‰åŒåè¿›ç¨‹</p>
<pre><code>killall vi</code></pre>
]]></content>
      <tags>
        <tag>å·¥å…·</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxä¹‹SSH</title>
    <url>/2018/12/18/720f.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><ul>
<li><a href="https://linux.cn/article-5975-1.html">https://linux.cn/article-5975-1.html</a></li>
</ul>
<pre class=" language-sh"><code class="language-sh">autossh -M 10109 -fN -o "PubkeyAuthentication=yes" -o "StrictHostKeyChecking=false" -o "PasswordAuthentication=no" -o "ServerAliveInterval 60" -o "ServerAliveCountMax 3" -R ubuntu.lxj-life.com:10108:localhost:22 ubuntu@ubuntu.lxj-life.com</code></pre>
]]></content>
      <tags>
        <tag>å·¥å…·</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxä¹‹Socketå…³é”®</title>
    <url>/2017/06/07/179d.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ä¸€ã€Socket-å±æ€§è®¾ç½®å‡½æ•°"><a href="#ä¸€ã€Socket-å±æ€§è®¾ç½®å‡½æ•°" class="headerlink" title="ä¸€ã€Socket å±æ€§è®¾ç½®å‡½æ•°"></a>ä¸€ã€Socket å±æ€§è®¾ç½®å‡½æ•°</h2><pre class=" language-C"><code class="language-C">int getsockopt(int sockfd, int level, int optname,void *optval, socklen_t *optlen);
int setsockopt(int sockfd, int level, int optname,const void *optval, socklen_t optlen);</code></pre>
<p>è§£é‡Š:*<em>setsockopt(int sockfd, int level, int optname,const void <em>optval, socklen_t optlen)</em></em></p>
<a id="more"></a>
<ul>
<li><strong>sockfd(å¥—æ¥å­—):</strong> æŒ‡å‘ä¸€ä¸ªæ‰“å¼€çš„å¥—æ¥å£æè¿°å­—</li>
<li><strong>level(çº§åˆ«):</strong> æŒ‡å®šé€‰é¡¹ä»£ç çš„ç±»å‹</li>
<li><ul>
<li><strong>SOL_SOCKET:</strong> åŸºæœ¬å¥—æ¥å£</li>
</ul>
</li>
<li><ul>
<li><strong>IPPROTO_IP:</strong> IPv4å¥—æ¥å£</li>
</ul>
</li>
<li><ul>
<li><strong>IPPROTO_IPV6:</strong> IPv6å¥—æ¥å£</li>
</ul>
</li>
<li><ul>
<li><strong>IPPROTO_TCP:</strong> TCPå¥—æ¥å£</li>
</ul>
</li>
<li><strong>optname(é€‰é¡¹å):</strong> é€‰é¡¹åç§°</li>
<li><strong>optval(é€‰é¡¹å€¼):</strong> æ˜¯ä¸€ä¸ªæŒ‡å‘å˜é‡çš„æŒ‡é’ˆ ç±»å‹ï¼šæ•´å½¢ï¼Œå¥—æ¥å£ç»“æ„ï¼Œ å…¶ä»–ç»“æ„ç±»å‹:linger{}, timeval{ }<br>è¯¥å€¼æœ‰ä¸¤ç§ç±»å‹ï¼Œåˆ†åˆ«æ˜¯å¸ƒå°”å‹é€‰é¡¹ï¼Œå…è®¸æˆ–ç¦æ­¢ä¸€ç§ç‰¹æ€§ï¼›å¦ä¸€ç§æ˜¯æ•´å½¢æˆ–ç»“æ„é€‰é¡¹ã€‚<br>å…è®¸ä¸€ä¸ªå¸ƒå°”å‹é€‰é¡¹ï¼Œåˆ™å°†optvalæŒ‡å‘éé›¶æ•´å½¢æ•°ï¼›<br>ç¦æ­¢ä¸€ä¸ªé€‰é¡¹optvalæŒ‡å‘ä¸€ä¸ªç­‰äºé›¶çš„æ•´å½¢æ•°ã€‚å¯¹äºå¸ƒå°”å‹é€‰é¡¹ï¼Œoptlenåº”ç­‰äºsizeof(int)ï¼›<br>å¯¹å…¶ä»–é€‰é¡¹ï¼ŒoptvalæŒ‡å‘åŒ…å«æ‰€éœ€é€‰é¡¹çš„æ•´å½¢æ•°æˆ–ç»“æ„ï¼Œè€Œoptlenåˆ™ä¸ºæ•´å½¢æ•°æˆ–ç»“æ„çš„é•¿åº¦ã€‚</li>
<li><strong>optlen(é€‰é¡¹é•¿åº¦):</strong> optval çš„å¤§å°</li>
</ul>
<h2 id="äºŒã€Socket-ç«¯å£å¤ç”¨-SO-REUSEADDR"><a href="#äºŒã€Socket-ç«¯å£å¤ç”¨-SO-REUSEADDR" class="headerlink" title="äºŒã€Socket ç«¯å£å¤ç”¨(SO_REUSEADDR)"></a>äºŒã€Socket ç«¯å£å¤ç”¨(SO_REUSEADDR)</h2><blockquote>
<p>ä¸€ä¸ªç½‘ç»œåº”ç”¨ç¨‹åºåªèƒ½ç»‘å®šä¸€ä¸ªç«¯å£( ä¸€ä¸ªå¥—æ¥å­—åªèƒ½ç»‘å®šä¸€ä¸ªç«¯å£ )ã€‚</p>
</blockquote>
<ol>
<li><em>ç«¯å£å¤ç”¨å…è®¸åœ¨ä¸€ä¸ªåº”ç”¨ç¨‹åºå¯ä»¥æŠŠ n ä¸ªå¥—æ¥å­—ç»‘åœ¨ä¸€ä¸ªç«¯å£ä¸Šè€Œä¸å‡ºé”™ã€‚</em></li>
<li><em>ç«¯å£å¤ç”¨çœŸæ­£çš„ç”¨å¤„ä¸»è¦åœ¨äºæœåŠ¡å™¨ç¼–ç¨‹ï¼šå½“æœåŠ¡å™¨éœ€è¦é‡å¯æ—¶ï¼Œç»å¸¸ä¼šç¢°åˆ°ç«¯å£å°šæœªå®Œå…¨å…³é—­çš„æƒ…å†µï¼Œè¿™æ—¶å¦‚æœä¸è®¾ç½®ç«¯å£å¤ç”¨ï¼Œåˆ™æ— æ³•å®Œæˆç»‘å®šï¼Œå› ä¸ºç«¯å£è¿˜å¤„äºè¢«åˆ«çš„å¥—æ¥å£ç»‘å®šçš„çŠ¶æ€ä¹‹ä¸­ã€‚</em></li>
</ol>
<h3 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h3><blockquote>
<p><strong>SO_REUSEADDRå¯ä»¥ç”¨åœ¨ä»¥ä¸‹å››ç§æƒ…å†µä¸‹ã€‚ (æ‘˜è‡ªã€ŠUnixç½‘ç»œç¼–ç¨‹ã€‹å·ä¸€ï¼Œå³UNPv1)</strong></p>
</blockquote>
<ol>
<li>å½“æœ‰ä¸€ä¸ªæœ‰ç›¸åŒæœ¬åœ°åœ°å€å’Œç«¯å£çš„socket1å¤„äºTIME_WAITçŠ¶æ€æ—¶ï¼Œè€Œä½ å¯åŠ¨çš„ç¨‹åºçš„socket2è¦å ç”¨è¯¥åœ°å€å’Œç«¯å£ï¼Œä½ çš„ç¨‹åºå°±è¦ç”¨åˆ°è¯¥é€‰é¡¹ã€‚</li>
<li>SO_REUSEADDRå…è®¸åŒä¸€portä¸Šå¯åŠ¨åŒä¸€æœåŠ¡å™¨çš„å¤šä¸ªå®ä¾‹(å¤šä¸ªè¿›ç¨‹)ã€‚ä½†æ¯ä¸ªå®ä¾‹ç»‘å®šçš„IPåœ°å€æ˜¯ä¸èƒ½ç›¸åŒçš„ã€‚åœ¨æœ‰å¤šå—ç½‘å¡æˆ–ç”¨IP AliasæŠ€æœ¯çš„æœºå™¨å¯ä»¥æµ‹è¯•è¿™ç§æƒ…å†µã€‚</li>
<li>SO_REUSEADDRå…è®¸å•ä¸ªè¿›ç¨‹ç»‘å®šç›¸åŒçš„ç«¯å£åˆ°å¤šä¸ªsocketä¸Šï¼Œä½†æ¯ä¸ªsocketç»‘å®šçš„ipåœ°å€ä¸åŒã€‚è¿™å’Œ2å¾ˆç›¸ä¼¼ï¼ŒåŒºåˆ«è¯·çœ‹UNPv1ã€‚</li>
<li>SO_REUSEADDRå…è®¸å®Œå…¨ç›¸åŒçš„åœ°å€å’Œç«¯å£çš„é‡å¤ç»‘å®šã€‚ä½†è¿™åªç”¨äºUDPçš„å¤šæ’­ï¼Œä¸ç”¨äºTCPã€‚</li>
</ol>
<h3 id="å®ç°æ–¹æ³•"><a href="#å®ç°æ–¹æ³•" class="headerlink" title="å®ç°æ–¹æ³•"></a>å®ç°æ–¹æ³•</h3><pre class=" language-C"><code class="language-C">int opt = 1;
// sockfdä¸ºéœ€è¦ç«¯å£å¤ç”¨çš„å¥—æ¥å­—
setsockopt(sockfd, SOL_SOCKET, SO_REUSEADDR, (const void *)&opt, sizeof(opt));</code></pre>
<h2 id="ä¸‰ã€Socket-è¶…æ—¶è®¾ç½®-SO-SNDTIMO-SO-RCVTIMEO"><a href="#ä¸‰ã€Socket-è¶…æ—¶è®¾ç½®-SO-SNDTIMO-SO-RCVTIMEO" class="headerlink" title="ä¸‰ã€Socket è¶…æ—¶è®¾ç½®(SO_SNDTIMO/SO_RCVTIMEO)"></a>ä¸‰ã€Socket è¶…æ—¶è®¾ç½®(SO_SNDTIMO/SO_RCVTIMEO)</h2><p><strong>SO_SNDTIMO :</strong> ç”¨äºè®¾ç½®å‘é€å’Œè¿æ¥è¶…æ—¶<br><strong>SO_RCVTIMEO:</strong> ç”¨äºè®¾ç½®æ¥æ”¶è¶…æ—¶<br><strong>ä¾‹ å­</strong></p>
<pre class=" language-C"><code class="language-C">//3sè¶…æ—¶è®¾ç½®
struct timeval timeout = &#123;3, 0&#125;;
//socketè®¾ç½®å‘é€è¶…æ—¶
setsockopt(socketï¼ŒSOL_SOCKET,SO_SNDTIMEOï¼Œ(char *)&timeout,sizeof(struct timeval));

//socketè®¾ç½®æ¥æ”¶è¶…æ—¶
setsockopt(socketï¼ŒSOL_SOCKET,SO_RCVTIMEOï¼Œ(char *)&timeout,sizeof(struct timeval));

//socketè®¾ç½®è¿æ¥è¶…æ—¶
setsockopt(fd, SOL_SOCKET, SO_SNDTIMEO, &timeo, len);
addr.sin_family = AF_INET;
addr.sin_addr.s_addr = inet_addr(argv[1]);
addr.sin_port = htons(atoi(argv[2]));
if (connect(fd, (struct sockaddr*)&addr, sizeof(addr)) == -1) &#123;
    if (errno == EINPROGRESS) &#123;
            fprintf(stderr, "timeout/n");
            return -1;
    &#125;
    perror("connect");
    return 0;
&#125;</code></pre>
<h2 id="å››ã€Socket-å¿ƒè·³è®¾ç½®-SO-KEEPALIVE"><a href="#å››ã€Socket-å¿ƒè·³è®¾ç½®-SO-KEEPALIVE" class="headerlink" title="å››ã€Socket å¿ƒè·³è®¾ç½®(SO_KEEPALIVE)"></a>å››ã€Socket å¿ƒè·³è®¾ç½®(SO_KEEPALIVE)</h2><blockquote>
<p>åœ¨ã€ŠUNIXç½‘ç»œç¼–ç¨‹ç¬¬1å·ã€‹ä¸­ä¹Ÿæœ‰è¯¦ç»†çš„é˜è¿°ï¼š<br>SO_KEEPALIVE ä¿æŒè¿æ¥æ£€æµ‹å¯¹æ–¹ä¸»æœºæ˜¯å¦å´©æºƒï¼Œé¿å…ï¼ˆæœåŠ¡å™¨ï¼‰æ°¸è¿œé˜»å¡äºTCPè¿æ¥çš„è¾“å…¥ã€‚è®¾ç½®è¯¥é€‰é¡¹åï¼Œå¦‚æœ2å°æ—¶å†…åœ¨æ­¤å¥—æ¥å£çš„ä»»ä¸€æ–¹å‘éƒ½æ²¡æœ‰æ•°æ®äº¤æ¢ï¼ŒTCPå°±è‡ª åŠ¨ç»™å¯¹æ–¹ å‘ä¸€ä¸ªä¿æŒå­˜æ´»æ¢æµ‹åˆ†èŠ‚(keepalive probe)ã€‚è¿™æ˜¯ä¸€ä¸ªå¯¹æ–¹å¿…é¡»å“åº”çš„TCPåˆ†èŠ‚.å®ƒä¼šå¯¼è‡´ä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼šå¯¹æ–¹æ¥æ”¶ä¸€åˆ‡æ­£å¸¸ï¼šä»¥æœŸæœ›çš„ACKå“åº”ã€‚2å°æ—¶åï¼ŒTCPå°†å‘å‡ºå¦ä¸€ä¸ªæ¢æµ‹åˆ† èŠ‚ã€‚å¯¹æ–¹å·²å´©æºƒä¸”å·²é‡æ–°å¯åŠ¨ï¼šä»¥RSTå“åº”ã€‚å¥—æ¥å£çš„å¾…å¤„ç†é”™è¯¯è¢«ç½®ä¸ºECONNRESETï¼Œå¥—æ¥ å£æœ¬èº«åˆ™è¢«å…³é—­ã€‚å¯¹æ–¹æ— ä»»ä½•å“åº”ï¼šæºè‡ªberkeleyçš„TCPå‘é€å¦å¤–8ä¸ªæ¢æµ‹åˆ†èŠ‚ï¼Œç›¸éš”75ç§’ä¸€ä¸ªï¼Œè¯•å›¾å¾—åˆ°ä¸€ä¸ªå“åº”ã€‚åœ¨å‘å‡ºç¬¬ä¸€ä¸ªæ¢æµ‹åˆ†èŠ‚11åˆ†é’Ÿ 15ç§’åè‹¥ä»æ— å“åº”å°±æ”¾å¼ƒã€‚å¥—æ¥å£çš„å¾…å¤„ç†é”™è¯¯è¢«ç½®ä¸ºETIMEOUTï¼Œå¥—æ¥å£æœ¬èº«åˆ™è¢«å…³é—­ã€‚å¦‚ICMPé”™è¯¯æ˜¯â€œhost unreachable(ä¸»æœºä¸å¯è¾¾)â€ï¼Œè¯´æ˜å¯¹æ–¹ä¸»æœºå¹¶æ²¡æœ‰å´©æºƒï¼Œä½†æ˜¯ä¸å¯è¾¾ï¼Œè¿™ç§æƒ…å†µä¸‹å¾…å¤„ç†é”™è¯¯è¢«ç½®ä¸º EHOSTUNREACHã€‚</p>
</blockquote>
<p><strong>ç®€å•æ¥è¯´</strong><br><em>TCP_KEEPALIVE</em>é€‰é¡¹åªæ˜¯ä¸€ä¸ªå¼€å…³ï¼ŒLinuxä¸­é»˜è®¤çš„Keepaliveçš„é€‰é¡¹å¦‚ä¸‹ï¼š</p>
<pre class=" language-shell"><code class="language-shell">$sudo sysctl -a | grep keepalive
net.ipv4.tcp_keepalive_time = 7200
net.ipv4.tcp_keepalive_probes = 9
net.ipv4.tcp_keepalive_intvl = 75</code></pre>
<p>ä¸Šæ–‡ä¸­çš„keepaliveé€‰é¡¹è¡¨ç¤ºå¦‚æœä¸€ä¸ªè¿æ¥ä¸Š7200såæ²¡æœ‰ä»»ä½•æ•°æ®å‘é€ï¼Œåˆ™è®¾ç½®äº†è¿™ä¸ªé€‰é¡¹çš„æœ¬ç«¯å‘å¯¹ç«¯å‘é€keepaliveä¿æ´»æŠ¥æ–‡ï¼Œå®ƒä¼šæœ‰å¦‚ä¸‹ä¸‰ç§ç»“æœï¼š</p>
<ul>
<li>å¯¹ç«¯å›å¤ACKã€‚åˆ™æœ¬ç«¯TCPè®¤ä¸ºè¯¥è¿æ¥ä¾ç„¶å­˜æ´»ã€‚ç»§ç»­ç­‰7200såå†å‘é€keepaliveæŠ¥æ–‡ã€‚</li>
<li>å¯¹ç«¯å›å¤RESETã€‚è¯´æ˜å¯¹ç«¯è¿›ç¨‹å·²ç»é‡å¯ï¼Œæœ¬ç«¯çš„åº”ç”¨ç¨‹åºåº”è¯¥å…³é—­è¯¥è¿æ¥ã€‚</li>
<li>æ²¡æœ‰å¯¹ç«¯çš„ä»»ä½•å›å¤ã€‚åˆ™æœ¬ç«¯åšé‡è¯•ï¼Œå¦‚æœé‡è¯•9æ¬¡ï¼ˆå‰åé‡è¯•é—´éš”ä¸º75ç§’ï¼‰ä»ç„¶ä¸å¯è¾¾ï¼Œåˆ™å‘åº”ç”¨ç¨‹åºè¿”å›é”™è¯¯ä¿¡æ¯ï¼ŒETIMEOUTï¼ˆæ— ä»»ä½•åº”ç­”ï¼‰æˆ–EHOST</li>
</ul>
<h3 id="å¼€å¯keepaliveæœºåˆ¶"><a href="#å¼€å¯keepaliveæœºåˆ¶" class="headerlink" title="å¼€å¯keepaliveæœºåˆ¶"></a>å¼€å¯keepaliveæœºåˆ¶</h3><pre><code>keepAlive = 1;
Setsockopt(listenfd, SOL_SOCKET, SO_KEEPALIVE, (void*)&amp;keepAlive, sizeof(keepAlive));</code></pre>
<h3 id="ä¿®æ”¹è¿‡keepalive-æ—¶é—´"><a href="#ä¿®æ”¹è¿‡keepalive-æ—¶é—´" class="headerlink" title="ä¿®æ”¹è¿‡keepalive æ—¶é—´"></a>ä¿®æ”¹è¿‡keepalive æ—¶é—´</h3><p>å¦‚æœæˆ‘ä»¬ä¸èƒ½æ¥å—å¦‚æ­¤ä¹‹é•¿çš„ç­‰å¾…æ—¶é—´ï¼Œä»TCP-Keepalive-HOWTOä¸Šå¯ä»¥çŸ¥é“ä¸€å…±æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥è®¾ç½®ï¼Œ<br>ä¸€ç§æ˜¯ä¿®æ”¹å†…æ ¸å…³äºç½‘ç»œæ–¹é¢çš„ é…ç½®å‚æ•°ï¼›<br>å¦å¤–ä¸€ç§å°±æ˜¯SOL_TCPå­—æ®µçš„TCP_KEEPIDLEï¼Œ TCP_KEEPINTVLï¼Œ TCP_KEEPCNTä¸‰ä¸ªé€‰é¡¹ã€‚</p>
<ul>
<li>TCP_KEEPIDLE : å¤šé•¿æ—¶é—´ä¸æ´»è·ƒï¼Œå°±å¼€å§‹å‘æ¢æµ‹åŒ…</li>
<li>TCP_KEEPINTVL: ä¸¤ä¸ªæ¢æµ‹åŒ…ä¹‹é—´çš„é—´éš”</li>
<li>TCP_KEEPCNT  : å‘å¤šå°‘æ¬¡æ¢æµ‹åŒ…åæ²¡å“åº”è®¤ä¸ºæ˜¯æ–­å¼€</li>
</ul>
<p><strong>ä¾‹å­</strong></p>
<pre class=" language-C"><code class="language-C">//è¿æ¥ä¸Šä¹‹å100så†…æ²¡å‘é€æ•°æ®ï¼Œåˆ™å‘æ¢æµ‹åŒ…ï¼Œæ¯ä¸ªæ¢æµ‹åŒ…é—´éš”10s,è¿ç»­10æ¬¡æ²¡æ”¶åˆ°å“åº”è®¤ä¸ºæ–­å¼€
int                 keepIdle = 100;
int                 keepInterval = 10;
int                 keepCount = 10;
Setsockopt(listenfd, SOL_TCP, TCP_KEEPIDLE, (void *)&keepIdle, sizeof(keepIdle));
Setsockopt(listenfd, SOL_TCP, TCP_KEEPINTVL, (void *)&keepInterval, sizeof(keepInterval));
Setsockopt(listenfd, SOL_TCP, TCP_KEEPCNT, (void *)&keepCount, sizeof(keepCount));</code></pre>
<h2 id="äº”ã€Socket-å…¶ä»–é€‰é¡¹å"><a href="#äº”ã€Socket-å…¶ä»–é€‰é¡¹å" class="headerlink" title="äº”ã€Socket å…¶ä»–é€‰é¡¹å"></a>äº”ã€Socket å…¶ä»–é€‰é¡¹å</h2><ul>
<li>SO_RCVBUF             : intå‹  è®¾ç½®æ¥æ”¶ç¼“å†²åŒºçš„ä¿ç•™å¤§å°ã€‚</li>
<li>SO_SNDBUF             : intå‹  è®¾ç½®å‘é€ç¼“å†²åŒºçš„ä¿ç•™å¤§å°ã€‚</li>
<li>TCP_NODELAY           : boolå‹ è®¾ç½®æ˜¯å¦å¼€å¯Nagleç®—æ³•ã€‚</li>
<li>SO_EXCLUSIVEADDRUSE   : boolå‹ åŒä¸€ä¸ªç«¯å£ä¸èƒ½åˆ«çš„è¿›ç¨‹ä½¿ç”¨.</li>
</ul>
<h2 id="å…­ã€å¸¸è¯†"><a href="#å…­ã€å¸¸è¯†" class="headerlink" title="å…­ã€å¸¸è¯†"></a>å…­ã€å¸¸è¯†</h2><ul>
<li>æ¯ä¸ªå¥—æ¥å£éƒ½æœ‰ä¸€ä¸ªå‘é€ç¼“å†²åŒºå’Œä¸€ä¸ªæ¥æ”¶ç¼“å†²åŒºã€‚</li>
<li>æ¥æ”¶ç¼“å†²åŒºè¢«TCPå’ŒUDPç”¨æ¥å°†æ¥æ”¶åˆ°çš„æ•°æ®ä¸€ç›´ä¿å­˜åˆ°ç”±åº”ç”¨è¿›ç¨‹æ¥è¯»ã€‚</li>
<li>TCPï¼šTCPé€šå‘Šå¦ä¸€ç«¯çš„çª—å£å¤§å°ã€‚</li>
<li>TCPå¥—æ¥å£æ¥æ”¶ç¼“å†²åŒºä¸å¯èƒ½æº¢å‡ºï¼Œå› ä¸ºå¯¹æ–¹ä¸å…è®¸å‘å‡ºè¶…è¿‡æ‰€é€šå‘Šçª—å£å¤§å°çš„æ•°æ®ã€‚è¿™å°±æ˜¯TCPçš„æµé‡æ§åˆ¶ï¼Œå¦‚æœå¯¹æ–¹æ— è§†çª—å£å¤§å°è€Œå‘å‡ºäº†è¶…è¿‡å®™å£å¤§å°çš„æ•°æ®ï¼Œåˆ™æ¥ æ”¶æ–¹TCPå°†ä¸¢å¼ƒå®ƒã€‚</li>
<li>UDPï¼šå½“æ¥æ”¶åˆ°çš„æ•°æ®æŠ¥è£…ä¸è¿›å¥—æ¥å£æ¥æ”¶ç¼“å†²åŒºæ—¶ï¼Œæ­¤æ•°æ®æŠ¥å°±è¢«ä¸¢å¼ƒã€‚UDPæ˜¯æ²¡æœ‰ æµé‡æ§åˆ¶çš„ï¼›å¿«çš„å‘é€è€…å¯ä»¥å¾ˆå®¹æ˜“åœ°å°±æ·¹æ²¡æ…¢çš„æ¥æ”¶è€…ï¼Œå¯¼è‡´æ¥æ”¶æ–¹çš„UDPä¸¢å¼ƒæ•°æ®æŠ¥ã€‚</li>
</ul>
<p>æ¯ä¸ªå¥—æ¥å£éƒ½æœ‰ä¸€ä¸ªæ¥æ”¶ä½æ½®é™åº¦å’Œä¸€ä¸ªå‘é€ä½æ½®é™åº¦ã€‚<br>å®ƒä»¬æ˜¯å‡½æ•°selecttä½¿ç”¨çš„ï¼Œæ¥æ”¶ä½æ½®é™åº¦æ˜¯è®©selectè¿”å›â€œå¯è¯»â€è€Œåœ¨å¥—æ¥å£æ¥æ”¶ç¼“å†²åŒºä¸­å¿…é¡»æœ‰çš„æ•°æ®æ€»é‡ã€‚ å¯¹äºä¸€ä¸ªTCPæˆ–UDPå¥—æ¥å£ï¼Œæ­¤å€¼ç¼ºçœä¸º1ã€‚å‘é€ä½æ½®é™åº¦æ˜¯è®©selectè¿”å›â€œå¯å†™â€ è€Œåœ¨å¥—æ¥å£å‘é€ç¼“å†²åŒºä¸­å¿…é¡»æœ‰çš„å¯ç”¨ç©ºé—´ã€‚å¯¹äºTCPå¥—æ¥å£ï¼Œæ­¤å€¼å¸¸ç¼ºçœä¸º2048ã€‚ å¯¹äºUDPä½¿ç”¨ä½æ½®é™åº¦ï¼Œ ç”±äºå…¶å‘é€ç¼“å†²åŒºä¸­å¯ç”¨ç©ºé—´çš„å­—èŠ‚æ•°æ˜¯ä»ä¸å˜åŒ–çš„ï¼Œåªè¦ UDPå¥—æ¥å£å‘é€ç¼“å†²åŒºå¤§å°å¤§äºå¥—æ¥å£çš„ä½æ½®é™åº¦ï¼Œè¿™æ ·çš„UDPå¥—æ¥å£å°±æ€»æ˜¯å¯å†™çš„ã€‚ UDPæ²¡æœ‰å‘é€ç¼“å†²åŒºï¼Œåªæœ‰å‘é€ç¼“å†²åŒºçš„å¤§å°ã€‚</p>
]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>ç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxä¹‹errnoè¡¨</title>
    <url>/2017/06/07/d8f4.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="errno-é”™è¯¯è¡¨"><a href="#errno-é”™è¯¯è¡¨" class="headerlink" title="errno é”™è¯¯è¡¨"></a>errno é”™è¯¯è¡¨</h1><blockquote>
<p>errno æ˜¯è®°å½•ç³»ç»Ÿçš„æœ€åä¸€æ¬¡<a href="http://baike.baidu.com/item/%E9%94%99%E8%AF%AF%E4%BB%A3%E7%A0%81">é”™è¯¯ä»£ç </a>ã€‚ä»£ç æ˜¯ä¸€ä¸ªintå‹çš„å€¼ï¼Œåœ¨errno.hä¸­å®šä¹‰</p>
</blockquote>
<p><strong>æ³¨æ„ï¼š</strong>åªæœ‰å½“ä¸€ä¸ª<a href="http://baike.baidu.com/item/%E5%BA%93%E5%87%BD%E6%95%B0">åº“å‡½æ•°</a>å¤±è´¥æ—¶ï¼Œerrnoæ‰ä¼šè¢«è®¾ç½®ã€‚å½“å‡½æ•°æˆåŠŸè¿è¡Œæ—¶ï¼Œerrnoçš„å€¼ä¸ä¼šè¢«ä¿®æ”¹ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬ä¸èƒ½é€šè¿‡æµ‹è¯•errnoçš„å€¼æ¥åˆ¤æ–­æ˜¯å¦æœ‰é”™è¯¯å­˜åœ¨ã€‚åä¹‹ï¼Œåªæœ‰å½“è¢«è°ƒç”¨çš„å‡½æ•°æç¤ºæœ‰é”™è¯¯å‘ç”Ÿæ—¶æ£€æŸ¥errnoçš„å€¼æ‰æœ‰æ„ä¹‰ã€‚</p>
<a id="more"></a>
<h2 id="é”™è¯¯è¡¨"><a href="#é”™è¯¯è¡¨" class="headerlink" title="é”™è¯¯è¡¨"></a>é”™è¯¯è¡¨</h2><table>
<thead>
<tr>
<th align="center">é”™è¯¯æ•°</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="center">errno0</td>
<td>Success</td>
</tr>
<tr>
<td align="center">errno1</td>
<td>Operation not permitted</td>
</tr>
<tr>
<td align="center">errno2</td>
<td>No such file or directory</td>
</tr>
<tr>
<td align="center">errno3</td>
<td>No such process</td>
</tr>
<tr>
<td align="center">errno4</td>
<td>Interrupted system call</td>
</tr>
<tr>
<td align="center">errno5</td>
<td>Input/output error</td>
</tr>
<tr>
<td align="center">errno6</td>
<td>No such device or address</td>
</tr>
<tr>
<td align="center">errno7</td>
<td>Argument list too long</td>
</tr>
<tr>
<td align="center">errno8</td>
<td>Exec format error</td>
</tr>
<tr>
<td align="center">errno9</td>
<td>Bad file descriptor</td>
</tr>
<tr>
<td align="center">errno10</td>
<td>No child processe</td>
</tr>
<tr>
<td align="center">errno11</td>
<td>Resource temporarily unavailable</td>
</tr>
<tr>
<td align="center">errno12</td>
<td>Cannot allocate memory</td>
</tr>
<tr>
<td align="center">errno13</td>
<td>Permission denied</td>
</tr>
<tr>
<td align="center">errno14</td>
<td>Bad address</td>
</tr>
<tr>
<td align="center">errno15</td>
<td>Block device required</td>
</tr>
<tr>
<td align="center">errno16</td>
<td>Device or resource busy</td>
</tr>
<tr>
<td align="center">errno17</td>
<td>File exists</td>
</tr>
<tr>
<td align="center">errno18</td>
<td>Invalid cross-device link</td>
</tr>
<tr>
<td align="center">errno19</td>
<td>No such device</td>
</tr>
<tr>
<td align="center">errno20</td>
<td>Not a directory</td>
</tr>
<tr>
<td align="center">errno21</td>
<td>Is a directory</td>
</tr>
<tr>
<td align="center">errno22</td>
<td>Invalid argument</td>
</tr>
<tr>
<td align="center">errno23</td>
<td>Too many open files in system</td>
</tr>
<tr>
<td align="center">errno24</td>
<td>Too many open files</td>
</tr>
<tr>
<td align="center">errno25</td>
<td>Inappropriate ioctl for device</td>
</tr>
<tr>
<td align="center">errno26</td>
<td>Text file busy</td>
</tr>
<tr>
<td align="center">errno27</td>
<td>File too large</td>
</tr>
<tr>
<td align="center">errno28</td>
<td>No space left on device</td>
</tr>
<tr>
<td align="center">errno29</td>
<td>Illegal seek</td>
</tr>
<tr>
<td align="center">errno30</td>
<td>Read-only file system</td>
</tr>
<tr>
<td align="center">errno31</td>
<td>Too many links</td>
</tr>
<tr>
<td align="center">errno32</td>
<td>Broken pipe</td>
</tr>
<tr>
<td align="center">errno33</td>
<td>Numerical argument out of domain</td>
</tr>
<tr>
<td align="center">errno34</td>
<td>Numerical result out of range</td>
</tr>
<tr>
<td align="center">errno35</td>
<td>Resource deadlock avoided</td>
</tr>
<tr>
<td align="center">errno36</td>
<td>File name too long</td>
</tr>
<tr>
<td align="center">errno37</td>
<td>No locks available</td>
</tr>
<tr>
<td align="center">errno38</td>
<td>Function not implemented</td>
</tr>
<tr>
<td align="center">errno39</td>
<td>Directory not empty</td>
</tr>
<tr>
<td align="center">errno40</td>
<td>Too many levels of symbolic links</td>
</tr>
<tr>
<td align="center">errno41</td>
<td>Unknown error 41</td>
</tr>
<tr>
<td align="center">errno42</td>
<td>No message of desired type</td>
</tr>
<tr>
<td align="center">errno43</td>
<td>Identifier removed</td>
</tr>
<tr>
<td align="center">errno44</td>
<td>Channel number out of range</td>
</tr>
<tr>
<td align="center">errno45</td>
<td>Level 2 not synchronized</td>
</tr>
<tr>
<td align="center">errno46</td>
<td>Level 3 halted</td>
</tr>
<tr>
<td align="center">errno47</td>
<td>Level 3 reset</td>
</tr>
<tr>
<td align="center">errno48</td>
<td>Link number out of range</td>
</tr>
<tr>
<td align="center">errno49</td>
<td>Protocol driver not attached</td>
</tr>
<tr>
<td align="center">errno50</td>
<td>No CSI structure available</td>
</tr>
<tr>
<td align="center">errno51</td>
<td>Level 2 halted</td>
</tr>
<tr>
<td align="center">errno52</td>
<td>Invalid exchange</td>
</tr>
<tr>
<td align="center">errno53</td>
<td>Invalid request descriptor</td>
</tr>
<tr>
<td align="center">errno54</td>
<td>Exchange full</td>
</tr>
<tr>
<td align="center">errno55</td>
<td>No anode</td>
</tr>
<tr>
<td align="center">errno56</td>
<td>Invalid request code</td>
</tr>
<tr>
<td align="center">errno57</td>
<td>Invalid slot</td>
</tr>
<tr>
<td align="center">errno58</td>
<td>Unknown error 58</td>
</tr>
<tr>
<td align="center">errno59</td>
<td>Bad font file format</td>
</tr>
<tr>
<td align="center">errno60</td>
<td>Device not a stream</td>
</tr>
<tr>
<td align="center">errno61</td>
<td>No data available</td>
</tr>
<tr>
<td align="center">errno62</td>
<td>Timer expired</td>
</tr>
<tr>
<td align="center">errno63</td>
<td>Out of streams resources</td>
</tr>
<tr>
<td align="center">errno64</td>
<td>Machine is not on the network</td>
</tr>
<tr>
<td align="center">errno65</td>
<td>Package not installed</td>
</tr>
<tr>
<td align="center">errno66</td>
<td>Object is remote</td>
</tr>
<tr>
<td align="center">errno67</td>
<td>Link has been severed</td>
</tr>
<tr>
<td align="center">errno68</td>
<td>Advertise error</td>
</tr>
<tr>
<td align="center">errno69</td>
<td>Srmount error</td>
</tr>
<tr>
<td align="center">errno70</td>
<td>Communication error on send</td>
</tr>
<tr>
<td align="center">errno71</td>
<td>Protocol error</td>
</tr>
<tr>
<td align="center">errno72</td>
<td>Multihop attempted</td>
</tr>
<tr>
<td align="center">errno73</td>
<td>RFS specific error</td>
</tr>
<tr>
<td align="center">errno74</td>
<td>Bad message</td>
</tr>
<tr>
<td align="center">errno75</td>
<td>Value too large for defined datatype</td>
</tr>
<tr>
<td align="center">errno76</td>
<td>Name not unique on network</td>
</tr>
<tr>
<td align="center">errno77</td>
<td>File descriptor in bad state</td>
</tr>
<tr>
<td align="center">errno78</td>
<td>Remote address changed</td>
</tr>
<tr>
<td align="center">errno79</td>
<td>Can not access a needed sharedlibrary</td>
</tr>
<tr>
<td align="center">errno80</td>
<td>Accessing a corrupted sharedlibrary</td>
</tr>
<tr>
<td align="center">errno81</td>
<td>.lib section in a.out corrupted</td>
</tr>
<tr>
<td align="center">errno82</td>
<td>Attempting to link in too manyshared libraries</td>
</tr>
<tr>
<td align="center">errno83</td>
<td>Cannot exec a shared librarydirectly</td>
</tr>
<tr>
<td align="center">errno84</td>
<td>Invalid or incomplete multibyte orwide character</td>
</tr>
<tr>
<td align="center">errno85</td>
<td>Interrupted system call should berestarted</td>
</tr>
<tr>
<td align="center">errno86</td>
<td>Streams pipe error</td>
</tr>
<tr>
<td align="center">errno87</td>
<td>Too many users</td>
</tr>
<tr>
<td align="center">errno88</td>
<td>Socket operation on non-socket</td>
</tr>
<tr>
<td align="center">errno89</td>
<td>Destinationaddress required</td>
</tr>
<tr>
<td align="center">errno90</td>
<td>Message too long</td>
</tr>
<tr>
<td align="center">errno91</td>
<td>Protocol wrong type for socket</td>
</tr>
<tr>
<td align="center">errno92</td>
<td>Protocol not available</td>
</tr>
<tr>
<td align="center">errno93</td>
<td>Protocol not supported</td>
</tr>
<tr>
<td align="center">errno94</td>
<td>Socket type not supported</td>
</tr>
<tr>
<td align="center">errno95</td>
<td>Operation not supported</td>
</tr>
<tr>
<td align="center">errno96</td>
<td>Protocol family not supported</td>
</tr>
<tr>
<td align="center">errno97</td>
<td>Address family not supported byprotocol</td>
</tr>
<tr>
<td align="center">errno98</td>
<td>Address already in use</td>
</tr>
<tr>
<td align="center">errno99</td>
<td>Cannot assign requested address</td>
</tr>
<tr>
<td align="center">errno100</td>
<td>Network is down</td>
</tr>
<tr>
<td align="center">errno101</td>
<td>Network is unreachable</td>
</tr>
<tr>
<td align="center">errno102</td>
<td>Network dropped connection onreset</td>
</tr>
<tr>
<td align="center">errno103</td>
<td>Software caused connection abort</td>
</tr>
<tr>
<td align="center">errno104</td>
<td>Connection reset by peer</td>
</tr>
<tr>
<td align="center">errno105</td>
<td>No buffer space available</td>
</tr>
<tr>
<td align="center">errno106</td>
<td>Transport endpoint is alreadyconnected</td>
</tr>
<tr>
<td align="center">errno107</td>
<td>Transport endpoint is notconnected</td>
</tr>
<tr>
<td align="center">errno108</td>
<td>Cannot send after transportendpoint shutdown</td>
</tr>
<tr>
<td align="center">errno109</td>
<td>Too many references: cannot splice</td>
</tr>
<tr>
<td align="center">errno110</td>
<td>Connection timed out</td>
</tr>
<tr>
<td align="center">errno111</td>
<td>Connection refused</td>
</tr>
<tr>
<td align="center">errno112</td>
<td>Host is down</td>
</tr>
<tr>
<td align="center">errno113</td>
<td>No route to host</td>
</tr>
<tr>
<td align="center">errno114</td>
<td>Operation already in progress</td>
</tr>
<tr>
<td align="center">errno115</td>
<td>Operation now in progress</td>
</tr>
<tr>
<td align="center">errno116</td>
<td>Stale NFS file handle</td>
</tr>
<tr>
<td align="center">errno117</td>
<td>Structure needs cleaning</td>
</tr>
<tr>
<td align="center">errno118</td>
<td>Not a XENIX named type file</td>
</tr>
<tr>
<td align="center">errno119</td>
<td>No XENIX semaphores available</td>
</tr>
<tr>
<td align="center">errno120</td>
<td>Is a named type file</td>
</tr>
<tr>
<td align="center">errno121</td>
<td>Remote I/O error</td>
</tr>
<tr>
<td align="center">errno122</td>
<td>Disk quota exceeded</td>
</tr>
<tr>
<td align="center">errno123</td>
<td>No medium found</td>
</tr>
<tr>
<td align="center">errno124</td>
<td>Wrong medium type</td>
</tr>
<tr>
<td align="center">errno125</td>
<td>Operation canceled</td>
</tr>
<tr>
<td align="center">errno126</td>
<td>Required key not available</td>
</tr>
<tr>
<td align="center">errno127</td>
<td>Key has expired</td>
</tr>
<tr>
<td align="center">errno128</td>
<td>Key has been revoked</td>
</tr>
<tr>
<td align="center">errno129</td>
<td>Key was rejected by service</td>
</tr>
<tr>
<td align="center">errno130</td>
<td>Owner died</td>
</tr>
<tr>
<td align="center">errno131</td>
<td>State not recoverable</td>
</tr>
<tr>
<td align="center">errno132</td>
<td>Operation not possible due toRF-kill</td>
</tr>
<tr>
<td align="center">errno133</td>
<td>Unknown error 133</td>
</tr>
<tr>
<td align="center">errno134</td>
<td>Unknown error 134</td>
</tr>
<tr>
<td align="center">errno135</td>
<td>Unknown error 135</td>
</tr>
<tr>
<td align="center">errno136</td>
<td>Unknown error 136</td>
</tr>
<tr>
<td align="center">errno137</td>
<td>Unknown error 137</td>
</tr>
<tr>
<td align="center">errno138</td>
<td>Unknown error 138</td>
</tr>
<tr>
<td align="center">errno139</td>
<td>Unknown error 139</td>
</tr>
</tbody></table>
]]></content>
      <tags>
        <tag>å·¥å…·</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxä¹‹shell&amp;Makefile</title>
    <url>/2018/11/04/b0e7.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="æœ€ç®€å•çš„shell"><a href="#æœ€ç®€å•çš„shell" class="headerlink" title="æœ€ç®€å•çš„shell"></a>æœ€ç®€å•çš„shell</h2><pre class=" language-sh"><code class="language-sh">#!/bin/bash
echo "Hello World"</code></pre>
<h2 id="Shell-å˜é‡"><a href="#Shell-å˜é‡" class="headerlink" title="Shell å˜é‡"></a>Shell å˜é‡</h2><blockquote>
<p><strong>æ³¨æ„:</strong> å˜é‡çš„â€œ=â€å‰åä¸èƒ½æœ‰ç©ºæ ¼</p>
</blockquote>
<pre class=" language-sh"><code class="language-sh">#!/bin/bash
myStr="hello world"
myNum=100</code></pre>
<a id="more"></a>

<h3 id="è®¿é—®å˜é‡"><a href="#è®¿é—®å˜é‡" class="headerlink" title="è®¿é—®å˜é‡"></a>è®¿é—®å˜é‡</h3><blockquote>
<p>å½“æƒ³è¦è®¿é—®å˜é‡çš„æ—¶å€™ï¼Œéœ€è¦ä½¿ç”¨$ï¼Œå¦åˆ™è¾“å‡ºçš„å°†æ˜¯çº¯æ–‡æœ¬å†…å®¹</p>
</blockquote>
<pre class=" language-sh"><code class="language-sh">#!/bin/bash
myStr="hello world"
myNum=100
echo $myStr
echo myNum</code></pre>
<h2 id="shell-è¿ç®—"><a href="#shell-è¿ç®—" class="headerlink" title="shell è¿ç®—"></a>shell è¿ç®—</h2><h3 id="è¡¨è¾¾å¼"><a href="#è¡¨è¾¾å¼" class="headerlink" title="è¡¨è¾¾å¼"></a>è¡¨è¾¾å¼</h3><p>exprå‘½ä»¤ä¸ºLinuxä¸­çš„å‘½ä»¤ï¼Œä¸€èˆ¬ç”¨äºæ•´æ•°å€¼è®¡ç®—ï¼Œä½†ä¹Ÿå¯ç”¨äºå­—ç¬¦ä¸²æ“ä½œã€‚</p>
<ul>
<li>æ ¼å¼<ul>
<li>expr argument operator argument</li>
</ul>
</li>
<li>å‚æ•°è¯´æ˜<ul>
<li>argumentï¼šä¸ºç¬¬ä¸€ä¸ªå‚æ•°</li>
<li>operatorï¼šä¸ºæ“ä½œè¿ç®—ç¬¦</li>
<li>argumentï¼šä¸ºç¬¬äºŒä¸ªå‚æ•°</li>
</ul>
</li>
</ul>
<h3 id="è¿ç®—ç¬¦å·"><a href="#è¿ç®—ç¬¦å·" class="headerlink" title="è¿ç®—ç¬¦å·"></a>è¿ç®—ç¬¦å·</h3><table>
<thead>
<tr>
<th align="left">è¿ç®—ç¬¦</th>
<th align="left">å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td align="left">+</td>
<td align="left">åŠ æ³•è¿ç®—</td>
</tr>
<tr>
<td align="left">-</td>
<td align="left">å‡æ³•è¿ç®—</td>
</tr>
<tr>
<td align="left">*</td>
<td align="left">ä¹˜æ³•è¿ç®—</td>
</tr>
<tr>
<td align="left">/</td>
<td align="left">é™¤æ³•è¿ç®—</td>
</tr>
<tr>
<td align="left">%</td>
<td align="left">æ±‚ä½™</td>
</tr>
<tr>
<td align="left">==</td>
<td align="left">ç›¸ç­‰</td>
</tr>
<tr>
<td align="left">=</td>
<td align="left">èµ‹å€¼</td>
</tr>
<tr>
<td align="left">!=</td>
<td align="left">ä¸ç›¸ç­‰</td>
</tr>
<tr>
<td align="left">-a</td>
<td align="left">ä¸</td>
</tr>
<tr>
<td align="left">-o</td>
<td align="left">æˆ–</td>
</tr>
<tr>
<td align="left">!</td>
<td align="left">é</td>
</tr>
<tr>
<td align="left">-eq</td>
<td align="left">ä¸¤ä¸ªæ•°ç›¸ç­‰è¿”å›true</td>
</tr>
<tr>
<td align="left">-ne</td>
<td align="left">ä¸¤ä¸ªæ•°ä¸ç›¸ç­‰è¿”å›true</td>
</tr>
<tr>
<td align="left">-gt</td>
<td align="left">å·¦ä¾§æ•°å¤§äºå³ä¾§æ•°è¿”å›true</td>
</tr>
<tr>
<td align="left">-It</td>
<td align="left">å·¦ä¾§æ•°å°äºå³ä¾§æ•°è¿”å›true</td>
</tr>
<tr>
<td align="left">-ge</td>
<td align="left">å·¦ä¾§æ•°å¤§äºç­‰äºå³ä¾§æ•°è¿”å›true</td>
</tr>
<tr>
<td align="left">-le</td>
<td align="left">å·¦ä¾§æ•°å°äºç­‰äºå³ä¾§æ•°è¿”å›true</td>
</tr>
<tr>
<td align="left">=</td>
<td align="left">ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰è¿”å›true</td>
</tr>
<tr>
<td align="left">!=</td>
<td align="left">ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸ç›¸ç­‰è¿”å›true</td>
</tr>
<tr>
<td align="left">-z</td>
<td align="left">å­—ç¬¦ä¸²é•¿åº¦ä¸º0è¿”å›true</td>
</tr>
<tr>
<td align="left">-n</td>
<td align="left">å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º0è¿”å›true</td>
</tr>
<tr>
<td align="left">-d file</td>
<td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯ç›®å½•ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td>
</tr>
<tr>
<td align="left">-r file</td>
<td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯è¯»ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td>
</tr>
<tr>
<td align="left">-w file</td>
<td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯å†™ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td>
</tr>
<tr>
<td align="left">-x file</td>
<td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td>
</tr>
<tr>
<td align="left">-s file</td>
<td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦ä¸ºç©ºï¼ˆæ–‡ä»¶å¤§å°æ˜¯å¦å¤§äº0ï¼Œä¸ä¸ºç©ºè¿”å› true</td>
</tr>
<tr>
<td align="left">-e file</td>
<td align="left">æ£€æµ‹æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç›®å½•ï¼‰æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› true</td>
</tr>
</tbody></table>
<h2 id="ä¸€äº›ä¾‹å­"><a href="#ä¸€äº›ä¾‹å­" class="headerlink" title="ä¸€äº›ä¾‹å­"></a>ä¸€äº›ä¾‹å­</h2><pre class=" language-sh"><code class="language-sh">#!/bin/sh
a=10
b=20
if [ $a -eq $b ]
then
   echo "true"
else
   echo "false"
fi

if [ $a -ne $b ]
then
   echo "true"
else
   echo "false"
fi

if [ $a -gt $b ]
then
   echo "true"
else
   echo "false"
fi

if [ $a -lt $b ]
then
   echo "true"
else
   echo "false"
fi

if [ $a -ge $b ]
then
   echo "true"
else
   echo "false"
fi

if [ $a -le $b ]
then
   echo "true"
else
   echo "false"
fi</code></pre>
<h3 id="è·å–å­—ç¬¦ä¸²é•¿åº¦"><a href="#è·å–å­—ç¬¦ä¸²é•¿åº¦" class="headerlink" title="è·å–å­—ç¬¦ä¸²é•¿åº¦"></a>è·å–å­—ç¬¦ä¸²é•¿åº¦</h3><pre class=" language-sh"><code class="language-sh">mtext3="hello world"
echo $&#123;#mtext3&#125;  #è¾“å‡ºå­—ç¬¦ä¸²é•¿åº¦
echo $&#123;mtext3:1:4&#125;  #æˆªå–å­—ç¬¦ä¸² 1åˆ°4</code></pre>
<p>è¾“å‡º</p>
<pre class=" language-sh"><code class="language-sh">11
ello</code></pre>
<h3 id="å˜é‡è®¡ç®—"><a href="#å˜é‡è®¡ç®—" class="headerlink" title="å˜é‡è®¡ç®—"></a>å˜é‡è®¡ç®—</h3><pre class=" language-sh"><code class="language-sh">a=3
b=5
val=`expr $a / $b`
echo "Total value : $val"

val=`expr $a % $b`
echo "Total value : $val"

if [ $a == $b ]
then
   echo "a is equal to b"
fi
if [ $a != $b ]
then
   echo "a is not equal to b"
fi</code></pre>
<h3 id="æ•°ç»„è®¡ç®—"><a href="#æ•°ç»„è®¡ç®—" class="headerlink" title="æ•°ç»„è®¡ç®—"></a>æ•°ç»„è®¡ç®—</h3><pre class=" language-sh"><code class="language-sh">#!/bin/sh
array=(1 2 3 4 5)  #å®šä¹‰æ•°ç»„
array2=(aa bb cc dd ee)  #å®šä¹‰æ•°ç»„
value=$&#123;array[3]&#125;  #æ‰¾åˆ°æŸä¸€ä¸ªä¸‹æ ‡çš„æ•°ï¼Œç„¶åèµ‹å€¼
echo $value  #æ‰“å°
value2=$&#123;array2[3]&#125;  #æ‰¾åˆ°æŸä¸€ä¸ªä¸‹æ ‡çš„æ•°ï¼Œç„¶åèµ‹å€¼
echo $value2  #æ‰“å°
length=$&#123;#array[*]&#125;  #è·å–æ•°ç»„é•¿åº¦
echo $length</code></pre>
<h3 id="åˆ¤æ–­è¯­å¥"><a href="#åˆ¤æ–­è¯­å¥" class="headerlink" title="åˆ¤æ–­è¯­å¥"></a>åˆ¤æ–­è¯­å¥</h3><ul>
<li>if</li>
<li>if-else</li>
<li>if-elseif</li>
</ul>
<pre class=" language-sh"><code class="language-sh">#!/bin/sh
a=10
b=20
if [ $a == $b ]
then
   echo "true"
fi


if [ $a == $b ]
then
   echo "true"
else
   echo "false"
fi


if [ $a == $b ]
then
   echo "a is equal to b"
elif [ $a -gt $b ]
then
   echo "a is greater than b"
elif [ $a -lt $b ]
then
   echo "a is less than b"
else
   echo "None of the condition met"
fi</code></pre>
<p>åˆ¤æ–­ä¸¤ä¸ªå˜é‡çš„å€¼æ˜¯å¦ç›¸ç­‰:<code>test $[Val1] -eq $[Val]</code></p>
<pre class=" language-sh"><code class="language-sh">if test $[a] -eq $[b]
then
    echo "a ç­‰äº b"
else
    echo "a ä¸ç­‰äº b"
fi</code></pre>
<h3 id="for-å¾ªç¯"><a href="#for-å¾ªç¯" class="headerlink" title="for å¾ªç¯"></a>for å¾ªç¯</h3><pre class=" language-sh"><code class="language-sh">#!/bin/sh

for i in &#123;1..5&#125;
do
    echo $i
done


for i in 5 6 7 8 9
do
    echo $i
done


for FILE in $HOME/.bash*
do
   echo $FILE
done</code></pre>
<h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><h3 id="æ²¡æœ‰è¿”å›å€¼å‡½æ•°"><a href="#æ²¡æœ‰è¿”å›å€¼å‡½æ•°" class="headerlink" title="æ²¡æœ‰è¿”å›å€¼å‡½æ•°"></a>æ²¡æœ‰è¿”å›å€¼å‡½æ•°</h3><pre class=" language-sh"><code class="language-sh">#!/bin/sh

sysout()&#123;
    echo "hello world"
&#125;

sysout</code></pre>
<h3 id="æœ‰è¿”å›å€¼å‡½æ•°"><a href="#æœ‰è¿”å›å€¼å‡½æ•°" class="headerlink" title="æœ‰è¿”å›å€¼å‡½æ•°"></a>æœ‰è¿”å›å€¼å‡½æ•°</h3><pre class=" language-sh"><code class="language-sh">test()&#123;

    aNum=3
    anotherNum=5
    return $(($aNum+$anotherNum))
&#125;
test
result=$?
echo $result</code></pre>
<h3 id="å®šä¹‰ä¼ é€’å‚æ•°çš„å‡½æ•°"><a href="#å®šä¹‰ä¼ é€’å‚æ•°çš„å‡½æ•°" class="headerlink" title="å®šä¹‰ä¼ é€’å‚æ•°çš„å‡½æ•°"></a>å®šä¹‰ä¼ é€’å‚æ•°çš„å‡½æ•°</h3><pre class=" language-sh"><code class="language-sh">#!/bin/sh

test()&#123;
    echo $1  #æ¥æ”¶ç¬¬ä¸€ä¸ªå‚æ•°
    echo $2  #æ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°
    echo $3  #æ¥æ”¶ç¬¬ä¸‰ä¸ªå‚æ•°
    echo $#  #æ¥æ”¶åˆ°å‚æ•°çš„ä¸ªæ•°
    echo $*  #æ¥æ”¶åˆ°çš„æ‰€æœ‰å‚æ•°
&#125;

test aa bb cc</code></pre>
<h2 id="shell-é¢œè‰²è¾“å‡º"><a href="#shell-é¢œè‰²è¾“å‡º" class="headerlink" title="shell é¢œè‰²è¾“å‡º"></a>shell é¢œè‰²è¾“å‡º</h2><p>åˆ©ç”¨echo æˆ–è€…printf å¯ä»¥è¾“å‡ºå¸¦é¢œè‰²çš„shellç»ˆç«¯å­—ä½“</p>
<h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><pre class=" language-sh"><code class="language-sh">echo -e "\033[43;35m  Hello World \033[0m \n" 

printf "\033[44;36m  Hello World \033[0m \n" 
</code></pre>
<h3 id="æ ¼å¼"><a href="#æ ¼å¼" class="headerlink" title="æ ¼å¼"></a>æ ¼å¼</h3><pre><code>echo -e &quot;\003[èƒŒæ™¯é¢œè‰²;æ–‡å­—é¢œè‰²;æ˜¾ç¤ºæ–¹å¼må­—ç¬¦ä¸²\003[0m&quot;</code></pre>
<ul>
<li>-e æ˜¯å‘½ä»¤ echo çš„ä¸€ä¸ªå¯é€‰é¡¹ï¼Œå®ƒç”¨äºæ¿€æ´»ç‰¹æ®Šå­—ç¬¦çš„è§£æå™¨ï¼Œå¯ä»¥è½¬ä¹‰åæ–œæ å­—ç¬¦;</li>
<li><code>\033</code> å¼•å¯¼éå¸¸è§„å­—ç¬¦åºåˆ—;</li>
<li>m æ„å‘³ç€è®¾ç½®å±æ€§ç„¶åç»“æŸéå¸¸è§„å­—ç¬¦åºåˆ—ï¼Œæ˜¾ç¤ºçš„å­—ç¬¦ä¸²ä¹‹å‰æœ‰ä¸€ä¸ª m ï¼›</li>
</ul>
<h4 id="æ˜¾ç¤ºæ–¹å¼å…·ä½“å†…å®¹ï¼š"><a href="#æ˜¾ç¤ºæ–¹å¼å…·ä½“å†…å®¹ï¼š" class="headerlink" title="æ˜¾ç¤ºæ–¹å¼å…·ä½“å†…å®¹ï¼š"></a>æ˜¾ç¤ºæ–¹å¼å…·ä½“å†…å®¹ï¼š</h4><table>
<thead>
<tr>
<th align="left">æ˜¾ç¤ºæ–¹å¼</th>
<th align="left">å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td align="left">0</td>
<td align="left">å…³é—­æ‰€æœ‰å±æ€§</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">è®¾ç½®é«˜äº®</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">ä¸‹åˆ’çº¿</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">é—ªçƒ</td>
</tr>
<tr>
<td align="left">7</td>
<td align="left">åæ˜¾</td>
</tr>
<tr>
<td align="left">8</td>
<td align="left">æ¶ˆéš</td>
</tr>
</tbody></table>
<h4 id="é¢œè‰²"><a href="#é¢œè‰²" class="headerlink" title="é¢œè‰²"></a>é¢œè‰²</h4><table>
<thead>
<tr>
<th align="left">æ–‡å­—é¢œè‰²</th>
<th align="left">èƒŒæ™¯é¢œè‰²</th>
<th align="left">é¢œè‰²</th>
</tr>
</thead>
<tbody><tr>
<td align="left">30</td>
<td align="left">40</td>
<td align="left">é»‘è‰²</td>
</tr>
<tr>
<td align="left">31</td>
<td align="left">41</td>
<td align="left">çº¢è‰²</td>
</tr>
<tr>
<td align="left">32</td>
<td align="left">42</td>
<td align="left">ç»¿è‰²</td>
</tr>
<tr>
<td align="left">33</td>
<td align="left">43</td>
<td align="left">é»„è‰²</td>
</tr>
<tr>
<td align="left">34</td>
<td align="left">44</td>
<td align="left">è“è‰²</td>
</tr>
<tr>
<td align="left">35</td>
<td align="left">45</td>
<td align="left">ç´«çº¢è‰²</td>
</tr>
<tr>
<td align="left">36</td>
<td align="left">46</td>
<td align="left">é’è“è‰²</td>
</tr>
<tr>
<td align="left">37</td>
<td align="left">47</td>
<td align="left">ç™½è‰²</td>
</tr>
</tbody></table>
<h2 id="Makefile"><a href="#Makefile" class="headerlink" title="Makefile"></a>Makefile</h2><h3 id="patsubst-æ›¿æ¢é€šé…ç¬¦"><a href="#patsubst-æ›¿æ¢é€šé…ç¬¦" class="headerlink" title="patsubst(æ›¿æ¢é€šé…ç¬¦)"></a>patsubst(æ›¿æ¢é€šé…ç¬¦)</h3><p><strong>åŸå‹:</strong> <br><br><code>$(patsubst åŸæ¨¡å¼ï¼Œ ç›®æ ‡æ¨¡å¼ï¼Œ æ–‡ä»¶åˆ—è¡¨)</code>æˆ–<code>$(patsubst  pattern, replacement,text)</code><br><br><strong>åŠŸèƒ½ï¼š<br></strong><br>æŸ¥æ‰¾<code>&lt;text&gt;</code>ä¸­çš„å•è¯ï¼ˆå•è¯ä»¥â€œç©ºæ ¼â€ã€â€œTabâ€æˆ–â€œå›è½¦â€â€œæ¢è¡Œâ€åˆ†éš”ï¼‰æ˜¯å¦ç¬¦åˆæ¨¡å¼<code>&lt;pattern&gt;</code>ï¼Œå¦‚æœåŒ¹é…çš„è¯ï¼Œåˆ™ä»¥<code>&lt;replacement&gt;</code>æ›¿æ¢ã€‚è¿™é‡Œï¼Œ<code>&lt;pattern&gt;</code>å¯ä»¥åŒ…æ‹¬é€šé…ç¬¦â€œ%â€ï¼Œè¡¨ç¤ºä»»æ„é•¿åº¦çš„å­—ä¸²ã€‚å¦‚æœ<code>&lt;replacement&gt;</code>ä¸­ä¹ŸåŒ…å«â€œ%â€ï¼Œé‚£ä¹ˆï¼Œ<code>&lt;replacement&gt;</code>ä¸­çš„è¿™ä¸ªâ€œ%â€å°†æ˜¯<code>&lt;pattern&gt;</code>ä¸­çš„é‚£ä¸ªâ€œ%â€æ‰€ä»£è¡¨çš„å­—ä¸²ã€‚ï¼ˆå¯ä»¥ç”¨â€œ\â€æ¥è½¬ä¹‰ï¼Œä»¥â€œ%â€æ¥è¡¨ç¤ºçœŸå®å«ä¹‰çš„â€œ%â€å­—ç¬¦ï¼‰<br><br><strong>è¿”å›ï¼š<br>**å‡½æ•°è¿”å›è¢«æ›¿æ¢è¿‡åçš„å­—ç¬¦ä¸²ã€‚<br><br>**ä¾‹å­ï¼š<br></strong></p>
<pre class=" language-Make"><code class="language-Make">(patsubst %.c,%.o,x.c.c bar.c)</code></pre>
<p>æŠŠå­—ä¸²â€œx.c.c bar.câ€ç¬¦åˆæ¨¡å¼[%.c]çš„å•è¯æ›¿æ¢æˆ[%.o]ï¼Œè¿”å›ç»“æœæ˜¯â€œx.c.o bar.oâ€</p>
<h4 id="æ‹“å±•-å˜é‡æ›¿æ¢å¼•ç”¨"><a href="#æ‹“å±•-å˜é‡æ›¿æ¢å¼•ç”¨" class="headerlink" title="æ‹“å±•-å˜é‡æ›¿æ¢å¼•ç”¨"></a>æ‹“å±•-å˜é‡æ›¿æ¢å¼•ç”¨</h4><p>å¯¹äºä¸€ä¸ªå·²ç»å®šä¹‰çš„å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨â€œæ›¿æ¢å¼•ç”¨â€å°†å…¶å€¼ä¸­çš„åç¼€å­—ç¬¦ï¼ˆä¸²ï¼‰ä½¿ç”¨æŒ‡å®šçš„å­—ç¬¦ï¼ˆå­—ç¬¦ä¸²ï¼‰æ›¿æ¢ã€‚æ ¼å¼ä¸º<code>$(VAR:A=B)</code>ï¼ˆæˆ–è€…<code>$&#123;VAR:A=B&#125;</code>ï¼‰ï¼Œæ„æ€æ˜¯ï¼Œæ›¿æ¢å˜é‡â€œVARâ€ä¸­æ‰€æœ‰â€œAâ€å­—ç¬¦ç»“å°¾çš„å­—ä¸ºâ€œBâ€ç»“å°¾çš„å­—ã€‚â€œç»“å°¾â€çš„å«ä¹‰æ˜¯ç©ºæ ¼ä¹‹å‰ï¼ˆå˜é‡å€¼å¤šä¸ªå­—ä¹‹é—´ä½¿ç”¨ç©ºæ ¼åˆ†å¼€ï¼‰ã€‚è€Œå¯¹äºå˜é‡å…¶å®ƒéƒ¨åˆ†çš„â€œAâ€å­—ç¬¦ä¸è¿›è¡Œæ›¿æ¢ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code>foo := a.o b.o c.o
bar := $(foo:.o=.c)</code></pre>
<p>åœ¨è¿™ä¸ªå®šä¹‰ä¸­ï¼Œå˜é‡â€œbarâ€çš„å€¼å°±ä¸ºâ€œa.c b.c c.câ€ã€‚ä½¿ç”¨å˜é‡çš„æ›¿æ¢å¼•ç”¨å°†å˜é‡â€œfooâ€ä»¥ç©ºæ ¼åˆ†å¼€çš„å€¼ä¸­çš„æ‰€æœ‰çš„å­—çš„å°¾å­—ç¬¦â€œoâ€æ›¿æ¢ä¸ºâ€œcâ€ï¼Œå…¶ä»–éƒ¨åˆ†ä¸å˜ã€‚å¦‚æœåœ¨å˜é‡â€œfooâ€ä¸­å¦‚æœå­˜åœ¨â€œo.oâ€æ—¶ï¼Œé‚£ä¹ˆå˜é‡â€œbarâ€çš„å€¼ä¸ºâ€œa.c b.c c.c o.câ€è€Œä¸æ˜¯â€œa.c b.c c.c c.câ€ã€‚</p>
<h3 id="wildcard-æ‰©å±•é€šé…ç¬¦"><a href="#wildcard-æ‰©å±•é€šé…ç¬¦" class="headerlink" title="wildcard(æ‰©å±•é€šé…ç¬¦)"></a>wildcard(æ‰©å±•é€šé…ç¬¦)</h3><p><strong>åŸå‹:</strong> <br><br><code>SRC = $(wildcard *.c ./foo/*.c)</code><br></p>
<p><strong>åŠŸèƒ½ï¼š<br></strong><br>æœç´¢å½“å‰ç›®å½•åŠ./foo/ä¸‹æ‰€æœ‰ä»¥.cç»“å°¾çš„æ–‡ä»¶ï¼Œç”Ÿæˆä¸€ä¸ªä»¥ç©ºæ ¼é—´éš”çš„æ–‡ä»¶ååˆ—è¡¨ï¼Œå¹¶èµ‹å€¼ç»™SRC.å½“å‰ç›®å½•æ–‡ä»¶åªæœ‰æ–‡ä»¶åï¼Œå­ç›®å½•ä¸‹çš„æ–‡ä»¶ååŒ…å«è·¯å¾„ä¿¡æ¯ï¼Œæ¯”å¦‚./foor/bar.cã€‚</p>
<h3 id="notdir-å»é™¤è·¯å¾„"><a href="#notdir-å»é™¤è·¯å¾„" class="headerlink" title="notdir(å»é™¤è·¯å¾„)"></a>notdir(å»é™¤è·¯å¾„)</h3><p><strong>åŸå‹:</strong> <br><br><code>SRC = $(notdir wildcard)</code><br><br><strong>åŠŸèƒ½ï¼š<br></strong><br>å»é™¤æ‰€æœ‰çš„ç›®å½•ä¿¡æ¯ï¼ŒSRCé‡Œçš„æ–‡ä»¶ååˆ—è¡¨å°†åªæœ‰æ–‡ä»¶åã€‚</p>
<h3 id="addprefix-æ·»åŠ å›ºå®šå‰ç¼€"><a href="#addprefix-æ·»åŠ å›ºå®šå‰ç¼€" class="headerlink" title="addprefix(æ·»åŠ å›ºå®šå‰ç¼€)"></a>addprefix(æ·»åŠ å›ºå®šå‰ç¼€)</h3><p><strong>åŸå‹:</strong> <br><br><code>$(addprefix fixstring,string1 string2 ...)</code><br><br><strong>åŠŸèƒ½ï¼š<br></strong><br>å…¶ä¸­ï¼Œfixstringè¡¨ç¤ºä»»æ„è¦æ·»åŠ çš„å›ºå®šå‰ç¼€ï¼Œåœ¨é€—å·çš„åé¢å¯ä»¥æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªè¦æ·»åŠ å‰ç¼€çš„å­å­—ç¬¦ä¸²ï¼Œå¤šä¸ªå­å­—ç¬¦ä¸²ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€,å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨å˜é‡ã€‚</p>
<h3 id="foreach"><a href="#foreach" class="headerlink" title="foreach"></a>foreach</h3><p><strong>åŸå‹:</strong> <br><br><code>$(foreach &lt;var&gt;,&lt;list&gt;,&lt;text&gt;)</code><br><br><strong>åŠŸèƒ½ï¼š<br></strong><br>è¿™ä¸ªå‡½æ•°çš„æ„æ€æ˜¯ï¼ŒæŠŠå‚æ•°<code>&lt;list&gt;</code>;ä¸­çš„å•è¯é€ä¸€å–å‡ºæ”¾åˆ°å‚æ•°<code>&lt;var&gt;</code>;æ‰€æŒ‡å®šçš„å˜é‡ä¸­ï¼Œç„¶åå†æ‰§è¡Œ&lt; text&gt;;æ‰€åŒ…å«çš„è¡¨è¾¾å¼ã€‚æ¯ä¸€æ¬¡<code>&lt;text&gt;</code>;ä¼šè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¾ªç¯è¿‡ç¨‹ä¸­ï¼Œ<code>&lt;text&gt;</code>;çš„æ‰€è¿”å›çš„æ¯ä¸ªå­—ç¬¦ä¸²ä¼šä»¥ç©ºæ ¼åˆ†éš”ï¼Œæœ€åå½“æ•´ä¸ªå¾ªç¯ç»“æŸæ—¶ï¼Œ<code>&lt;text&gt;</code>;æ‰€è¿”å›çš„æ¯ä¸ªå­—ç¬¦ä¸²æ‰€ç»„æˆçš„æ•´ä¸ªå­—ç¬¦ä¸²ï¼ˆä»¥ç©ºæ ¼åˆ†éš”ï¼‰å°†ä¼šæ˜¯foreachå‡½æ•°çš„è¿”å›å€¼ã€‚<br><br><strong>ä¾‹å­ï¼š<br></strong></p>
<pre><code>names := a b c d
files := $(foreach n,$(names),$(n).o)</code></pre>
<p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ$(name)ä¸­çš„å•è¯ä¼šè¢«æŒ¨ä¸ªå–å‡ºï¼Œå¹¶å­˜åˆ°å˜é‡â€œnâ€ä¸­ï¼Œâ€œ$(n).oâ€æ¯æ¬¡æ ¹æ®â€œ$(n)â€è®¡ç®—å‡ºä¸€ä¸ªå€¼ï¼Œè¿™äº›å€¼ä»¥ç©ºæ ¼åˆ†éš”ï¼Œæœ€åä½œä¸ºforeachå‡½æ•°çš„è¿”å›ï¼Œæ‰€ä»¥ï¼Œ$(files)çš„å€¼æ˜¯â€œa.o b.o c.o d.oâ€ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼Œforeachä¸­çš„<var>;å‚æ•°æ˜¯ä¸€ä¸ªä¸´æ—¶çš„å±€éƒ¨å˜é‡ï¼Œforeachå‡½æ•°æ‰§è¡Œå®Œåï¼Œå‚æ•°<var>;çš„å˜é‡å°†ä¸åœ¨ä½œç”¨ï¼Œå…¶ä½œç”¨åŸŸåªåœ¨foreachå‡½æ•°å½“ä¸­ã€‚</p>
]]></content>
      <tags>
        <tag>å·¥å…·</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxä¹‹å®ç”¨æŠ€èƒ½</title>
    <url>/2017/06/06/ef18.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="æŸ¥çœ‹æœºå™¨æ˜¯å¤šå°‘ä½"><a href="#æŸ¥çœ‹æœºå™¨æ˜¯å¤šå°‘ä½" class="headerlink" title="æŸ¥çœ‹æœºå™¨æ˜¯å¤šå°‘ä½"></a>æŸ¥çœ‹æœºå™¨æ˜¯å¤šå°‘ä½</h2><hr>
<h3 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h3><pre class=" language-shell"><code class="language-shell">>>>$ getconf LONG_BIT
>>>$ 64</code></pre>
<h3 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h3><pre class=" language-shell"><code class="language-shell">>>>$ uname -a
>>>$ Linux alex-virtual-machine 3.16.0-30-generic #40~14.04.1-Ubuntu SMP Thu Jan 15 17:43:14 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
</code></pre>
<a id="more"></a>

<h3 id="æ–¹æ³•ä¸‰"><a href="#æ–¹æ³•ä¸‰" class="headerlink" title="æ–¹æ³•ä¸‰"></a>æ–¹æ³•ä¸‰</h3><pre class=" language-shell"><code class="language-shell">>>>$ uname -p
>>>$ x86_64</code></pre>
<h2 id="å®ç”¨å‘½ä»¤"><a href="#å®ç”¨å‘½ä»¤" class="headerlink" title="å®ç”¨å‘½ä»¤"></a>å®ç”¨å‘½ä»¤</h2><table>
<thead>
<tr>
<th align="center">å‘½ä»¤</th>
<th>è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td align="center">wc</td>
<td>ç»Ÿè®¡æ–‡æœ¬ä¸­è¡Œæ•°ã€å­—æ•°ã€å­—ç¬¦æ•°</td>
</tr>
<tr>
<td align="center">stat</td>
<td>æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼Œæ¯”lsæ›´è¯¦ç»†</td>
</tr>
<tr>
<td align="center">who</td>
<td>æ˜¾ç¤ºåœ¨çº¿ç™»é™†ç”¨æˆ·</td>
</tr>
<tr>
<td align="center">whoami</td>
<td>æ˜¾ç¤ºå½“å‰æ“ä½œç”¨æˆ·</td>
</tr>
<tr>
<td align="center">hostname</td>
<td>æ˜¾ç¤ºä¸»æœºå</td>
</tr>
<tr>
<td align="center">uname</td>
<td>æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯</td>
</tr>
<tr>
<td align="center">top</td>
<td>åŠ¨æ€æ˜¾ç¤ºå½“å‰è€—è´¹èµ„æºæœ€å¤šè¿›ç¨‹ä¿¡æ¯</td>
</tr>
<tr>
<td align="center">ps</td>
<td>æ˜¾ç¤ºç¬é—´è¿›ç¨‹çŠ¶æ€ ps -aux</td>
</tr>
<tr>
<td align="center">du</td>
<td>æŸ¥çœ‹ç›®å½•å¤§å° du -h /homeå¸¦æœ‰å•ä½æ˜¾ç¤ºç›®å½•ä¿¡æ¯</td>
</tr>
<tr>
<td align="center">df</td>
<td>æŸ¥çœ‹ç£ç›˜å¤§å° df -h å¸¦æœ‰å•ä½æ˜¾ç¤ºç£ç›˜ä¿¡æ¯</td>
</tr>
</tbody></table>
<h2 id="Linux-ä»£ç æ–‡ä»¶å¤§å°ã€è¡Œæ•°ã€å­—èŠ‚æ•°ç»Ÿè®¡"><a href="#Linux-ä»£ç æ–‡ä»¶å¤§å°ã€è¡Œæ•°ã€å­—èŠ‚æ•°ç»Ÿè®¡" class="headerlink" title="Linux ä»£ç æ–‡ä»¶å¤§å°ã€è¡Œæ•°ã€å­—èŠ‚æ•°ç»Ÿè®¡"></a>Linux ä»£ç æ–‡ä»¶å¤§å°ã€è¡Œæ•°ã€å­—èŠ‚æ•°ç»Ÿè®¡</h2><h3 id="å‘½ä»¤è§£é‡Š"><a href="#å‘½ä»¤è§£é‡Š" class="headerlink" title="å‘½ä»¤è§£é‡Š"></a>å‘½ä»¤è§£é‡Š</h3><p><strong><em>è¯­æ³•ï¼šwc [é€‰é¡¹] æ–‡ä»¶â€¦</em></strong></p>
<blockquote>
<p>è¯´æ˜ï¼šè¯¥å‘½ä»¤ç»Ÿè®¡ç»™å®šæ–‡ä»¶ä¸­çš„å­—èŠ‚æ•°ã€å­—æ•°ã€è¡Œæ•°ã€‚å¦‚æœæ²¡æœ‰ç»™å‡ºæ–‡ä»¶åï¼Œåˆ™ä»æ ‡å‡†è¾“å…¥è¯»å–ã€‚wcåŒæ—¶ä¹Ÿç»™å‡ºæ‰€æœ‰æŒ‡å®šæ–‡ä»¶çš„æ€»ç»Ÿè®¡æ•°ã€‚å­—æ˜¯ç”±ç©ºæ ¼å­—ç¬¦åŒºåˆ†å¼€çš„æœ€å¤§å­—ç¬¦ä¸²ã€‚</p>
</blockquote>
<p>è¯¥å‘½ä»¤å„é€‰é¡¹å«ä¹‰å¦‚ä¸‹ï¼š</p>
<ul>
<li>- c ç»Ÿè®¡å­—èŠ‚æ•°ã€‚</li>
<li>- l ç»Ÿè®¡è¡Œæ•°ã€‚</li>
<li>- w ç»Ÿè®¡å­—æ•°ã€‚</li>
</ul>
<p>è¿™äº›é€‰é¡¹å¯ä»¥ç»„åˆä½¿ç”¨ã€‚</p>
<p>è¾“å‡ºåˆ—çš„é¡ºåºå’Œæ•°ç›®ä¸å—é€‰é¡¹çš„é¡ºåºå’Œæ•°ç›®çš„å½±å“ã€‚</p>
<p>æ€»æ˜¯æŒ‰ä¸‹è¿°é¡ºåºæ˜¾ç¤ºå¹¶ä¸”æ¯é¡¹æœ€å¤šä¸€åˆ—ã€‚</p>
<p>è¡Œæ•°ã€å­—æ•°ã€å­—èŠ‚æ•°ã€æ–‡ä»¶å</p>
<p>å¦‚æœå‘½ä»¤è¡Œä¸­æ²¡æœ‰æ–‡ä»¶åï¼Œåˆ™è¾“å‡ºä¸­ä¸å‡ºç°æ–‡ä»¶åã€‚</p>
<h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><h4 id="æŸ¥çœ‹æŸä¸ªæ–‡ä»¶"><a href="#æŸ¥çœ‹æŸä¸ªæ–‡ä»¶" class="headerlink" title="æŸ¥çœ‹æŸä¸ªæ–‡ä»¶"></a>æŸ¥çœ‹æŸä¸ªæ–‡ä»¶</h4><pre class=" language-shell"><code class="language-shell">Alex@alex:blog(master *)$wc -lcw package.json
      24      44     618 package.json</code></pre>
<h4 id="æŸ¥çœ‹æŸç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶-åŒ…æ‹¬å­ç›®å½•"><a href="#æŸ¥çœ‹æŸç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶-åŒ…æ‹¬å­ç›®å½•" class="headerlink" title="æŸ¥çœ‹æŸç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶(åŒ…æ‹¬å­ç›®å½•)"></a>æŸ¥çœ‹æŸç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶(åŒ…æ‹¬å­ç›®å½•)</h4><h5 id="æŸ¥çœ‹blog-ç›®å½•ä¸‹å‘½ååç¼€æ˜¯html-æ–‡ä»¶æ‰€æœ‰çš„æ•°é‡"><a href="#æŸ¥çœ‹blog-ç›®å½•ä¸‹å‘½ååç¼€æ˜¯html-æ–‡ä»¶æ‰€æœ‰çš„æ•°é‡" class="headerlink" title="æŸ¥çœ‹blog ç›®å½•ä¸‹å‘½ååç¼€æ˜¯html æ–‡ä»¶æ‰€æœ‰çš„æ•°é‡"></a>æŸ¥çœ‹blog ç›®å½•ä¸‹å‘½ååç¼€æ˜¯html æ–‡ä»¶æ‰€æœ‰çš„æ•°é‡</h5><pre class=" language-shell"><code class="language-shell">Alex@alex:blog$find blog/ -name "*.html"|wc -l
     199</code></pre>
<h4 id="ç›®å½•ä¸‹æ‰€æœ‰mdæ–‡ä»¶ä»£ç è¡Œæ•°"><a href="#ç›®å½•ä¸‹æ‰€æœ‰mdæ–‡ä»¶ä»£ç è¡Œæ•°" class="headerlink" title="ç›®å½•ä¸‹æ‰€æœ‰mdæ–‡ä»¶ä»£ç è¡Œæ•°"></a>ç›®å½•ä¸‹æ‰€æœ‰mdæ–‡ä»¶ä»£ç è¡Œæ•°</h4><pre><code>find blog/ -name &quot;*.md&quot; |xargs cat|wc -l</code></pre>
<p>æˆ–</p>
<pre><code> wc -l `find ./ -name &quot;*.md&quot;`|tail -n1</code></pre>
<h4 id="ç»Ÿè®¡å½“å‰ç›®å½•ä¸‹æ–‡ä»¶ä¸ªæ•°"><a href="#ç»Ÿè®¡å½“å‰ç›®å½•ä¸‹æ–‡ä»¶ä¸ªæ•°" class="headerlink" title="ç»Ÿè®¡å½“å‰ç›®å½•ä¸‹æ–‡ä»¶ä¸ªæ•°"></a>ç»Ÿè®¡å½“å‰ç›®å½•ä¸‹æ–‡ä»¶ä¸ªæ•°</h4><pre><code>ls -l |grep &quot;^-&quot;|wc -l</code></pre>
<h4 id="ç»Ÿè®¡å½“å‰æ–‡ä»¶å¤¹ä¸‹ç›®å½•çš„ä¸ªæ•°"><a href="#ç»Ÿè®¡å½“å‰æ–‡ä»¶å¤¹ä¸‹ç›®å½•çš„ä¸ªæ•°" class="headerlink" title="ç»Ÿè®¡å½“å‰æ–‡ä»¶å¤¹ä¸‹ç›®å½•çš„ä¸ªæ•°"></a>ç»Ÿè®¡å½“å‰æ–‡ä»¶å¤¹ä¸‹ç›®å½•çš„ä¸ªæ•°</h4><pre><code>ls -l |grep &quot;^d&quot;|wc -l</code></pre>
<h4 id="ç»Ÿè®¡å½“å‰æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶çš„ä¸ªæ•°ï¼ŒåŒ…æ‹¬å­æ–‡ä»¶å¤¹é‡Œçš„"><a href="#ç»Ÿè®¡å½“å‰æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶çš„ä¸ªæ•°ï¼ŒåŒ…æ‹¬å­æ–‡ä»¶å¤¹é‡Œçš„" class="headerlink" title="ç»Ÿè®¡å½“å‰æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶çš„ä¸ªæ•°ï¼ŒåŒ…æ‹¬å­æ–‡ä»¶å¤¹é‡Œçš„"></a>ç»Ÿè®¡å½“å‰æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶çš„ä¸ªæ•°ï¼ŒåŒ…æ‹¬å­æ–‡ä»¶å¤¹é‡Œçš„</h4><pre><code>ls -lR|grep &quot;^-&quot;|wc -l</code></pre>
<h4 id="ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸‹ç›®å½•çš„ä¸ªæ•°ï¼ŒåŒ…æ‹¬å­æ–‡ä»¶å¤¹é‡Œçš„"><a href="#ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸‹ç›®å½•çš„ä¸ªæ•°ï¼ŒåŒ…æ‹¬å­æ–‡ä»¶å¤¹é‡Œçš„" class="headerlink" title="ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸‹ç›®å½•çš„ä¸ªæ•°ï¼ŒåŒ…æ‹¬å­æ–‡ä»¶å¤¹é‡Œçš„"></a>ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸‹ç›®å½•çš„ä¸ªæ•°ï¼ŒåŒ…æ‹¬å­æ–‡ä»¶å¤¹é‡Œçš„</h4><pre><code>ls -lR|grep &quot;^d&quot;|wc -l</code></pre>
<h2 id="æŸ¥çœ‹ç£ç›˜æˆ–æ–‡ä»¶å¤¹å¤§å°"><a href="#æŸ¥çœ‹ç£ç›˜æˆ–æ–‡ä»¶å¤¹å¤§å°" class="headerlink" title="æŸ¥çœ‹ç£ç›˜æˆ–æ–‡ä»¶å¤¹å¤§å°"></a>æŸ¥çœ‹ç£ç›˜æˆ–æ–‡ä»¶å¤¹å¤§å°</h2><h3 id="æ˜¾ç¤ºç£ç›˜åˆ†åŒºä¸Šå¯ä»¥ä½¿ç”¨çš„ç£ç›˜ç©ºé—´"><a href="#æ˜¾ç¤ºç£ç›˜åˆ†åŒºä¸Šå¯ä»¥ä½¿ç”¨çš„ç£ç›˜ç©ºé—´" class="headerlink" title="æ˜¾ç¤ºç£ç›˜åˆ†åŒºä¸Šå¯ä»¥ä½¿ç”¨çš„ç£ç›˜ç©ºé—´"></a>æ˜¾ç¤ºç£ç›˜åˆ†åŒºä¸Šå¯ä»¥ä½¿ç”¨çš„ç£ç›˜ç©ºé—´</h3><pre class=" language-SH"><code class="language-SH">[root@QPDCCJK02 data]# df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/vda1        20G  8.9G  9.9G  48% /
/dev/vdb1        20G  9.2G  9.4G  50% /data</code></pre>
<h3 id="æŸ¥çœ‹å½“å‰ç›®å½•å¤§å°"><a href="#æŸ¥çœ‹å½“å‰ç›®å½•å¤§å°" class="headerlink" title="æŸ¥çœ‹å½“å‰ç›®å½•å¤§å°"></a>æŸ¥çœ‹å½“å‰ç›®å½•å¤§å°</h3><pre><code>[root@QPDCCJK02 data]# du -sh 
9.2G    .</code></pre>
<h3 id="æŸ¥çœ‹å½“å‰ç›®å½•åŠå…¶ä¸‹çº§ç›®å½•å¤§å°"><a href="#æŸ¥çœ‹å½“å‰ç›®å½•åŠå…¶ä¸‹çº§ç›®å½•å¤§å°" class="headerlink" title="æŸ¥çœ‹å½“å‰ç›®å½•åŠå…¶ä¸‹çº§ç›®å½•å¤§å°"></a>æŸ¥çœ‹å½“å‰ç›®å½•åŠå…¶ä¸‹çº§ç›®å½•å¤§å°</h3><blockquote>
<p>du -lh â€“max-depth=<strong>x</strong>(x:å€¼ä¸º1.2.3.4.5â€¦è¡¨ç¤ºæ˜¾ç¤ºå¤šå°‘çº§)</p>
</blockquote>
<pre><code>[root@QPDCCJK02 data]# du -lh --max-depth=1
536M    ./jac_workspace
3.3G    ./docker-bk
15M     ./deploy
44M     ./workspace
407M    ./test-lf-log-backup
1.5M    ./gagent_QA
45M     ./wwwroot
8.0K    ./gagent_Batch
4.9G    ./gagent
16K     ./lost+found
12M     ./gagent_Dev</code></pre>
<h3 id="æŸ¥çœ‹æŒ‡å®šç›®å½•å¤§å°"><a href="#æŸ¥çœ‹æŒ‡å®šç›®å½•å¤§å°" class="headerlink" title="æŸ¥çœ‹æŒ‡å®šç›®å½•å¤§å°"></a>æŸ¥çœ‹æŒ‡å®šç›®å½•å¤§å°</h3><pre><code>[root@QPDCCJK02 data]# du -sh gagent
4.9G    gagent</code></pre>
<h2 id="æ€§èƒ½åˆ†æå·¥å…·-TOPå‘½ä»¤"><a href="#æ€§èƒ½åˆ†æå·¥å…·-TOPå‘½ä»¤" class="headerlink" title="æ€§èƒ½åˆ†æå·¥å…· TOPå‘½ä»¤"></a>æ€§èƒ½åˆ†æå·¥å…· TOPå‘½ä»¤</h2><blockquote>
<p>TOPå‘½ä»¤æ˜¯Linuxä¸‹å¸¸ç”¨çš„æ€§èƒ½åˆ†æå·¥å…·ï¼Œèƒ½å¤Ÿå®æ—¶æ˜¾ç¤ºç³»ç»Ÿä¸­å„ä¸ªè¿›ç¨‹çš„èµ„æºå ç”¨çŠ¶å†µ</p>
</blockquote>
<p><strong>å‘½ä»¤æ ¼å¼ï¼š</strong><br>top [-] [d] [p] [q] [c] [C] [S]    [n]</p>
<p><strong>æŸ¥çœ‹æŸä¸ªç”¨æˆ·ä¸‹çš„æ‰€æœ‰è¿›ç¨‹</strong></p>
<pre><code>alex@alex-virtual-machine:/mnt/hgfs/gagent/working/demo$ top -u alex

PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
2763 alex      20   0 80420  16m  10m S   10  1.6   0:11.69 unity-panel-ser
2865 alex      20   0 62216 4160 3268 S    6  0.4   0:05.54 hud-service
2617 alex      20   0  4544 2144  632 S    4  0.2   0:05.30 dbus-daemon
2646 alex      20   0  134m  12m 9884 S    2  1.2   0:09.35 metacity
2667 alex      20   0  107m  22m  17m S    2  2.3   0:09.72 unity-2d-panel
2679 alex      20   0 49608 8884 6936 S    2  0.9   0:02.26 bamfdaemon
2681 alex      20   0  104m  13m  10m S    2  1.4   0:02.65 nm-apple</code></pre>
<p><strong>æŸ¥çœ‹å•ç‹¬æŸä¸ªè¿›ç¨‹</strong></p>
<pre><code>alex@alex-virtual-machine:/mnt/hgfs/gagent/working/demo$ ps -a
  PID TTY          TIME CMD
 9463 pts/1    00:00:00 gizwits
 9471 pts/2    00:00:00 ps
alex@alex-virtual-machine:/mnt/hgfs/gagent/working/demo$ top -p 9463
PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
9463 alex      20   0 30424 1152  944 S    2  0.1   0:00.74 gizwits</code></pre>
<p><strong>è¯´æ˜</strong></p>
<table>
<thead>
<tr>
<th align="center">åç§°</th>
<th>è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td align="center">PID</td>
<td>è¿›ç¨‹çš„ID</td>
</tr>
<tr>
<td align="center">USER</td>
<td>è¿›ç¨‹æ‰€æœ‰è€…</td>
</tr>
<tr>
<td align="center">PR</td>
<td>è¿›ç¨‹çš„ä¼˜å…ˆçº§åˆ«ï¼Œè¶Šå°è¶Šä¼˜å…ˆè¢«æ‰§è¡Œ</td>
</tr>
<tr>
<td align="center">NInice</td>
<td>å€¼</td>
</tr>
<tr>
<td align="center">VIRT</td>
<td>è¿›ç¨‹å ç”¨çš„è™šæ‹Ÿå†…å­˜</td>
</tr>
<tr>
<td align="center">RES</td>
<td>è¿›ç¨‹å ç”¨çš„ç‰©ç†å†…å­˜</td>
</tr>
<tr>
<td align="center">SHR</td>
<td>è¿›ç¨‹ä½¿ç”¨çš„å…±äº«å†…å­˜</td>
</tr>
<tr>
<td align="center">S</td>
<td>è¿›ç¨‹çš„çŠ¶æ€ã€‚Sè¡¨ç¤ºä¼‘çœ ï¼ŒRè¡¨ç¤ºæ­£åœ¨è¿è¡Œï¼ŒZè¡¨ç¤ºåƒµæ­»çŠ¶æ€ï¼ŒNè¡¨ç¤ºè¯¥è¿›ç¨‹ä¼˜å…ˆå€¼ä¸ºè´Ÿæ•°</td>
</tr>
<tr>
<td align="center">%CPU</td>
<td>è¿›ç¨‹å ç”¨CPUçš„ä½¿ç”¨ç‡</td>
</tr>
<tr>
<td align="center">%MEM</td>
<td>è¿›ç¨‹ä½¿ç”¨çš„ç‰©ç†å†…å­˜å’Œæ€»å†…å­˜çš„ç™¾åˆ†æ¯”</td>
</tr>
<tr>
<td align="center">TIME+</td>
<td>è¯¥è¿›ç¨‹å¯åŠ¨åå ç”¨çš„æ€»çš„CPUæ—¶é—´ï¼Œå³å ç”¨CPUä½¿ç”¨æ—¶é—´çš„ç´¯åŠ å€¼ã€‚</td>
</tr>
<tr>
<td align="center">COMMAND</td>
<td>è¿›ç¨‹å¯åŠ¨å‘½ä»¤åç§°</td>
</tr>
</tbody></table>
<h2 id="è¿è¡Œæ—¥å¿—è¾“å‡ºåˆ°ç»ˆç«¯å’Œä¿å­˜èµ·æ¥"><a href="#è¿è¡Œæ—¥å¿—è¾“å‡ºåˆ°ç»ˆç«¯å’Œä¿å­˜èµ·æ¥" class="headerlink" title="è¿è¡Œæ—¥å¿—è¾“å‡ºåˆ°ç»ˆç«¯å’Œä¿å­˜èµ·æ¥"></a>è¿è¡Œæ—¥å¿—è¾“å‡ºåˆ°ç»ˆç«¯å’Œä¿å­˜èµ·æ¥</h2><hr>
<pre><code># è¿è¡Œtarge ç›®æ ‡ï¼Œä¸”åŒæ—¶æŠŠæ—¥å¿—è¾“å‡ºåˆ°ç»ˆç«¯å’Œä¿å­˜åˆ°æ–‡ä»¶log.txt
&gt;&gt;&gt;$ ./targe | tee log.txt</code></pre>
<h2 id="tree-å‘½ä»¤"><a href="#tree-å‘½ä»¤" class="headerlink" title="tree å‘½ä»¤"></a>tree å‘½ä»¤</h2><hr>
<p>æ­¤å‘½ä»¤å¯ä»¥ç”¨æ ‘ğŸŒ²å½¢çŠ¶æ˜¾ç¤ºç›®å½•ç»“æ„ï¼›</p>
<h3 id="mac-ä¸‹å®‰è£…"><a href="#mac-ä¸‹å®‰è£…" class="headerlink" title="mac ä¸‹å®‰è£…"></a>mac ä¸‹å®‰è£…</h3><pre><code>brew install tree</code></pre>
<h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><pre><code>tree(é€‰é¡¹)(å‚æ•°)</code></pre>
<h3 id="é€‰é¡¹"><a href="#é€‰é¡¹" class="headerlink" title="é€‰é¡¹"></a>é€‰é¡¹</h3><pre><code>-aï¼šæ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶å’Œç›®å½•ï¼›
-Aï¼šä½¿ç”¨ASNIç»˜å›¾å­—ç¬¦æ˜¾ç¤ºæ ‘çŠ¶å›¾è€Œéä»¥ASCIIå­—ç¬¦ç»„åˆï¼›
-Cï¼šåœ¨æ–‡ä»¶å’Œç›®å½•æ¸…å•åŠ ä¸Šè‰²å½©ï¼Œä¾¿äºåŒºåˆ†å„ç§ç±»å‹ï¼›
-dï¼šå…ˆæ˜¯ç›®å½•åç§°è€Œéå†…å®¹ï¼›
-Dï¼šåˆ—å‡ºæ–‡ä»¶æˆ–ç›®å½•çš„æ›´æ”¹æ—¶é—´ï¼›
-fï¼šåœ¨æ¯ä¸ªæ–‡ä»¶æˆ–ç›®å½•ä¹‹å‰ï¼Œæ˜¾ç¤ºå®Œæ•´çš„ç›¸å¯¹è·¯å¾„åç§°ï¼›
-Fï¼šåœ¨æ‰§è¡Œæ–‡ä»¶ï¼Œç›®å½•ï¼ŒSocketï¼Œç¬¦å·è¿æ¥ï¼Œç®¡é“åç§°åç§°ï¼Œå„è‡ªåŠ ä¸Š&quot;*&quot;ï¼Œ&quot;/&quot;ï¼Œ&quot;@&quot;ï¼Œ&quot;|&quot;å·ï¼›
-gï¼šåˆ—å‡ºæ–‡ä»¶æˆ–ç›®å½•çš„æ‰€å±ç¾¤ç»„åç§°ï¼Œæ²¡æœ‰å¯¹åº”çš„åç§°æ—¶ï¼Œåˆ™æ˜¾ç¤ºç¾¤ç»„è¯†åˆ«ç ï¼›
-iï¼šä¸ä»¥é˜¶æ¢¯çŠ¶åˆ—å‡ºæ–‡ä»¶å’Œç›®å½•åç§°ï¼›
-lï¼š&lt;èŒƒæœ¬æ ·å¼&gt; ä¸æ˜¾ç¤ºç¬¦å·èŒƒæœ¬æ ·å¼çš„æ–‡ä»¶æˆ–ç›®å½•åç§°ï¼›
-lï¼šå¦‚é‡åˆ°æ€§è´¨ä¸ºç¬¦å·è¿æ¥çš„ç›®å½•ï¼Œç›´æ¥åˆ—å‡ºè¯¥è¿æ¥æ‰€æŒ‡å‘çš„åŸå§‹ç›®å½•ï¼›
-nï¼šä¸åœ¨æ–‡ä»¶å’Œç›®å½•æ¸…å•åŠ ä¸Šè‰²å½©ï¼›
-Nï¼šç›´æ¥åˆ—å‡ºæ–‡ä»¶å’Œç›®å½•åç§°ï¼ŒåŒ…æ‹¬æ§åˆ¶å­—ç¬¦ï¼›
-pï¼šåˆ—å‡ºæƒé™æ ‡ç¤ºï¼›
-Pï¼š&lt;èŒƒæœ¬æ ·å¼&gt; åªæ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„æ–‡ä»¶å’Œç›®å½•åç§°ï¼›
-qï¼šç”¨â€œï¼Ÿâ€å·å–ä»£æ§åˆ¶å­—ç¬¦ï¼Œåˆ—å‡ºæ–‡ä»¶å’Œç›®å½•åç§°ï¼›
-sï¼šåˆ—å‡ºæ–‡ä»¶å’Œç›®å½•å¤§å°ï¼›
-tï¼šç”¨æ–‡ä»¶å’Œç›®å½•çš„æ›´æ”¹æ—¶é—´æ’åºï¼›
-uï¼šåˆ—å‡ºæ–‡ä»¶æˆ–ç›®å½•çš„æ‹¥æœ‰è€…åç§°ï¼Œæ²¡æœ‰å¯¹åº”çš„åç§°æ—¶ï¼Œåˆ™æ˜¾ç¤ºç”¨æˆ·è¯†åˆ«ç ï¼›
-xï¼šå°†èŒƒå›´å±€é™åœ¨ç°è¡Œçš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œè‹¥æŒ‡å®šç›®å½•ä¸‹çš„æŸäº›å­ç›®å½•ï¼Œå…¶å­˜æ”¾äºå¦ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸Šï¼Œåˆ™å°†è¯¥ç›®å½•äºˆä»¥æ’é™¤åœ¨å¯»æ‰¾èŒƒå›´å¤–ã€‚</code></pre>
<h2 id="æŸ¥çœ‹socket-ç«¯å£å ç”¨æƒ…å†µ"><a href="#æŸ¥çœ‹socket-ç«¯å£å ç”¨æƒ…å†µ" class="headerlink" title="æŸ¥çœ‹socket ç«¯å£å ç”¨æƒ…å†µ"></a>æŸ¥çœ‹socket ç«¯å£å ç”¨æƒ…å†µ</h2><p><strong><code>netstat -tunlp |grep ç«¯å£å·</code></strong></p>
<p><strong>è¯´æ˜</strong></p>
<blockquote>
<p>-t (tcp) ä»…æ˜¾ç¤ºtcpç›¸å…³é€‰é¡¹<br>                                 -u (udp)ä»…æ˜¾ç¤ºudpç›¸å…³é€‰é¡¹<br>                                 -n æ‹’ç»æ˜¾ç¤ºåˆ«åï¼Œèƒ½æ˜¾ç¤ºæ•°å­—çš„å…¨éƒ¨è½¬åŒ–ä¸ºæ•°å­—<br>                                 -l ä»…åˆ—å‡ºåœ¨Listen(ç›‘å¬)çš„æœåŠ¡çŠ¶æ€<br>                                 -p æ˜¾ç¤ºå»ºç«‹ç›¸å…³é“¾æ¥çš„ç¨‹åºå</p>
</blockquote>
<h2 id="æ˜¾ç¤ºå‘½ä»¤æ‰§è¡Œæ—¶çš„å‚æ•°"><a href="#æ˜¾ç¤ºå‘½ä»¤æ‰§è¡Œæ—¶çš„å‚æ•°" class="headerlink" title="æ˜¾ç¤ºå‘½ä»¤æ‰§è¡Œæ—¶çš„å‚æ•°"></a>æ˜¾ç¤ºå‘½ä»¤æ‰§è¡Œæ—¶çš„å‚æ•°</h2><pre><code>ps -aux | grep CMD</code></pre>
<h2 id="ubuntu-é˜²ç«å¢™"><a href="#ubuntu-é˜²ç«å¢™" class="headerlink" title="ubuntu é˜²ç«å¢™"></a>ubuntu é˜²ç«å¢™</h2><pre class=" language-sh"><code class="language-sh"># æŸ¥çœ‹çŠ¶æ€
sudo ufw status  
# å¼€å¯
sudo ufw enable  
# é»˜è®¤å…³é—­å¤–éƒ¨è®¿é—®
sudo ufw default deny 
# æ–°å¢ç«¯å£
sudo ufw allow 8080  
# åˆ é™¤ç«¯å£
sudo ufw delete allow 8080
# å…è®¸ç‰¹å®šæ¥æºçš„ipåœ°å€è®¿é—®
sudo ufw allow from 192.168.1.1</code></pre>
<h2 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h2><ul>
<li>åˆ é™¤ç›®å½•ä¸‹å¤§å°ä¸º0çš„æ–‡ä»¶</li>
</ul>
<pre class=" language-SH"><code class="language-SH"> find ./ -name "*" -type f -size 0c | xargs -n 1 rm -f</code></pre>
<ul>
<li>åˆ é™¤å½“å‰ç›®å½•ä¸‹é¢æ‰€æœ‰ test æ–‡ä»¶å¤¹ä¸‹é¢çš„æ–‡ä»¶ </li>
</ul>
<pre class=" language-SH"><code class="language-SH"> find ./ -name "test" -type d -exec rm -rf &#123;&#125; ;</code></pre>
<ul>
<li>åˆ é™¤æ–‡ä»¶å¤¹ä¸‹é¢çš„æ‰€æœ‰çš„.pyæ–‡ä»¶</li>
</ul>
<pre><code>find ./ -name &#39;.py&#39; -exec rm -rf &#123;&#125; ;</code></pre>
<ul>
<li>æ˜¾ç¤ºå½“å‰è·¯å¾„ä¸‹ï¼Œå¤§äº50Mçš„æ–‡ä»¶</li>
</ul>
<pre><code>find ./ -size +50M</code></pre>
<ul>
<li>åˆ é™¤å½“å‰è·¯å¾„ä¸‹ï¼Œå¤§äº50Mçš„æ–‡ä»¶</li>
</ul>
<pre><code>find ./ -size +50M -exec rm &#123;&#125; \;</code></pre>
<h2 id="Linux-ä¸‹æµ‹è¯•TCP-UDP-è¿é€šæ€§"><a href="#Linux-ä¸‹æµ‹è¯•TCP-UDP-è¿é€šæ€§" class="headerlink" title="Linux ä¸‹æµ‹è¯•TCP/UDP è¿é€šæ€§"></a>Linux ä¸‹æµ‹è¯•TCP/UDP è¿é€šæ€§</h2><p><strong>é€šè¿‡netcatè½¯ä»¶å®ç°</strong></p>
<ul>
<li>Ubuntu å®‰è£… <code>apt install netcat</code></li>
<li>CentOS å®‰è£… <code>yum install nc</code> </li>
</ul>
<p><strong>æµ‹è¯•æ–¹æ³•</strong></p>
<ul>
<li>æœåŠ¡å™¨<pre class=" language-sh"><code class="language-sh"> ubuntu@VM-133-112-ubuntu:~$ nc -l -u 1885</code></pre>
</li>
<li>å®¢æˆ·ç«¯<pre class=" language-sh"><code class="language-sh"> alexlin@DESKTOP-2Q06681:/mnt/e/work/gagent/GAgent_HFX30$ nc -u ubuntu.xxxxxx.com 1885</code></pre>
<img src="/images/nc.gif" alt="nc"></li>
</ul>
<p><strong>Help</strong></p>
<pre class=" language-sh"><code class="language-sh">ubuntu@VM-133-112-ubuntu:~$ nc -help
OpenBSD netcat (Debian patchlevel 1.187-1ubuntu0.1)
usage: nc [-46CDdFhklNnrStUuvZz] [-I length] [-i interval] [-M ttl]
          [-m minttl] [-O length] [-P proxy_username] [-p source_port]
          [-q seconds] [-s source] [-T keyword] [-V rtable] [-W recvlimit] [-w timeout]
          [-X proxy_protocol] [-x proxy_address[:port]]           [destination] [port]
        Command Summary:
                -4              Use IPv4
                -6              Use IPv6
                -b              Allow broadcast
                -C              Send CRLF as line-ending
                -D              Enable the debug socket option
                -d              Detach from stdin
                -F              Pass socket fd
                -h              This help text
                -I length       TCP receive buffer length
                -i interval     Delay interval for lines sent, ports scanned
                -k              Keep inbound sockets open for multiple connects
                -l              Listen mode, for inbound connects
                -M ttl          Outgoing TTL / Hop Limit
                -m minttl       Minimum incoming TTL / Hop Limit
                -N              Shutdown the network socket after EOF on stdin
                -n              Suppress name/port resolutions
                -O length       TCP send buffer length
                -P proxyuser    Username for proxy authentication
                -p port         Specify local port for remote connects
                -q secs         quit after EOF on stdin and delay of secs
                -r              Randomize remote ports
                -S              Enable the TCP MD5 signature option
                -s source       Local source address
                -T keyword      TOS value
                -t              Answer TELNET negotiation
                -U              Use UNIX domain socket
                -u              UDP mode
                -V rtable       Specify alternate routing table
                -v              Verbose
                -W recvlimit    Terminate after receiving a number of packets
                -w timeout      Timeout for connects and final net reads
                -X proto        Proxy protocol: "4", "5" (SOCKS) or "connect"
                -x addr[:port]  Specify proxy address and port
                -Z              DCCP mode
                -z              Zero-I/O mode [used for scanning]
        Port numbers can be individual or ranges: lo-hi [inclusive]</code></pre>
<h2 id="dos2unixæ‰¹é‡è½¬æ¢æ–¹æ³•"><a href="#dos2unixæ‰¹é‡è½¬æ¢æ–¹æ³•" class="headerlink" title="dos2unixæ‰¹é‡è½¬æ¢æ–¹æ³•"></a>dos2unixæ‰¹é‡è½¬æ¢æ–¹æ³•</h2><pre><code>find /apps/cws -name &quot;*.sh&quot; -exec dos2unix &#123;&#125; \;       ï¼ˆæ³¨æ„ï¼šä¸€å®šè¦æœ‰&#123;&#125;ï¼Œæ ‡ç¤ºå‚æ•°ï¼›ä»¥â€œ\;â€ç»“å°¾ï¼› &#123;&#125; å’Œ\ä¹‹é—´ä¸€å®šè¦æœ‰ä¸€ä¸ªç©ºæ ¼ï¼‰</code></pre>
<h2 id="åˆ é™¤æ–‡ä»¶"><a href="#åˆ é™¤æ–‡ä»¶" class="headerlink" title="åˆ é™¤æ–‡ä»¶"></a>åˆ é™¤æ–‡ä»¶</h2><h3 id="åˆ é™¤æŒ‡å®šç›®å½•ä¸‹10å¤©å‰äº§ç”Ÿçš„æ–‡ä»¶"><a href="#åˆ é™¤æŒ‡å®šç›®å½•ä¸‹10å¤©å‰äº§ç”Ÿçš„æ–‡ä»¶" class="headerlink" title="åˆ é™¤æŒ‡å®šç›®å½•ä¸‹10å¤©å‰äº§ç”Ÿçš„æ–‡ä»¶"></a>åˆ é™¤æŒ‡å®šç›®å½•ä¸‹10å¤©å‰äº§ç”Ÿçš„æ–‡ä»¶</h3><pre><code>find . -mtime +10 -name &quot;*.*&quot; -exec rm -rf &#123;&#125; \;</code></pre>
<p><strong>è§£é‡Š<br></strong><br>-mtimeï¼šæ ‡å‡†è¯­å¥å†™æ³•<br><br>ï¼‹10ï¼šæŸ¥æ‰¾10å¤©å‰çš„æ–‡ä»¶ï¼Œè¿™é‡Œç”¨æ•°å­—ä»£è¡¨å¤©æ•°ï¼Œï¼‹30è¡¨ç¤ºæŸ¥æ‰¾30å¤©å‰çš„æ–‡ä»¶<br><br>â€œ<em>.</em>â€œï¼šå¸Œæœ›æŸ¥æ‰¾çš„æ•°æ®ç±»å‹ï¼Œâ€<em>.jpgâ€è¡¨ç¤ºæŸ¥æ‰¾æ‰©å±•åä¸ºjpgçš„æ‰€æœ‰æ–‡ä»¶ï¼Œâ€</em>â€œè¡¨ç¤ºæŸ¥æ‰¾æ‰€æœ‰æ–‡ä»¶<br><br>-execï¼šå›ºå®šå†™æ³•<br><br>rm -rfï¼šå¼ºåˆ¶åˆ é™¤æ–‡ä»¶ï¼ŒåŒ…æ‹¬ç›®å½•<br><br>{} ; ï¼šå›ºå®šå†™æ³•ï¼Œä¸€å¯¹å¤§æ‹¬å·+ç©ºæ ¼+\+;<br></p>
<h2 id="åº“æ–‡ä»¶æŸ¥çœ‹å·¥å…·"><a href="#åº“æ–‡ä»¶æŸ¥çœ‹å·¥å…·" class="headerlink" title="åº“æ–‡ä»¶æŸ¥çœ‹å·¥å…·"></a>åº“æ–‡ä»¶æŸ¥çœ‹å·¥å…·</h2><h3 id="linuxä¸‹æŸ¥çœ‹ç¨‹åºçš„åŠ¨æ€åº“ä¾èµ–-so"><a href="#linuxä¸‹æŸ¥çœ‹ç¨‹åºçš„åŠ¨æ€åº“ä¾èµ–-so" class="headerlink" title="linuxä¸‹æŸ¥çœ‹ç¨‹åºçš„åŠ¨æ€åº“ä¾èµ–(so)"></a>linuxä¸‹æŸ¥çœ‹ç¨‹åºçš„åŠ¨æ€åº“ä¾èµ–(so)</h3><pre><code>ldd xxx</code></pre>
<p>ä¾‹å­å¦‚ä¸‹ï¼Œå·¦è¾¹æ˜¯ä¾èµ–åº“åç§°ï¼Œå³è¾¹æ˜¯ä¾èµ–åº“ä½ç½®(è‹¥å­˜åœ¨åˆ™ä¸ºè·¯å¾„ï¼Œä¸å­˜åœ¨åˆ™è¾“å‡º<code>not found</code>)<br>    <img src="/images/pasted-106.png" alt="upload successful"></p>
<h3 id="æŸ¥çœ‹åº“æ–‡ä»¶-a-åŒ…å«çš„å‡½æ•°å’Œå˜é‡"><a href="#æŸ¥çœ‹åº“æ–‡ä»¶-a-åŒ…å«çš„å‡½æ•°å’Œå˜é‡" class="headerlink" title="æŸ¥çœ‹åº“æ–‡ä»¶(.a)åŒ…å«çš„å‡½æ•°å’Œå˜é‡"></a>æŸ¥çœ‹åº“æ–‡ä»¶(.a)åŒ…å«çš„å‡½æ•°å’Œå˜é‡</h3><pre class=" language-sh"><code class="language-sh">nm xxx.a</code></pre>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ol>
<li><a href="http://www.comptechdoc.org/os/linux/programming/c/linux_pgc.html">http://www.comptechdoc.org/os/linux/programming/c/linux_pgc.html</a></li>
<li><a href="http://man.linuxde.net/">Linuxåœ¨çº¿man</a></li>
</ol>
]]></content>
      <tags>
        <tag>å·¥å…·</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxä¹‹æœåŠ¡å®‰è£…</title>
    <url>/2017/06/06/9372.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="ssh-server-å®‰è£…"><a href="#ssh-server-å®‰è£…" class="headerlink" title="ssh-server å®‰è£…"></a>ssh-server å®‰è£…</h1><p><strong>SSHåˆ†å®¢æˆ·ç«¯</strong></p>
<pre><code>openssh-client</code></pre>
<p><strong>æœåŠ¡ç«¯</strong></p>
<pre><code>openssh-server</code></pre>
<a id="more"></a>
<p>å¦‚æœä½ åªæ˜¯æƒ³ç™»é™†åˆ«çš„æœºå™¨çš„SSHåªéœ€è¦å®‰è£…<strong>openssh-client</strong>__(Ubutntuæœ‰é»˜è®¤å®‰è£…ï¼Œå¦‚æœæ²¡æœ‰åˆ™ <strong>sudo apt-get install openssh-client</strong>)__ï¼Œå¦‚æœè¦ä½¿æœ¬æœºå¼€æ”¾SSHæœåŠ¡å°±éœ€è¦å®‰è£…<strong>openssh-server</strong>ã€‚</p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>æˆ‘è¿™é‡Œä½¿ç”¨å‘½ä»¤å®‰è£…æœåŠ¡ç«¯SSHã€‚</p>
<pre><code>sudo apt-get install openssh-server</code></pre>
<h2 id="æ£€æŸ¥"><a href="#æ£€æŸ¥" class="headerlink" title="æ£€æŸ¥"></a>æ£€æŸ¥</h2><p>ç„¶åä½¿ç”¨å‘½ä»¤ç¡®è®¤sshserveræ˜¯å¦å¯åŠ¨äº†ï¼š</p>
<pre><code>ps -e |grep ssh</code></pre>
<p>å¦‚æœçœ‹åˆ°sshdé‚£è¯´æ˜ssh-serverå·²ç»å¯åŠ¨äº†ã€‚</p>
<pre><code>alex@ubuntu:~$ ps -e | grep ssh
 2284 ?        00:00:00 ssh-agent
 8743 ?        00:00:00 sshd</code></pre>
<p>å¦‚æœæ²¡æœ‰åˆ™å¯ä»¥è¿™æ ·å¯åŠ¨ï¼š</p>
<pre><code>sudo /etc/init.d/ssh start
#æˆ–è€…
service ssh start</code></pre>
<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>é…ç½®æ–‡ä»¶ä½äº**/etc/ssh/sshd_config**ï¼Œåœ¨è¿™é‡Œå¯ä»¥å®šä¹‰SSHçš„æœåŠ¡ç«¯å£ï¼Œé»˜è®¤ç«¯å£æ˜¯22ã€‚<br>ç„¶åé‡å¯SSHæœåŠ¡ï¼š</p>
<pre><code>sudo /etc/init.d/ssh stop
sudo /etc/init.d/ssh start</code></pre>
<h2 id="å¼€æœºè‡ªå¯åŠ¨é…ç½®"><a href="#å¼€æœºè‡ªå¯åŠ¨é…ç½®" class="headerlink" title="å¼€æœºè‡ªå¯åŠ¨é…ç½®"></a>å¼€æœºè‡ªå¯åŠ¨é…ç½®</h2><p>è®¾ç½®å¼€æœºè‡ªåŠ¨å¯åŠ¨sshæœåŠ¡ï¼š<br>Ubuntuä¸­é…ç½®openssh-serverå¼€æœºè‡ªåŠ¨å¯åŠ¨æ‰“å¼€/etc/rc.localæ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹è¯­å¥ï¼š</p>
<pre><code>/etc/init.d/ssh start</code></pre>
<h2 id="ssh-æ–‡ä»¶ä¼ è¾“"><a href="#ssh-æ–‡ä»¶ä¼ è¾“" class="headerlink" title="ssh æ–‡ä»¶ä¼ è¾“"></a>ssh æ–‡ä»¶ä¼ è¾“</h2><ul>
<li><p>ä¸Šä¼ </p>
<pre><code>scp /path/fileï¼ˆè¿™éƒ¨åˆ†ä¸ºæœ¬åœ°çš„è·¯å¾„ï¼‰ userï¼ˆè¿œç«¯ç›®æ ‡ç”¨æˆ·åï¼‰@hostï¼ˆè¿œç«¯ç›®æ ‡IPï¼‰:/pathorfileï¼ˆæ–‡ä»¶å­˜å‚¨è·¯å¾„ï¼‰</code></pre>
</li>
<li><p>ä¸‹è½½</p>
</li>
<li><ul>
<li>ä¸‹è½½å•ç‹¬æ–‡ä»¶</li>
</ul>
</li>
</ul>
<pre><code>scp userï¼ˆè¿œç«¯ç”¨æˆ·åï¼‰@hostï¼ˆè¿œç«¯IPï¼‰:/path/fileï¼ˆä¸‹è½½æ–‡ä»¶åœ¨è¿œç«¯çš„è·¯å¾„ï¼‰ localpathorfileï¼ˆæœ¬åœ°æ–‡ä»¶å­˜æ”¾è·¯å¾„ï¼‰</code></pre>
<ul>
<li><ul>
<li>ä¸‹è½½æ•´ä¸ªæ–‡ä»¶å¤¹</li>
</ul>
</li>
</ul>
<pre><code>scp -P 2233 -r root@xxx.xxx.xxx.xxx:/data/gagent/log_gagent/00BSJ26M_0403000A_20190610170053  .</code></pre>
<ul>
<li>æŸ¥çœ‹ç›®å½•æˆ–æ–‡ä»¶</li>
</ul>
<pre><code>ssh user@host command ls &quot;/path/*.tgz&quot;</code></pre>
<h2 id="åå‘ä»£ç†"><a href="#åå‘ä»£ç†" class="headerlink" title="åå‘ä»£ç†"></a>åå‘ä»£ç†</h2><p><img src="https://upload-images.jianshu.io/upload_images/1736256-5f5382792923eb5e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ssh"></p>
<p>å¦‚ä¸Šå›¾ï¼Œå®ç°Companyä¸‹çš„PC é€šè¿‡ssh è®¿é—®åˆ°Home(A) é‡Œçš„PC.å®é™…ä¸Šæ˜¯åœ¨å…¬ç½‘ä¸Šä¸€å°ä¸»æœºServer(B)åšSSHè½¬å‘ï¼Œåœ¨Aä¸ŠåšSSHæ–¹å‘ä»£ç†å®ç°ï¼›</p>
<p>AæœåŠ¡å™¨ç”¨æˆ·å: <em><em>gagent</em></em><br>BæœåŠ¡å™¨ç”¨æˆ·å: <em><em>ubuntu</em></em></p>
<h3 id="åå‘ä»£ç†ç¬¬ä¸€æ­¥-ssh-å‚æ•°è§£æ"><a href="#åå‘ä»£ç†ç¬¬ä¸€æ­¥-ssh-å‚æ•°è§£æ" class="headerlink" title="åå‘ä»£ç†ç¬¬ä¸€æ­¥:ssh å‚æ•°è§£æ"></a>åå‘ä»£ç†ç¬¬ä¸€æ­¥:ssh å‚æ•°è§£æ</h3><pre><code>-f åå°æ‰§è¡ŒsshæŒ‡ä»¤
-C å…è®¸å‹ç¼©æ•°æ®
-N ä¸æ‰§è¡Œè¿œç¨‹æŒ‡ä»¤
-R å°†è¿œç¨‹ä¸»æœº(æœåŠ¡å™¨)çš„æŸä¸ªç«¯å£è½¬å‘åˆ°æœ¬åœ°ç«¯æŒ‡å®šæœºå™¨çš„æŒ‡å®šç«¯å£
-L å°†æœ¬åœ°æœº(å®¢æˆ·æœº)çš„æŸä¸ªç«¯å£è½¬å‘åˆ°è¿œç«¯æŒ‡å®šæœºå™¨çš„æŒ‡å®šç«¯å£
-p æŒ‡å®šè¿œç¨‹ä¸»æœºçš„ç«¯å£</code></pre>
<ul>
<li><p>åå‘ä»£ç†</p>
<pre><code>ssh -fCNR</code></pre>
</li>
<li><p>æ­£å‘ä»£ç†</p>
<pre><code>ssh -fCNL</code></pre>
</li>
</ul>
<h3 id="åå‘ä»£ç†ç¬¬äºŒæ­¥-æœåŠ¡é…ç½®"><a href="#åå‘ä»£ç†ç¬¬äºŒæ­¥-æœåŠ¡é…ç½®" class="headerlink" title="åå‘ä»£ç†ç¬¬äºŒæ­¥:æœåŠ¡é…ç½®"></a>åå‘ä»£ç†ç¬¬äºŒæ­¥:æœåŠ¡é…ç½®</h3><ul>
<li><p>é¦–å…ˆï¼Œåœ¨Aä¸Šé¢æ­å»ºAåˆ°Bçš„åå‘ä»£ç†é…ç½® æŒ‡ä»¤ä¸º:</p>
<pre><code>ssh -fCNR [Bæœºå™¨IPæˆ–çœç•¥]:[Bæœºå™¨ç«¯å£]:[Aæœºå™¨çš„IP]:[Aæœºå™¨ç«¯å£] [ç™»é™†Bæœºå™¨çš„ç”¨æˆ·å@æœåŠ¡å™¨IP]</code></pre>
<p>  åœ¨è¿™é‡Œæˆ‘ä½¿ç”¨äº†Bæœºå™¨çš„7280ç«¯å£ï¼Œç”¨æ¥æœˆAé€šè®¯ã€‚ä»¥åŠAæœºå™¨çš„22ç«¯å£ï¼Œç”¨æ¥ä¸Bé€šè®¯ï¼Œ( [Bæœºå™¨ç«¯å£]&lt;&lt;====&gt;&gt;[Aæœºå™¨ç«¯å£] )æŒ‰ç…§ä¸Šé¢çš„æŒ‡ä»¤å°±æ˜¯è¿™æ ·å­çš„æ“ä½œ<br>  å®ä¾‹</p>
<pre><code>ssh -fCNR 7280:localhost:22 ubuntu@123.123.123.123</code></pre>
<p>  åœ¨Aæ£€éªŒæ˜¯å¦å·²ç»å¯åŠ¨äº†å¯ä»¥ä½¿ç”¨ps aux | grep sshæŒ‡ä»¤æ¥æŸ¥çœ‹ï¼š<br>  <img src="https://upload-images.jianshu.io/upload_images/1736256-338f78770105f37a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ssh f"><br>  åœ¨Bä¸Šæ£€æµ‹åå‘ä»£ç†æ˜¯å¦ç”Ÿæ•ˆï¼Œçœ‹åˆ°7280ç«¯å£å¯åŠ¨åˆ™è¡¨æ˜ç”Ÿæ•ˆ</p>
<pre><code>ubuntu@VM-133-112-ubuntu:~$ netstat -tnl | grep 127.0.0.1
tcp        0      0 127.0.0.1:7280          0.0.0.0:*               LISTEN</code></pre>
<p>  ä»¥ä¸Šéƒ½æˆåŠŸåˆ™å¯ä»¥å¯ä»å…¬ç½‘æœåŠ¡å™¨Båå‘ç™»å½•å›å®¶åº­æœåŠ¡å™¨Aäº†</p>
<pre><code>ssh gagent@127.0.0.1 -p 7280</code></pre>
</li>
<li><p>ç¬¬äºŒï¼Œåœ¨Bæœºå™¨ä¸Šæ­å»ºæ­£å‘ä»£ç†åˆ°Açš„é…ç½®ï¼Œç”¨æ¥åœ¨Bä¸Šè½¬å‘æ•°æ®åˆ°A æŒ‡ä»¤ä¸º:</p>
<pre><code>ssh -fCNL [Aæœºå™¨IPæˆ–çœç•¥]:[Aæœºå™¨ç«¯å£]:[Bæœºå™¨çš„IP]:[Bæœºå™¨ç«¯å£] [ç™»é™†Bæœºå™¨çš„ç”¨æˆ·å@Bæœºå™¨çš„IP]</code></pre>
<p>  æŒ‰ç…§ç¬¬ä¸€æ­¥é‚£é‡Œè¾“å…¥çš„æŒ‡ä»¤ï¼Œè¿™é‡Œçš„Bæœºå™¨çš„ç«¯å£å’Œä¸Šé¢çš„Bæœºå™¨çš„ç«¯å£æ˜¯ä¸€è‡´çš„ï¼Œç«¯å£1234çš„ä¹Ÿæ˜¯Bæœºå™¨çš„ã€‚<br>  å®ä¾‹</p>
<pre><code>ssh -fCNL *:1234:localhost:7280 localhost</code></pre>
<p>  *<em>è§£é‡Š:**åœ¨æ­¤1234ç«¯å£ä¸ºæœ¬åœ°è½¬å‘ç«¯å£ï¼Œè´Ÿè´£å’Œå¤–ç½‘è¿›è¡Œé€šä¿¡ï¼Œå¹¶å°†æ•°æ®è½¬å‘çš„7280è¿™ä¸ªç«¯å£ï¼Œå®ç°äº†å¯ä»¥ä»å…¶ä»–æœºå™¨è®¿é—®çš„åŠŸèƒ½ã€‚åŒæ—¶ï¼Œ</em>å·è¡¨ç¤ºå¯ä»¥æ¥å—ä»»ä½•IPçš„è®¿é—®ã€‚</p>
</li>
<li><p>ç¬¬ä¸‰ï¼Œåœ¨Cæœºå™¨ä¸Šsshåˆ°Aæœºå™¨</p>
<pre><code>ssh -p1234 gagent@123.123.123.123</code></pre>
<p>  **è§£é‡Š:**åœ¨æ­¤-på‚æ•°ä¸ºæŒ‡å®šç™»é™†çš„IPï¼Œæˆ‘ä»¬åœ¨ä¸Šé¢æŒ‡å®šäº†__1234__ç«¯å£ä¸ºè½¬å‘ç«¯å£ï¼Œæ•…ç”¨__1234__ç«¯å£ç™»é™†ï¼Œç„¶å__gagent__æ˜¯å†…ç½‘Aæœºå™¨çš„ç”¨æˆ·åï¼Œ__123.123.123.123__ä¸ºå¤–ç½‘Bæœºå™¨çš„IPåœ°å€ã€‚</p>
</li>
</ul>
<hr>
<h3 id="åå‘ä»£ç†ç¬¬ä¸‰æ­¥-ç¨³å®šæ€§åŠ å¼º"><a href="#åå‘ä»£ç†ç¬¬ä¸‰æ­¥-ç¨³å®šæ€§åŠ å¼º" class="headerlink" title="åå‘ä»£ç†ç¬¬ä¸‰æ­¥:ç¨³å®šæ€§åŠ å¼º"></a>åå‘ä»£ç†ç¬¬ä¸‰æ­¥:ç¨³å®šæ€§åŠ å¼º</h3><ul>
<li><p>sshæ¯æ¬¡é‡è¿éƒ½éœ€è¦é”®å…¥å¯†ç ï¼Œæ•…åœ¨æ­¤é¦–å…ˆè®¾ç½®å…å¯†ç ç™»é™†åˆ°å†…ç½‘A<br>åœ¨å†…ç½‘çš„æœºå™¨Aä¸Šé¢æ‰§è¡Œï¼š</p>
<ul>
<li>1 ç”Ÿäº§ ssh-keygen(å¦‚æœå·²ç»æœ‰äº†key å¯ä»¥è·³è¿‡æ­¤æ­¥éª¤)</li>
</ul>
<pre><code>  gagent@ubuntu:~$ ssh-keygen
  Generating public/private rsa key pair.
  Enter file in which to save the key (/home/gagent/.ssh/id_rsa):
  Enter passphrase (empty for no passphrase):
  Enter same passphrase again:
  Your identification has been saved in /home/gagent/.ssh/id_rsa.
  Your public key has been saved in /home/gagent/.ssh/id_rsa.pub.
  The key fingerprint is:
  **:**:**:**:**:**:**:**:**:**:**:**:**:**:**:** gagent@ubuntu
  The key&#39;s randomart image is:
  +--[ RSA 2048]----+
  |           . ... |
  |      + . . . .. |
  |     o o .       |
  |      . .        |
  |     ..   a      |
  | . ..      d     |
  |  o.+o =  d      |
  |   ..+  .        |
  |    o.           |
  +-----------------+</code></pre>
<ul>
<li>2 å¤åˆ¶ssh-keygenåˆ° B</li>
</ul>
<pre><code># ssh-copy-id å¤–ç½‘ç”¨æˆ·å@å¤–ç½‘IP
ssh-copy-id ubuntu@123.123.123.123</code></pre>
<blockquote>
<p>ç„¶åæé†’ä½ å¯ä»¥ç›´æ¥ç™»å½•æœåŠ¡å™¨Bäº†ï¼Œä¸ç”¨è¾“å…¥å¯†ç ï¼Œæ•ˆæœå¦‚ä¸‹:</p>
</blockquote>
<pre><code>  gagent@ubuntu:~$ ssh-copy-id   ubuntu@123.123.123.123
  /usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
  /usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
  ubuntu@123.123.123.123&#39;s password:

  Number of key(s) added: 1

  Now try logging into the machine, with:   &quot;ssh &#39;ubuntu@123.123.123.123&#39;&quot;
  and check to make sure that only the key(s) you wanted were added.

  gagent@ubuntu:~$ ssh ubuntu@123.123.123.123
  Welcome to Ubuntu 16.04.1 LTS (GNU/Linux 4.4.0-91-generic x86_64)</code></pre>
</li>
<li><p>ç”¨autosshå»ºç«‹ç¨³å®šéš§é“<br>ç”±äºAå’ŒBä¸ç¨³å®šï¼Œå®¹æ˜“å‘ç”Ÿæ–­å¼€äº‹ä»¶ï¼Œæ‰€ä»¥éœ€è¦å·¥å…·åœ¨æ–­å¼€ä¹‹åè‡ªåŠ¨sshåˆ°Bæœºå™¨ï¼Œäºæ˜¯å°±ç”¨åˆ°äº†<strong>autossh</strong>;</p>
<ul>
<li><p>1 å·¥å…·å®‰è£…è¯´æ˜</p>
<pre><code># å®‰è£…
sudo apt-get install autossh</code></pre>
<p>ç”¨æ³•å¦‚ä¸‹:</p>
<pre><code>gagent@ubuntu:~$ autossh --help
/usr/lib/autossh/autossh: invalid option -- &#39;-&#39;
usage: autossh [-V] [-M monitor_port[:echo_port]] [-f] [SSH_OPTIONS]

    -M specifies monitor port. Overrides the environment
       variable AUTOSSH_PORT. 0 turns monitoring loop off.
       Alternatively, a port for an echo service on the remote
       machine may be specified. (Normally port 7.)
    -f run in background (autossh handles this, and does not
       pass it to ssh.)
    -V print autossh version and exit.

Environment variables are:
    AUTOSSH_GATETIME    - how long must an ssh session be established
                          before we decide it really was established
                          (in seconds). Default is 30 seconds; use of -f
                          flag sets this to 0.
    AUTOSSH_LOGFILE     - file to log to (default is to use the syslog
                          facility)
    AUTOSSH_LOGLEVEL    - level of log verbosity
    AUTOSSH_MAXLIFETIME - set the maximum time to live (seconds)
    AUTOSSH_MAXSTART    - max times to restart (default is no limit)
    AUTOSSH_MESSAGE     - message to append to echo string (max 64 bytes)
    AUTOSSH_PATH        - path to ssh if not default
    AUTOSSH_PIDFILE     - write pid to this file
    AUTOSSH_POLL        - how often to check the connection (seconds)
    AUTOSSH_FIRST_POLL  - time before first connection check (seconds)
    AUTOSSH_PORT        - port to use for monitor connection
    AUTOSSH_DEBUG       - turn logging to maximum verbosity and log to
                          stderr</code></pre>
<ul>
<li>2 å®é™…æ“ä½œ<pre><code>autossh -M 7281 -fCNR 7280:localhost:22 root@123.123.123.123</code></pre>
è§£é‡Š:<blockquote>
<p>_<em>autossh</em>_çš„å‚æ•°ä¸sshçš„å‚æ•°æ˜¯ä¸€è‡´çš„ï¼Œä½†æ˜¯ä¸åŒçš„æ˜¯ï¼Œåœ¨éš§é“æ–­å¼€çš„æ—¶å€™ï¼Œautosshä¼šè‡ªåŠ¨é‡æ–°è¿æ¥è€Œsshä¸ä¼šã€‚å¦å¤–ä¸åŒçš„æ˜¯æˆ‘ä»¬éœ€è¦æŒ‡å‡ºçš„-Må‚æ•°ï¼Œè¿™ä¸ªå‚æ•°æŒ‡å®šä¸€ä¸ªç«¯å£ï¼Œè¿™ä¸ªç«¯å£æ˜¯å¤–ç½‘çš„Bæœºå™¨ç”¨æ¥æ¥æ”¶å†…ç½‘Aæœºå™¨çš„ä¿¡æ¯ï¼Œå¦‚æœéš§é“ä¸æ­£å¸¸è€Œè¿”å›ç»™Aæœºå™¨è®©ä»–å®ç°é‡æ–°è¿æ¥</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li><p>è®¾ç½®Aæœºå™¨å¯åŠ¨çš„æ—¶å€™è‡ªåŠ¨sshåˆ°B</p>
</li>
</ul>
<p>ä¿®æ”¹å¯åŠ¨æ–‡ä»¶</p>
<pre><code>vi /etc/rc.d/rc.local</code></pre>
<p>æ·»åŠ å†…å®¹:</p>
<pre><code>autossh -M 7281 -fCNR 7280:localhost:22 root@123.123.123.123</code></pre>
]]></content>
      <tags>
        <tag>å·¥å…·</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Luaä¹‹ loadfile ,dofile, loadstringï¼Œrequire</title>
    <url>/2017/03/26/4bf8.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr>
<h3 id="loadfileâ€”â€”åªç¼–è¯‘ï¼Œä¸è¿è¡Œ"><a href="#loadfileâ€”â€”åªç¼–è¯‘ï¼Œä¸è¿è¡Œ" class="headerlink" title="loadfileâ€”â€”åªç¼–è¯‘ï¼Œä¸è¿è¡Œ"></a>loadfileâ€”â€”åªç¼–è¯‘ï¼Œä¸è¿è¡Œ</h3><p>  Â  1.åŠŸèƒ½ï¼šè½½å…¥æ–‡ä»¶ä½†ä¸æ‰§è¡Œä»£ç å—ï¼Œå¯¹äºç›¸åŒçš„æ–‡ä»¶æ¯æ¬¡éƒ½ä¼šæ‰§è¡Œã€‚åªæ˜¯ç¼–è¯‘ä»£ç ï¼Œç„¶åå°†ç¼–è¯‘ç»“æœä½œä¸ºä¸€ä¸ªå‡½æ•°è¿”å›<br>Â    2.è°ƒç”¨ï¼šloadfile(â€œfilenameâ€)<br>Â    3.é”™è¯¯å¤„ç†ï¼šä¸å¼•å‘é”™è¯¯ï¼Œåªè¿”å›é”™è¯¯å€¼ä½†ä¸å¤„ç†é”™è¯¯,å³è¿”å›nilå’Œé”™è¯¯æ¶ˆæ¯<br>Â    4.ä¼˜ç‚¹ï¼šè°ƒç”¨ä¸€æ¬¡ä¹‹åå¯ä»¥å¤šæ¬¡è°ƒç”¨è¿”å›çš„ç»“æœï¼ˆå³å‡½æ•°ï¼‰ï¼Œ<br>      å³â€œå¤šæ¬¡è°ƒç”¨â€åªéœ€ç¼–è¯‘ä¸€æ¬¡ï¼ˆæ³¨ï¼šè¿™é‡Œçš„å¤šæ¬¡è°ƒç”¨   æ˜¯æŒ‡å¤šæ¬¡è°ƒç”¨è¿”å›çš„å‡½æ•°ï¼Œè€Œä¸æ˜¯å¤šæ¬¡è°ƒç”¨loadfileï¼‰</p>
<a id="more"></a>

<p><strong>dofileå¯å¦‚ä¸‹å®šä¹‰ï¼š</strong></p>
<pre class=" language-lua"><code class="language-lua">    <span class="token keyword">function</span> <span class="token function">dofile</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span>
    ã€€ã€€<span class="token keyword">local</span> f <span class="token operator">=</span> <span class="token function">assert</span><span class="token punctuation">(</span><span class="token function">loadfile</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">--è°ƒç”¨loadfileï¼ˆçš„è¿”å›ç»“æœï¼‰å¹¶å¯å¤„ç†é”™è¯¯</span>
    <span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">end</span></code></pre>
<p><code>æ³¨ï¼šåŠ è½½äº†ç¨‹åºå—å¹¶æ²¡æœ‰å®šä¹‰å…¶ä¸­çš„å‡½æ•°ã€‚åœ¨Luaä¸­ï¼Œå‡½æ•°å®šä¹‰æ˜¯ä¸€ç§èµ‹å€¼æ“ä½œï¼Œæ˜¯åœ¨è¿è¡Œæ—¶æ‰å®Œæˆçš„æ“ä½œã€‚ ä¾‹å¦‚ï¼šä¸€ä¸ªæ–‡ä»¶test.luaä¸­æœ‰ä¸€ä¸ªå‡½æ•° function foo(x) print(x) end ,æ‰§è¡Œå¦‚ä¸‹ä»£ç ï¼š ã€€ã€€ã€€f = loadfile(test.lua) --åŠ è½½ç¨‹åºå—ï¼Œæ­¤æ—¶è¿˜æ²¡æœ‰å®šä¹‰å‡½æ•°foo ã€€ã€€ã€€f() --è¿è¡ŒåŠ è½½çš„ç¨‹åºå—ï¼Œæ­¤æ—¶å°±å®šä¹‰äº†å‡½æ•°foo Â  Â  Â foo(&quot;hello lua&quot;) --&gt;hello lua --ç»è¿‡ä¸Šé¢çš„æ­¥éª¤æ‰èƒ½è°ƒç”¨foo    </code></p>
<h3 id="dofileâ€”â€”æ‰§è¡Œ"><a href="#dofileâ€”â€”æ‰§è¡Œ" class="headerlink" title="dofileâ€”â€”æ‰§è¡Œ"></a>dofileâ€”â€”æ‰§è¡Œ</h3><pre><code>1.åŠŸèƒ½ï¼šè½½å…¥æ–‡ä»¶å¹¶æ‰§è¡Œä»£ç å—ï¼Œå¯¹äºç›¸åŒçš„æ–‡ä»¶æ¯æ¬¡éƒ½ä¼šæ‰§è¡Œ
2.è°ƒç”¨ï¼šdofile(&quot;filename&quot;)
3.é”™è¯¯å¤„ç†ï¼šå¦‚æœä»£ç å—ä¸­æœ‰é”™è¯¯åˆ™ä¼šå¼•å‘é”™è¯¯
4.ä¼˜ç‚¹ï¼šå¯¹ç®€å•ä»»åŠ¡è€Œè¨€ï¼Œéå¸¸ä¾¿æ·
5.ç¼ºç‚¹ï¼šæ¯æ¬¡è½½å…¥æ–‡ä»¶æ—¶éƒ½ä¼šæ‰§è¡Œç¨‹åºå—</code></pre>
<p>Â    6.å®šä½ï¼šå†…ç½®æ“ä½œï¼Œè¾…åŠ©å‡½æ•°</p>
<h3 id="requireâ€”â€”æˆ‘åªæ‰§è¡Œä¸€æ¬¡"><a href="#requireâ€”â€”æˆ‘åªæ‰§è¡Œä¸€æ¬¡" class="headerlink" title="requireâ€”â€”æˆ‘åªæ‰§è¡Œä¸€æ¬¡"></a>requireâ€”â€”æˆ‘åªæ‰§è¡Œä¸€æ¬¡</h3><pre><code>requireå’Œdofileæœ‰ç‚¹åƒï¼Œä¸è¿‡åˆå¾ˆä¸ä¸€æ ·ï¼Œrequireåœ¨ç¬¬ä¸€æ¬¡åŠ è½½æ–‡ä»¶çš„æ—¶å€™ï¼Œä¼šæ‰§è¡Œé‡Œé¢çš„ä»£ç ã€‚
ä½†æ˜¯ï¼Œç¬¬äºŒæ¬¡ä¹‹åï¼Œå†æ¬¡åŠ è½½æ–‡ä»¶ï¼Œåˆ™ä¸ä¼šé‡å¤æ‰§è¡Œäº†ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒä¼šä¿å­˜å·²ç»åŠ è½½è¿‡çš„æ–‡ä»¶ï¼Œä¸ä¼šé‡å¤åŠ è½½ã€‚</code></pre>
<h3 id="loadstring"><a href="#loadstring" class="headerlink" title="loadstring"></a>loadstring</h3><pre><code>1.ç‰¹ç‚¹ï¼šåŠŸèƒ½å¼ºå¤§ï¼Œä½†å¼€é”€å¤§ï¼›
2.å…¸å‹ç”¨å¤„ï¼šæ‰§è¡Œå¤–éƒ¨ä»£ç ï¼Œå¦‚ï¼šç”¨æˆ·çš„è¾“å…¥
3.é”™è¯¯é”™é‡Œï¼šä»£ç ä¸­å¦‚æœæœ‰è¯­æ³•é”™è¯¯å°±ä¼šè¿”å›nil
4.ç†è§£ï¼šf = loadstring(&quot;i = i+1&quot;)  å¯ç†è§£ä¸ºï¼ˆä½†ä¸å®Œå…¨æ˜¯ï¼‰f = function()  i = i+1  end 
(æ³¨ï¼šè¿™é‡Œçš„å˜é‡&quot;i&quot;æ˜¯å…¨å±€å˜é‡ï¼Œä¸æ˜¯æŒ‡å±€éƒ¨å˜é‡ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰å…¨å±€å˜é‡&quot;i&quot;,è°ƒç”¨f()åˆ™ä¼šæŠ¥é”™ï¼ï¼Œå³loadstring   ä¸æ¶‰åŠè¯æ³•åŸŸ)</code></pre>
]]></content>
      <tags>
        <tag>lua</tag>
      </tags>
  </entry>
  <entry>
    <title>MarkDonwè¯­æ³•</title>
    <url>/2017/06/07/9530.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>MarkDonwè¯­æ³•</p>
<p>[TOC] ç”Ÿæˆç›®å½•</p>
<h2 id="ç”Ÿæˆç›®å½•"><a href="#ç”Ÿæˆç›®å½•" class="headerlink" title="ç”Ÿæˆç›®å½•"></a>ç”Ÿæˆç›®å½•</h2><pre><code> [TOC]     ç”Ÿæˆç›®å½•</code></pre>
<h2 id="åµŒå¥—åˆ—è¡¨"><a href="#åµŒå¥—åˆ—è¡¨" class="headerlink" title="åµŒå¥—åˆ—è¡¨"></a>åµŒå¥—åˆ—è¡¨</h2><p>-+*å¯å¾ªç¯ä½¿ç”¨ï¼Œä½†ç¬¦å·ä¹‹åçš„ç©ºæ ¼ä¸èƒ½å°‘ï¼Œç¬¦å·ä¹‹å‰çš„ç©ºæ ¼ä¹Ÿä¸èƒ½å°‘</p>
<pre><code>- åµŒå¥—åˆ—è¡¨1
 + åµŒå¥—åˆ—è¡¨2
 + åµŒå¥—åˆ—è¡¨3
  - åµŒå¥—åˆ—è¡¨4
   * åµŒå¥—åˆ—è¡¨5
- åµŒå¥—åˆ—è¡¨6</code></pre>
<ul>
<li>åµŒå¥—åˆ—è¡¨1</li>
</ul>
<ul>
<li>åµŒå¥—åˆ—è¡¨2</li>
<li>åµŒå¥—åˆ—è¡¨3</li>
</ul>
<ul>
<li>åµŒå¥—åˆ—è¡¨4</li>
</ul>
<ul>
<li>åµŒå¥—åˆ—è¡¨5</li>
</ul>
<ul>
<li>åµŒå¥—åˆ—è¡¨6</li>
</ul>
<h2 id="å›¾ç‰‡é“¾æ¥"><a href="#å›¾ç‰‡é“¾æ¥" class="headerlink" title="å›¾ç‰‡é“¾æ¥"></a>å›¾ç‰‡é“¾æ¥</h2><pre><code>![GitHub Mark](http://github.global.ssl.fastly.net/images/modules/logos_page/GitHub-Mark.png &quot;GitHub Mark&quot;)</code></pre>
<p><img src="http://github.global.ssl.fastly.net/images/modules/logos_page/GitHub-Mark.png" alt="GitHub Mark" title="GitHub Mark"></p>
<h2 id="è½¬ä¹‰å­—ç¬¦"><a href="#è½¬ä¹‰å­—ç¬¦" class="headerlink" title="è½¬ä¹‰å­—ç¬¦"></a>è½¬ä¹‰å­—ç¬¦</h2><pre><code>\\ åæ–œæ 

\` åå¼•å·

\* æ˜Ÿå·

\_ ä¸‹åˆ’çº¿

\&#123;\&#125; å¤§æ‹¬å·

\[\] ä¸­æ‹¬å·

\(\) å°æ‹¬å·

\# äº•å·

\+ åŠ å·

\- å‡å·

\. è‹±æ–‡å¥å·

\! æ„Ÿå¹å·</code></pre>
<p>\ åæ–œæ </p>
<p>` åå¼•å·</p>
<p>* æ˜Ÿå·</p>
<p>_ ä¸‹åˆ’çº¿</p>
<p>{} å¤§æ‹¬å·</p>
<p>[] ä¸­æ‹¬å·</p>
<p>() å°æ‹¬å·</p>
<p># äº•å·</p>
<p>+ åŠ å·</p>
<p>- å‡å·</p>
<p>. è‹±æ–‡å¥å·</p>
<p>! æ„Ÿå¹å·</p>
<h2 id="æ®µè½ç¼©è¿›ï¼ˆç©ºæ ¼ï¼‰"><a href="#æ®µè½ç¼©è¿›ï¼ˆç©ºæ ¼ï¼‰" class="headerlink" title="æ®µè½ç¼©è¿›ï¼ˆç©ºæ ¼ï¼‰"></a>æ®µè½ç¼©è¿›ï¼ˆç©ºæ ¼ï¼‰</h2><pre><code>åŠæ–¹å¤§çš„ç©ºç™½&amp;ensp;æˆ–&amp;#8194;çœ‹ï¼Œé£ç¢Ÿ
å…¨æ–¹å¤§çš„ç©ºç™½&amp;emsp;æˆ–&amp;#8195;çœ‹ï¼Œé£ç¢Ÿ
ä¸æ–­è¡Œçš„ç©ºç™½æ ¼&amp;nbsp;æˆ–&amp;#160;çœ‹ï¼Œé£ç¢Ÿ
&amp;emsp;&amp;emsp;æ®µè½ä»æ­¤å¼€å§‹ã€‚</code></pre>
<h2 id="å­—ä½“ã€å­—å·ã€é¢œè‰²"><a href="#å­—ä½“ã€å­—å·ã€é¢œè‰²" class="headerlink" title="å­—ä½“ã€å­—å·ã€é¢œè‰²"></a>å­—ä½“ã€å­—å·ã€é¢œè‰²</h2><pre><code>&lt;font face=&quot;é»‘ä½“&quot;&gt;æˆ‘æ˜¯é»‘ä½“å­—&lt;/font&gt;
&lt;font face=&quot;å¾®è½¯é›…é»‘&quot;&gt;æˆ‘æ˜¯å¾®è½¯é›…é»‘&lt;/font&gt;
&lt;font face=&quot;STCAIYUN&quot;&gt;æˆ‘æ˜¯åæ–‡å½©äº‘&lt;/font&gt;
&lt;font color=#0099ff size=12 face=&quot;é»‘ä½“&quot;&gt;é»‘ä½“&lt;/font&gt;
&lt;font color=#00ffff size=3&gt;null&lt;/font&gt;
&lt;font color=gray size=5&gt;gray&lt;/font&gt;</code></pre>
<h2 id="è¡Œå†…æ ‡ç­¾"><a href="#è¡Œå†…æ ‡ç­¾" class="headerlink" title="è¡Œå†…æ ‡ç­¾"></a>è¡Œå†…æ ‡ç­¾</h2><pre><code>å¿«æ·é”® `Ctrl + D` æ¥æ”¶è—æœ¬é¡µ</code></pre>
<p>å¿«æ·é”® <code>Ctrl + D</code> æ¥æ”¶è—æœ¬é¡µ</p>
<h2 id="æ•°å­¦å…¬å¼æ”¯æŒ"><a href="#æ•°å­¦å…¬å¼æ”¯æŒ" class="headerlink" title="æ•°å­¦å…¬å¼æ”¯æŒ"></a>æ•°å­¦å…¬å¼æ”¯æŒ</h2><p><code>next</code>ä¸»é¢˜ä¸ºä¾‹å­</p>
<ul>
<li>æ‰“å¼€æ ¹ç›®å½•ä¸‹<code>_config.yml</code> , æ·»åŠ <code>mathjax: true</code>;</li>
<li>åœ¨ä¸»é¢˜ç›®å½•ä¸‹<code>_config.yml</code> , æ‰“å¼€ä½¿èƒ½<pre><code># MathJax Support
mathjax:
enable: true
per_page: true
cdn: //cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML</code></pre>
</li>
<li>åœ¨éœ€è¦æ•°å­¦å…¬å¼çš„æ–‡ç« å¤´éƒ¨æ·»åŠ æ”¯æŒ<code>mathjax: true</code><pre><code></code></pre>
</li>
</ul>
<hr>
<p>title: åŸºæœ¬ç®—æ³•ä¹‹äºŒå‰æ ‘<br>date: 2018-03-25 15:06:11<br>tags: [ç®—æ³•,äºŒå‰æ ‘]<br>categories: [ç®—æ³•]<br>mathjax: true<br>Author: AlexLin</p>
<hr>
<pre><code>
#### $ è¡¨ç¤ºè¡Œå†…å…¬å¼ï¼š

è´¨èƒ½å®ˆæ’æ–¹ç¨‹å¯ä»¥ç”¨ä¸€ä¸ªå¾ˆç®€æ´çš„æ–¹ç¨‹å¼ `$E=mc^2$` æ¥è¡¨è¾¾ï¼š$E=mc^2$ã€‚

#### $$ è¡¨ç¤ºæ•´è¡Œå…¬å¼ï¼š

`$$\sum_&#123;i=1&#125;^n a_i=0$$`
$$\sum_&#123;i=1&#125;^n a_i=0$$

`$$f(x_1,x_2,\ldots,x_n) = x_1^2 + x_2^2 + \cdots + x_n^2$$`
$$f(x_1,x_2,\ldots,x_n) = x_1^2 + x_2^2 + \cdots + x_n^2$$
`$$\cos 2\theta = \cos^2 \theta - \sin^2 \theta = 2 \cos^2 \theta - 1$$`
$$\cos 2\theta = \cos^2 \theta - \sin^2 \theta = 2 \cos^2 \theta - 1$$
</code></pre>
<p>$$ i\hbar\frac{\partial \psi}{\partial t}= \frac{-\hbar^2}{2m}\left(\frac{\partial^2}{\partial x^2}+ \frac{\partial^2}{\partial y^2}+ \frac{\partial^2}{\partial z^2}\right) \psi + V \psi.$$</p>
<p>```<br>$$ i\hbar\frac{\partial \psi}{\partial t}= \frac{-\hbar^2}{2m}\left(\frac{\partial^2}{\partial x^2}+ \frac{\partial^2}{\partial y^2}+ \frac{\partial^2}{\partial z^2}\right) \psi + V \psi.$$</p>
<p>æ›´å¤šè¯­æ³•:<a href="https://www.mathjax.org/">https://www.mathjax.org/</a>ã€<a href="https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference">https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference</a></p>
<h2 id="Html-Color"><a href="#Html-Color" class="headerlink" title="Html Color"></a>Html Color</h2><p>[COLOR][1]</p>
<div align=center>
![color][2]
</div>
[1]: https://html-color-codes.info/
[2]: https://upload-images.jianshu.io/upload_images/1736256-b729fdf4393a7989.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240 (color)]]></content>
      <tags>
        <tag>å·¥å…·</tag>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>NB-IoT è®°å½•</title>
    <url>/2020/07/09/26e6.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="NBçŠ¶æ€"><a href="#NBçŠ¶æ€" class="headerlink" title="NBçŠ¶æ€"></a>NBçŠ¶æ€</h2><ul>
<li>DRXï¼šDiscontinuous Receptionï¼ˆä¸è¿ç»­æ¥æ”¶ï¼‰ï¼Œä¸ºæ¨¡å— Modem çš„å·¥ä½œæ¨¡å¼</li>
<li>eDRXï¼šextended DRXï¼ˆæ‰©å±•ä¸è¿ç»­æ¥æ”¶ï¼‰ï¼Œä¸ºæ¨¡å— Modem çš„å·¥ä½œæ¨¡å¼ã€‚</li>
<li>PSMï¼šPower Saving Modeï¼ˆçœç”µæ¨¡å¼ï¼‰ï¼Œä¸ºæ¨¡å— Modem çš„å·¥ä½œæ¨¡å¼ã€‚</li>
</ul>
<h2 id="PSM-æ¨¡å¼çŠ¶æ€è½¬åŒ–"><a href="#PSM-æ¨¡å¼çŠ¶æ€è½¬åŒ–" class="headerlink" title="PSM æ¨¡å¼çŠ¶æ€è½¬åŒ–"></a>PSM æ¨¡å¼çŠ¶æ€è½¬åŒ–</h2><p><img src="/images/pasted-59.png" alt="upload successful"></p>
<blockquote>
<p>åœ¨ PSM æ¨¡å¼ä¸‹ï¼Œç»ˆç«¯ä¸å†ç›‘å¬å¯»å‘¼ï¼Œä½†ç»ˆç«¯è¿˜æ˜¯æ³¨å†Œåœ¨ç½‘ç»œä¸­ï¼›å› æ­¤ï¼Œè¦å‘é€æ•°æ®æ—¶ä¸éœ€è¦é‡æ–°è¿æ¥æˆ–å»ºç«‹ PDN è¿æ¥ã€‚åœ¨æ¨¡å— Modem è¿›å…¥ PSM æ¨¡å¼åï¼Œä»ç„¶å¯ä»¥ä¸»åŠ¨å‘é€ä¸Šè¡Œæ•°æ®åˆ°å¹³å°ã€‚</p>
</blockquote>
<h2 id="eDRX-æ¨¡å¼çŠ¶æ€è½¬åŒ–"><a href="#eDRX-æ¨¡å¼çŠ¶æ€è½¬åŒ–" class="headerlink" title="eDRX æ¨¡å¼çŠ¶æ€è½¬åŒ–"></a>eDRX æ¨¡å¼çŠ¶æ€è½¬åŒ–</h2><p><img src="/images/pasted-60.png" alt="upload successful"></p>
<h2 id="æœ¯è¯­"><a href="#æœ¯è¯­" class="headerlink" title="æœ¯è¯­"></a>æœ¯è¯­</h2><p><img src="/images/pasted-61.png" alt="upload successful"></p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="https://zhuanlan.zhihu.com/p/93913704">https://zhuanlan.zhihu.com/p/93913704</a></li>
</ul>
<h2 id="T3324-å’Œ-T3412-è®¾ç½®"><a href="#T3324-å’Œ-T3412-è®¾ç½®" class="headerlink" title="T3324 å’Œ T3412 è®¾ç½®"></a>T3324 å’Œ T3412 è®¾ç½®</h2><p>ä»M5311æ¨¡ç»„è¯´æ˜æ‰‹å†ŒæŸ¥åˆ°è¯´æ˜å¦‚ä¸‹:<br></p>
<h3 id="T3324"><a href="#T3324" class="headerlink" title="T3324"></a>T3324</h3><p>T3324çš„è®¾ç½®å’Œ <strong>GPRS Timer 2<br>IE in 3GPP TS 24.008 Table 10.5.163/3GPP TS 24.008. See also 3GPP TS 23.682, 3GPP TS<br>23.060 and 3GPP TS 23.401. The default value, if available, is manufacturer specific</strong>æœ‰å…³<br></p>
<p>Timer value (octet 2)<br><br>Bits 5 to 1 represent the binary coded timer value.<br><br>Bits 6 to 8 defines the timer value unit for the GPRS<br><br>Bits<br></p>
<p>|8|7|6|è¯´æ˜|<br>|:â€“|:â€“|:â€“|<br>|0 |0 |0 |value is incremented in multiples of 2 seconds<br>|0 |0 |1 |value is incremented in multiples of 1 minute<br>|0 |1 |0 |value is incremented in multiples of decihours<br>|1 |1 |1 |value indicates that the timer is deactivated.</p>
<h4 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><blockquote>
<p>â€œ00100100â€ = 4 minutes</p>
</blockquote>
<h3 id="T3412-TAU"><a href="#T3412-TAU" class="headerlink" title="T3412 (TAU)"></a>T3412 (TAU)</h3><p>T3412(<strong>TAU</strong>)çš„è®¾ç½®å’Œ<strong>GPRS Timer 3 IE in 3GPP TS 24.008 Table<br>10.5.163a/3GPP TS 24.008. See also 3GPP TS 23.682 and 3GPP TS 23.401. The default<br>value, if available, is manufacturer specific.</strong> æœ‰å…³;<br>æ‘˜å½•é‡è¦ç‚¹å¦‚ä¸‹:<br></p>
<p>GPRS Timer 3 value (octet 3)<br><br>Bits 5 to 1 represent the binary coded timer value.<br><br>Bits 6 to 8 defines the timer value unit for the GPRS timer as follows:<br><br>Bits<br></p>
<p>|8|7|6|è¯´æ˜|<br>|:â€“|:â€“|:â€“|<br>|0 |0 |0 |value is incremented in multiples of 10 minutes|<br>|0 |0 |1 |value is incremented in multiples of 1 hour|<br>|0 |1 |0 |value is incremented in multiples of 10 hours|<br>|0 |1 |1 |value is incremented in multiples of 2 seconds|<br>|1 |0 |0 |value is incremented in multiples of 30 seconds|<br>|1 |0 |1 |value is incremented in multiples of 1 minute|<br>|1 |1 |0 |value is incremented in multiples of 320 hours (NOTE)|<br>|1 |1 |1 |value indicates that the timer is deactivated.|<br><strong>NOTE:</strong> This timer value unit is only applicable to the T3312 extended value IE<br>and T3412 extended value IE (see 3GPP TS 24.301 [120]). If it is<br>received in an integrity protected message, value shall be interpreted as<br>multiples of 320 hours. Otherwise value shall be interpreted as multiples of 1 hour.</p>
<h4 id="ä¾‹å­-1"><a href="#ä¾‹å­-1" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><blockquote>
<p>â€œ01000111â€ = 70 hours</p>
</blockquote>
]]></content>
  </entry>
  <entry>
    <title>OneNet OTA æ“ä½œç¬”è®°</title>
    <url>/2020/09/15/91bc.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="OneNet-OTA-M5311-ç¬”è®°"><a href="#OneNet-OTA-M5311-ç¬”è®°" class="headerlink" title="OneNet OTA M5311 ç¬”è®°"></a>OneNet OTA M5311 ç¬”è®°</h2><ul>
<li>åœ°å€: <a href="https://open.iot.10086.cn/">https://open.iot.10086.cn/</a></li>
</ul>
<h3 id="OneNetå¹³å°OTAè®¾ç½®"><a href="#OneNetå¹³å°OTAè®¾ç½®" class="headerlink" title="OneNetå¹³å°OTAè®¾ç½®"></a>OneNetå¹³å°OTAè®¾ç½®</h3><p>è¿›å…¥FOTAç•Œé¢ï¼Œé€‰æ‹©æ·»åŠ FOTAç¾¤ç»„,æ“ä½œæµç¨‹å¦‚ä¸‹å›¾:<br>ç¬¬ä¸€æ­¥ï¼Œåˆ›å»ºFOTAç¾¤ç»„ï¼›<br><img src="/images/pasted-82.png" alt="upload successful"></p>
<a id="more"></a>
<p><img src="/images/pasted-83.png" alt="upload successful"><br>ç¬¬äºŒæ­¥ï¼Œæ·»åŠ å…³è”è®¾å¤‡<br><img src="/images/pasted-84.png" alt="upload successful"><br><img src="/images/pasted-85.png" alt="upload successful"></p>
<p>ç¬¬ä¸‰æ­¥ï¼Œæ·»åŠ å½“å‰è®¾å¤‡å›ºä»¶åŒ…<br><img src="/images/pasted-93.png" alt="upload successful"><br><img src="/images/pasted-94.png" alt="upload successful"></p>
<p>ç¬¬å››æ­¥ï¼Œä¸Šä¼ æ–°çš„å›ºä»¶åŒ…ï¼Œæ­¥éª¤åŒç¬¬ä¸‰æ­¥ï¼›</p>
<blockquote>
<p>è¿™é‡Œä»¥ä¸Šä¼ <code>04030004</code>ç‰ˆæœ¬ä¸ºä¾‹å­<br><img src="/images/pasted-95.png" alt="upload successful"></p>
</blockquote>
<p>ç¬¬äº”æ­¥ï¼Œåˆ›å»ºåœ¨çº¿å·®åˆ†åŒ…<br><img src="/images/pasted-96.png" alt="upload successful"><br><img src="/images/pasted-97.png" alt="upload successful"><br><img src="/images/pasted-98.png" alt="upload successful"><br><strong>å¯ä»¥çœ‹åˆ°ä»04030003åˆ°04030004çš„å·®åˆ†åŒ…å›ºç”Ÿäº§æˆåŠŸäº†</strong><br><img src="/images/pasted-99.png" alt="upload successful"><br>ç¬¬å…­æ­¥ï¼Œå›ºä»¶æµ‹è¯•éªŒè¯<br><img src="/images/pasted-100.png" alt="upload successful"><br><img src="/images/pasted-101.png" alt="upload successful"><br><img src="/images/pasted-102.png" alt="upload successful"></p>
<p>åˆ°æ­¤ï¼Œå¹³å°ç«¯æ“ä½œå®Œæˆï¼Œå…³è”çš„è®¾å¤‡ä¸Šç”µå°±ä¼šæŸ¥è¯¢æ˜¯å¦æœ‰å‡çº§åŒ…ï¼Œè‹¥æ£€æµ‹åˆ°å‡çº§åŒ…åˆ™èƒ½çœ‹åˆ°è®¾å¤‡å‡çº§ï¼›</p>
<h3 id="OTAæ—¶è®¾å¤‡ç«¯å…³é”®æ—¥å¿—"><a href="#OTAæ—¶è®¾å¤‡ç«¯å…³é”®æ—¥å¿—" class="headerlink" title="OTAæ—¶è®¾å¤‡ç«¯å…³é”®æ—¥å¿—"></a>OTAæ—¶è®¾å¤‡ç«¯å…³é”®æ—¥å¿—</h3><p><img src="/images/pasted-103.png" alt="upload successful"><br><img src="/images/pasted-104.png" alt="upload successful"><br>OneNetå¹³å°ä¹Ÿå¯ä»¥çœ‹åˆ°ä¸€äº›OTAæ•°æ®ç»Ÿè®¡<br><img src="/images/pasted-105.png" alt="upload successful"></p>
<h3 id="è®¾å¤‡ç«¯M5311å›ºä»¶ç”Ÿäº§"><a href="#è®¾å¤‡ç«¯M5311å›ºä»¶ç”Ÿäº§" class="headerlink" title="è®¾å¤‡ç«¯M5311å›ºä»¶ç”Ÿäº§"></a>è®¾å¤‡ç«¯M5311å›ºä»¶ç”Ÿäº§</h3>]]></content>
  </entry>
  <entry>
    <title>OpenSSL ç¬”è®°</title>
    <url>/2020/07/08/dfdf.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ä¸€äº›åŠ å¯†çŸ¥è¯†"><a href="#ä¸€äº›åŠ å¯†çŸ¥è¯†" class="headerlink" title="ä¸€äº›åŠ å¯†çŸ¥è¯†"></a>ä¸€äº›åŠ å¯†çŸ¥è¯†</h2><ul>
<li>æ‘˜è¦ç®—æ³• : </li>
<li>å…¬é’¥ç®—æ³•</li>
<li>æ•°å­—ç­¾å</li>
</ul>
<p><a href="http://www.ruanyifeng.com/blog/2011/08/what_is_a_digital_signature.html">http://www.ruanyifeng.com/blog/2011/08/what_is_a_digital_signature.html</a><br><a href="http://www.jinbuguo.com/linux/openssl_install.html">http://www.jinbuguo.com/linux/openssl_install.html</a><br><a href="https://blog.csdn.net/zzhongcy/article/details/21990859">https://blog.csdn.net/zzhongcy/article/details/21990859</a></p>
<a id="more"></a>

<h2 id="OpenSSL-å®˜ç½‘"><a href="#OpenSSL-å®˜ç½‘" class="headerlink" title="OpenSSL å®˜ç½‘"></a>OpenSSL å®˜ç½‘</h2><p><a href="https://www.openssl.org/">https://www.openssl.org/</a></p>
<h2 id="å®‰è£…æ•™ç¨‹"><a href="#å®‰è£…æ•™ç¨‹" class="headerlink" title="å®‰è£…æ•™ç¨‹"></a>å®‰è£…æ•™ç¨‹</h2><ul>
<li>å®‰è£…åŒ… : openssl-1.1.0f.tar.gz</li>
</ul>
<pre class=" language-sh"><code class="language-sh">tar -xzf openssl-1.1.0f.tar.gz
# é…ç½®å®‰è£…è·¯å¾„å’Œç”Ÿæˆmakefile
./config --prefix=/home/gagent/alexLam/gizwis_sdk/openssl_alexLin_20200702
make
make install</code></pre>
<p><strong>å¤‡æ³¨ï¼š</strong>è¿è¡Œ./config â€“prefix=/usr/local/openssl (æ›´å¤šé€‰é¡¹ç”¨./config â€“help æ¥æŸ¥çœ‹),å¯ç”¨çš„é€‰é¡¹æœ‰ï¼š no-mdc2ã€ no-cast no-rc2ã€ no-rc5ã€ no-ripemdã€ no-rc4 no-des ã€ no-md2ã€ no-md4ã€ no-idea ã€no-aesã€ no-bfã€ no-errã€ no-dsaã€ no-dhã€ no-ecã€ no-hwã€ no-asmã€ no-krb5ã€ no-dso ã€ no-threads ã€no-zlibã€ -DOPENSSL_NO_HASH_COMPã€ -DOPENSSL_NO_ERRã€ -DOPENSSL_NO_HW ã€-DOPENSSL_NO_OCSPã€ -DOPENSSL_NO_SHA256 å’Œ-DOPENSSL_NO_SHA512 ç­‰ã€‚å»æ‰ä¸å¿…è¦çš„å†…å®¹å¯ä»¥å‡å°‘ç”Ÿæˆåº“çš„å¤§å°ã€‚ è‹¥è¦ç”Ÿæˆ debug ç‰ˆæœ¬çš„åº“å’Œå¯æ‰§è¡Œç¨‹åºåŠ -g æˆ–è€…-g3(openssl ä¸­æœ‰å¾ˆå¤šå®ï¼Œéœ€è¦è°ƒè¯•å­¦ä¹ æœ€å¥½åŠ ä¸Š-g3)ã€‚</p>
<h2 id="OpenSSL-ç¼–ç¨‹"><a href="#OpenSSL-ç¼–ç¨‹" class="headerlink" title="OpenSSL ç¼–ç¨‹"></a>OpenSSL ç¼–ç¨‹</h2><h3 id="OpenSSL-æœåŠ¡ç«¯ç¼–å†™æ­¥éª¤"><a href="#OpenSSL-æœåŠ¡ç«¯ç¼–å†™æ­¥éª¤" class="headerlink" title="OpenSSL æœåŠ¡ç«¯ç¼–å†™æ­¥éª¤"></a>OpenSSL æœåŠ¡ç«¯ç¼–å†™æ­¥éª¤</h3><p><img src="/images/pasted-57.png" alt="upload successful"></p>
<blockquote>
<p><strong>ç»¿è‰²çš„èƒƒæ™®é€šsocket æ“ä½œï¼Œå…¶ä»–çš„ä¸ºssl æ“ä½œã€‚</strong></p>
</blockquote>
<h3 id="OpenSSL-å®¢æˆ·ç«¯ç¼–å†™æ­¥éª¤"><a href="#OpenSSL-å®¢æˆ·ç«¯ç¼–å†™æ­¥éª¤" class="headerlink" title="OpenSSL å®¢æˆ·ç«¯ç¼–å†™æ­¥éª¤"></a>OpenSSL å®¢æˆ·ç«¯ç¼–å†™æ­¥éª¤</h3><p><img src="/images/pasted-58.png" alt="upload successful"></p>
]]></content>
  </entry>
  <entry>
    <title>PCå°æŠ€å·§</title>
    <url>/2017/07/01/56f1.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Win7-å¼€çƒ­ç‚¹"><a href="#Win7-å¼€çƒ­ç‚¹" class="headerlink" title="Win7 å¼€çƒ­ç‚¹"></a>Win7 å¼€çƒ­ç‚¹</h2><ol>
<li>è¾“å…¥å‘½ä»¤ï¼š<code>netsh wlan set hostednetwork mode=allow ssid=livdran2012 key=100100100</code> ã€‚<br><code>mode:</code>æ˜¯å¦å¯ç”¨è™šæ‹ŸWiFiç½‘å¡ï¼Œæ”¹ä¸ºdisallowåˆ™ä¸ºç¦æ­¢ã€‚<br><code>ssid:</code>æ— çº¿ç½‘åç§°ï¼Œæ¨èæœ€å¥½ç”¨è‹±æ–‡ã€‚ï¼ˆæ­¤å¤„ä»¥livdran2012ä¸ºä¾‹ï¼Œå¯è‡ªç”±è®¾ç½®ï¼‰<br><code>key:</code>æ— çº¿ç½‘å¯†ç ï¼Œé™å®šå…«ä¸ªä»¥ä¸Šå­—ç¬¦ã€‚ï¼ˆæ­¤å¤„ä»¥100100100ä¸ºä¾‹ï¼Œå¯è‡ªç”±è®¾ç½®ï¼‰</li>
</ol>
<a id="more"></a>

<ol start="2">
<li>è¿è¡ŒæˆåŠŸåï¼Œæ‰“å¼€ç½‘ç»œå’Œå…±äº«ä¸­å¿ƒï¼Œç‚¹å‡»å·¦ä¾§æ›´æ”¹é€‚é…å™¨è®¾ç½®ã€‚</li>
<li>è¿›å…¥é€‚é…å™¨è®¾ç½®å°±ä¼šå‘ç°å¤šå‡ºäº†ä¸€ä¸ªç½‘å¡ä¸ºâ€œMicrosoft Virtual WiFi Miniport Adapterâ€çš„æ— çº¿ç½‘ç»œè¿æ¥2ã€‚è‹¥æ²¡æœ‰ï¼Œåˆ™å°è¯•æ›´æ–°æ— çº¿ç½‘å¡é©±åŠ¨ã€‚<br>ä¸ºæ–¹ä¾¿èµ·è§ï¼Œå¯å°†æ— çº¿ç½‘ç»œè¿æ¥2é‡å‘½åä¸º**â€VirtualWiFiâ€**ã€‚</li>
<li>åœ¨ç½‘ç»œè¿æ¥é‡Œï¼Œ å³é”®å•å‡»å·²è¿æ¥åˆ°Internetçš„ç½‘ç»œè¿æ¥ï¼Œé€‰æ‹©â€œå±æ€§â€â†’â€œå…±äº«â€ï¼Œå‹¾ä¸Šâ€œå…è®¸å…¶ä»–ç½‘ç»œç”¨æˆ·é€šè¿‡æ­¤è®¡ç®—æœºçš„Internetè¿æ¥æ¥è¿æ¥(N)â€å¹¶é€‰æ‹©â€œè™šæ‹ŸWiFiâ€ã€‚<br>ç¡®å®šä¹‹åï¼Œæä¾›å…±äº«çš„ç½‘å¡å›¾æ ‡æ—ä¼šå‡ºç°â€œå…±äº«çš„â€å­—æ ·ï¼Œè¡¨ç¤ºâ€œå®½å¸¦è¿æ¥â€å·²å…±äº«è‡³**â€VirtualWiFiâ€**<br><img src="http://static.zybuluo.com/AlexLin/7tftyoeqj79obckwcylz4ret/image.png" alt="ç½‘ç»œå…±äº«"><br><img src="http://static.zybuluo.com/AlexLin/e0ca3mszpdbqmzp7vhvut012/image.png" alt="å…±äº«æ ‡å¿—"></li>
<li>ç»§ç»­å‘½ä»¤è¡Œè¾“å…¥:<code>netsh wlan start hostednetwork</code>ï¼ŒæŒ‰å›è½¦é”®è¿è¡Œã€‚<br>æœ€åï¼Œè™šæ‹ŸWiFiçš„çº¢å‰æ¶ˆå¤±ï¼ŒWiFiåŸºç«™å·²ç»„å»ºå¥½å¹¶å¯åŠ¨ï¼Œç”¨æ”¯æŒWiFiçš„è®¾å¤‡æœç´¢åˆ°è‡ªå·±å»ºç«‹çš„æ— çº¿ç½‘ç»œï¼ˆå¦‚ä¾‹ä¸­livdran2012ï¼‰,è¾“å…¥è‡ªå·±è®¾ç½®çš„å¯†ç ï¼ˆå¦‚ä¾‹ä¸­100100100ï¼‰ï¼Œå³å¯å…±äº«ä¸Šç½‘äº†ã€‚</li>
</ol>
<h2 id="Win7-å¯åŠ¨é¡¹è®¾ç½®"><a href="#Win7-å¯åŠ¨é¡¹è®¾ç½®" class="headerlink" title="Win7 å¯åŠ¨é¡¹è®¾ç½®"></a>Win7 å¯åŠ¨é¡¹è®¾ç½®</h2><ol>
<li>åœ¨å¼€å§‹çš„æœç´¢æ¡†é‡Œé¢è¾“å…¥ **<code>msconfig å‘½ä»¤</code>**ï¼Œå›è½¦æ‰“å¼€</li>
<li>åœ¨å¼¹å‡ºæ¥çš„çª—å£é€‰<strong>æœ‰é€‰æ‹©çš„å¯åŠ¨</strong><br><img src="http://upload-images.jianshu.io/upload_images/1736256-39a2ce5363e6346e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å¯åŠ¨é¡¹"></li>
<li>è¦å¯åŠ¨çš„æ‰“é’©ï¼Œä¸éœ€è¦çš„ä¸æ‰“é’©<br><img src="http://upload-images.jianshu.io/upload_images/1736256-f35ab7cd8ddb24a0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å¯åŠ¨é¡¹"></li>
</ol>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>PCå·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>PythonåŸºç¡€ä½¿ç”¨æŠ€å·§</title>
    <url>/2020/04/08/b6de.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ä¾èµ–æ–‡ä»¶requirementsç”Ÿæˆå’Œå®‰è£…"><a href="#ä¾èµ–æ–‡ä»¶requirementsç”Ÿæˆå’Œå®‰è£…" class="headerlink" title="ä¾èµ–æ–‡ä»¶requirementsç”Ÿæˆå’Œå®‰è£…"></a>ä¾èµ–æ–‡ä»¶requirementsç”Ÿæˆå’Œå®‰è£…</h2><ul>
<li>ç”Ÿæˆ</li>
</ul>
<pre class=" language-py"><code class="language-py">pip freeze > requirements.txt</code></pre>
<ul>
<li>å®‰è£…</li>
</ul>
<pre class=" language-py"><code class="language-py">pip install -r requirements.txt</code></pre>
]]></content>
  </entry>
  <entry>
    <title>QT ç¬”è®°</title>
    <url>/2020/05/04/8182.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h2><ul>
<li> <a href="https://doc.qt.io/qt-5/index.html">å®˜æ–¹æ–‡æ¡£</a></li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>SI4432</title>
    <url>/2017/03/26/760b.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr>
<h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><h3 id="SPIæ–¹é¢"><a href="#SPIæ–¹é¢" class="headerlink" title="SPIæ–¹é¢"></a>SPIæ–¹é¢</h3><hr>
<p><strong>1. é€Ÿç‡ä¸è¦å¤ªé«˜ï¼ŒSI4432æ‰‹å†Œä¸Šè¯´ä¸è¦å¤§äº10MHZ</strong>Â  Â Â  Â Â Â <br><strong>2. MOSIã€MOSOã€SCKä¸‰ä¸ªå¼•è„šé…ç½®ä¸ºå¤ç”¨åŠŸèƒ½æ¨æŒ½è¾“å‡º</strong><br><strong>3.SPIçš„æ—¶é’Ÿææ€§é…ç½®ä¸ºï¼šåŒæ­¥æ—¶é’Ÿçš„ç©ºé—²çŠ¶æ€ä¸ºÂ ä½ç”µå¹³</strong><br><strong>4.SPIçš„æ—¶é’Ÿçš„ç¬¬2ä¸ªè·³å˜æ²¿æ•°æ®è¢«é‡‡æ ·ã€‚ï¼ˆSPI_CPHAï¼‰</strong><br><strong>5.ç‰‡é€‰ä¿¡å·è½¯ä»¶æ§åˆ¶è‡ªå·±å®šä¹‰ä¸€ä¸ªIOç©ºæ§åˆ¶ç‰‡é€‰å§ï¼Œæ–¹ä¾¿.</strong></p>
<a id="more"></a>

<h3 id="ç¡¬ä»¶"><a href="#ç¡¬ä»¶" class="headerlink" title="ç¡¬ä»¶"></a>ç¡¬ä»¶</h3><hr>
<p><strong>1. SI4432æœ‰3ä¸ªGPIOï¼Œä¸€èˆ¬è‡ªå·±æ˜¯ä¸ç”¨çš„ï¼Œä½†æ˜¯ä¾ç„¶è¦é…ç½®ï¼Œå› ä¸ºè¿™ä¸ªå’Œæ¨¡å—ç›¸å…³</strong><br><strong>2. å»ºè®®è¿˜æ˜¯ä¸è¦æŠŠSDNç›´æ¥æ¥åœ°ï¼Œæ¯•ç«Ÿå‘ç°å¼‚å¸¸åè¿˜å¯ä»¥å°†SDNæ‹‰é«˜åœ¨ç½®ä½æ¥å®ç°ç¡¬ä»¶å¤ä½ <em>(é‡è¦)</em></strong><br><strong>3. SI4432çš„SDNå¼•è„šï¼Œä¸ºé«˜æ—¶ï¼šèŠ¯ç‰‡åœæ­¢å·¥ä½œã€‚ä¸ºä½æ—¶ï¼šèŠ¯ç‰‡å…è®¸å·¥ä½œã€‚</strong></p>
<h3 id="è½¯ä»¶"><a href="#è½¯ä»¶" class="headerlink" title="è½¯ä»¶"></a>è½¯ä»¶</h3><hr>
<p><strong>1. SPIé…ç½®å¥½ä»¥åï¼Œå‘SI4432å†™æ•°æ®æ³¨æ„åœ°å€æœ€é«˜ä½ç½®1ã€‚ å¦‚ï¼šSPI1_ReadWriteByte(addr|0x80)</strong><br><strong>2.SI4432ä¸»è¦ä¸‰ä¸ªçŠ¶æ€ï¼šæ¥æ”¶çŠ¶æ€ã€å‘é€çŠ¶æ€ã€æŒ‚èµ·çŠ¶æ€ã€‚å‘é€å’Œæ¥æ”¶ä¹‹é—´å¯ä»¥ç›¸äº’è½¬æ¢ã€ä½†æ˜¯è½¬æ¢ä¹‹å‰éœ€è¦å…ˆè¿›å…¥æŒ‚èµ·çŠ¶æ€ç„¶åè‡³å°‘15msä¹‹åå†è¿›å…¥å‘é€æˆ–è€…æ¥æ”¶çŠ¶æ€ã€‚ç¨‹åºwhileï¼ˆ1ï¼‰ä¹‹å‰æœ€å¥½å¼€å§‹å°±é…ç½®ä¸ºæŒ‚èµ·çŠ¶æ€ï¼šSI4432_WriteReg(0x07, 0x01);</strong><br><strong>3. è½¯ä»¶å¤ä½å†…éƒ¨å¯„å­˜å™¨ï¼Œä¸èƒ½ç«‹åˆ»å†™å…¥å¯„å­˜å™¨</strong><br><strong>4.æŸäº›å¯„å­˜å™¨å†™å®Œä¹‹åï¼Œå¿…é¡»å»¶æ—¶ä¸€æ®µæ—¶é—´ï¼Œæ‰èƒ½ç»§ç»­å†™å…¶ä»–çš„å¯„å­˜å™¨ï¼Œå¦åˆ™æ­»æœº</strong></p>
]]></content>
      <tags>
        <tag>SI4432</tag>
        <tag>433MHZ</tag>
      </tags>
  </entry>
  <entry>
    <title>SPIåè®®</title>
    <url>/2017/08/17/1d58.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="1-ä¸€ç‚¹åŸºç¡€ä»‹ç»"><a href="#1-ä¸€ç‚¹åŸºç¡€ä»‹ç»" class="headerlink" title="1. ä¸€ç‚¹åŸºç¡€ä»‹ç»"></a>1. ä¸€ç‚¹åŸºç¡€ä»‹ç»</h2><blockquote>
<p>SPIçš„é€šä¿¡åŸç†å¾ˆç®€å•ï¼Œå®ƒä»¥ä¸»ä»æ–¹å¼å·¥ä½œï¼Œè¿™ç§æ¨¡å¼é€šå¸¸æœ‰ä¸€ä¸ªä¸»è®¾å¤‡å’Œä¸€ä¸ªæˆ–å¤šä¸ªä»è®¾å¤‡ï¼Œéœ€è¦è‡³å°‘4æ ¹çº¿ï¼Œäº‹å®ä¸Š3æ ¹ä¹Ÿå¯ä»¥ï¼ˆå•å‘ä¼ è¾“æ—¶ï¼‰ã€‚ä¹Ÿæ˜¯æ‰€æœ‰åŸºäºSPIçš„è®¾å¤‡å…±æœ‰çš„ï¼Œå®ƒä»¬æ˜¯MISOï¼ˆæ•°æ®è¾“å…¥ï¼‰ï¼ŒMOSIï¼ˆæ•°æ®è¾“å‡ºï¼‰ï¼ŒSCKï¼ˆæ—¶é’Ÿï¼‰ï¼ŒCSï¼ˆç‰‡é€‰ï¼‰ã€‚</p>
</blockquote>
<h2 id="2-å¼•è„šè¯´æ˜"><a href="#2-å¼•è„šè¯´æ˜" class="headerlink" title="2. å¼•è„šè¯´æ˜"></a>2. å¼•è„šè¯´æ˜</h2><table>
<thead>
<tr>
<th align="center">å¼•è„š</th>
<th align="left">è§£è¯´</th>
</tr>
</thead>
<tbody><tr>
<td align="center">MOSI</td>
<td align="left">ä¸»è®¾å¤‡æ•°æ®è¾“å‡ºï¼Œä»è®¾å¤‡æ•°æ®è¾“å…¥</td>
</tr>
<tr>
<td align="center">MISO</td>
<td align="left">ä¸»è®¾å¤‡æ•°æ®è¾“å…¥ï¼Œä»è®¾å¤‡æ•°æ®è¾“å‡º</td>
</tr>
<tr>
<td align="center">SCLK</td>
<td align="left">æ—¶é’Ÿä¿¡å·ï¼Œç”±ä¸»è®¾å¤‡äº§ç”Ÿ</td>
</tr>
<tr>
<td align="center">CS</td>
<td align="left">ä»è®¾å¤‡ä½¿èƒ½ä¿¡å·ï¼Œç”±ä¸»è®¾å¤‡æ§åˆ¶(<strong>ä¸€èˆ¬æ˜¯ä½ç”µå¹³é€‰ä¸­</strong>)</td>
</tr>
</tbody></table>
<a id="more"></a>


<h2 id="3-SPI-æ—¶åºæ“ä½œ"><a href="#3-SPI-æ—¶åºæ“ä½œ" class="headerlink" title="3. SPI æ—¶åºæ“ä½œ"></a>3. SPI æ—¶åºæ“ä½œ</h2><ol>
<li><strong>æ•°æ®è¾“å‡º:</strong> é€šè¿‡ MISOçº¿ï¼Œæ•°æ®åœ¨æ—¶é’Ÿä¸Šå‡æ²¿æˆ–ä¸‹é™æ²¿æ—¶æ”¹å˜ï¼Œåœ¨ç´§æ¥ç€çš„ä¸‹é™æ²¿æˆ–ä¸Šå‡æ²¿è¢«è¯»å–ã€‚è¿™æ ·ï¼Œåœ¨è‡³å°‘8æ¬¡æ—¶é’Ÿä¿¡å·çš„æ”¹å˜ï¼ˆä¸Šæ²¿å’Œä¸‹æ²¿ä¸ºä¸€æ¬¡ï¼‰ï¼Œå°±å¯ä»¥å®Œæˆ8ä½æ•°æ®çš„ä¼ è¾“</li>
<li><strong>ä¸€ä¸ªSPIæ—¶é’Ÿå‘¨æœŸå†…ï¼Œä¼šå®Œæˆå¦‚ä¸‹æ“ä½œï¼š</strong><ol>
<li>ä¸Šå‡æ²¿å‘é€ã€ä¸‹é™æ²¿æ¥æ”¶ã€é«˜ä½å…ˆå‘é€</li>
<li>ä¸Šå‡æ²¿åˆ°æ¥çš„æ—¶å€™ï¼ŒMOSIä¸Šçš„ç”µå¹³å°†è¢«å‘é€åˆ°ä»è®¾å¤‡çš„å¯„å­˜å™¨ä¸­</li>
<li>ä¸‹é™æ²¿åˆ°æ¥çš„æ—¶å€™ï¼ŒMISOä¸Šçš„ç”µå¹³å°†è¢«æ¥æ”¶åˆ°ä¸»è®¾å¤‡çš„å¯„å­˜å™¨ä¸­</li>
</ol>
</li>
</ol>
<p><img src="http://upload-images.jianshu.io/upload_images/1736256-8f4f1153773536fc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="SPI ä¸»ä»ä¼ è¾“"></p>
<h2 id="4-SPI-ä¸€ä¸»æœºå¯¹å¤šä»æœºå›¾"><a href="#4-SPI-ä¸€ä¸»æœºå¯¹å¤šä»æœºå›¾" class="headerlink" title="4. SPI ä¸€ä¸»æœºå¯¹å¤šä»æœºå›¾"></a>4. SPI ä¸€ä¸»æœºå¯¹å¤šä»æœºå›¾</h2><p><img src="http://upload-images.jianshu.io/upload_images/1736256-8f77dada3eba45a6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä¸€å¯¹å¤š"></p>
<h2 id="4-SPIæ€»çº¿å››ç§å·¥ä½œæ–¹å¼"><a href="#4-SPIæ€»çº¿å››ç§å·¥ä½œæ–¹å¼" class="headerlink" title="4. SPIæ€»çº¿å››ç§å·¥ä½œæ–¹å¼"></a>4. SPIæ€»çº¿å››ç§å·¥ä½œæ–¹å¼</h2><blockquote>
<p>SPI æ¨¡å—ä¸ºäº†å’Œå¤–è®¾è¿›è¡Œæ•°æ®äº¤æ¢ï¼Œæ ¹æ®å¤–è®¾å·¥ä½œè¦æ±‚ï¼Œå…¶è¾“å‡ºä¸²è¡ŒåŒæ­¥æ—¶é’Ÿææ€§(CPOL)å’Œç›¸ä½(CPHA)å¯ä»¥è¿›è¡Œé…ç½®ï¼Œæ—¶é’Ÿææ€§ï¼ˆCPOLï¼‰å¯¹ä¼ è¾“åè®®æ²¡æœ‰é‡å¤§çš„å½±å“ã€‚</p>
</blockquote>
<ol>
<li><strong>CPOLæ˜¯ç”¨æ¥å†³å®šSCKæ—¶é’Ÿä¿¡å·ç©ºé—²æ—¶çš„ç”µå¹³</strong><ol>
<li>CPOL = 0ï¼Œç©ºé—²ç”µå¹³ä¸ºä½ç”µå¹³;</li>
<li>CPOL = 1ï¼Œç©ºé—²ç”µå¹³ä¸ºé«˜ç”µå¹³;</li>
</ol>
</li>
<li><strong>CPHAæ˜¯ç”¨æ¥å†³å®šé‡‡æ ·æ—¶åˆ»</strong><ol>
<li>CPHA = 0ï¼Œåœ¨æ¯ä¸ªå‘¨æœŸçš„ç¬¬ä¸€ä¸ªæ—¶é’Ÿæ²¿é‡‡æ ·;</li>
<li>CPHA = 1ï¼Œåœ¨æ¯ä¸ªå‘¨æœŸçš„ç¬¬äºŒä¸ªæ—¶é’Ÿæ²¿é‡‡æ ·;<blockquote>
<p><strong>SPIä¸»æ¨¡å—å’Œä¸ä¹‹é€šä¿¡çš„å¤–è®¾å¤‡æ—¶é’Ÿç›¸ä½å’Œææ€§åº”è¯¥ä¸€è‡´ã€‚</strong></p>
</blockquote>
</li>
</ol>
</li>
</ol>
<p><img src="http://www.byteparadigm.com/pictures/figure3.jpg" alt="CPHA &amp; CPOL"></p>
<h2 id="5-åè®®å¿ƒå¾—ä½“ä¼š"><a href="#5-åè®®å¿ƒå¾—ä½“ä¼š" class="headerlink" title="5. åè®®å¿ƒå¾—ä½“ä¼š"></a>5. åè®®å¿ƒå¾—ä½“ä¼š</h2><h3 id="SPIæ¥å£æ—¶é’Ÿé…ç½®å¿ƒå¾—ï¼š"><a href="#SPIæ¥å£æ—¶é’Ÿé…ç½®å¿ƒå¾—ï¼š" class="headerlink" title="SPIæ¥å£æ—¶é’Ÿé…ç½®å¿ƒå¾—ï¼š"></a>SPIæ¥å£æ—¶é’Ÿé…ç½®å¿ƒå¾—ï¼š</h3><ol>
<li>ä¸»è®¾å¤‡è¿™è¾¹çš„æ—¶é’Ÿææ€§å’Œç›¸ä½éƒ½æ˜¯ä»¥ä»è®¾å¤‡ä¸ºåŸºå‡†çš„ã€‚å› æ­¤åœ¨æ—¶é’Ÿææ€§çš„é…ç½®ä¸Šä¸€å®šè¦ææ¸…æ¥šä»è®¾å¤‡æ˜¯åœ¨æ—¶é’Ÿçš„ä¸Šå‡æ²¿è¿˜æ˜¯ä¸‹é™æ²¿æ¥æ”¶æ•°æ®ï¼Œæ˜¯åœ¨æ—¶é’Ÿçš„ä¸‹é™æ²¿è¿˜æ˜¯ä¸Šå‡æ²¿è¾“å‡ºæ•°æ®ã€‚</li>
<li>ä¸»è®¾å¤‡è¿™è¾¹SPIæ—¶é’Ÿææ€§çš„é…ç½®ï¼ˆå³SDOçš„é…ç½®ï¼‰è·Ÿä»è®¾å¤‡çš„SDIæ¥æ”¶æ•°æ®çš„ææ€§æ˜¯ç›¸åçš„ï¼Œè·Ÿä»è®¾å¤‡SDOå‘é€æ•°æ®çš„ææ€§æ˜¯ç›¸åŒçš„ã€‚</li>
</ol>
<p>ä¸‹é¢è¿™æ®µè¯æ˜¯Sychip Wlan8100 Module Specä¸Šè¯´çš„ï¼Œå……åˆ†è¯´æ˜äº†æ—¶é’Ÿææ€§æ˜¯å¦‚ä½•é…ç½®çš„ï¼š<br><strong>The 81xx module will always input data bits at the rising edge of the clock, and the host will always output data bits on the falling edge of the clock.</strong><br>æ„æ€æ˜¯ï¼šä¸»è®¾å¤‡åœ¨æ—¶é’Ÿçš„ä¸‹é™æ²¿å‘é€æ•°æ®ï¼Œä»è®¾å¤‡åœ¨æ—¶é’Ÿçš„ä¸Šå‡æ²¿æ¥æ”¶æ•°æ®ã€‚å› æ­¤ä¸»è®¾å¤‡è¿™è¾¹SPIæ—¶é’Ÿææ€§åº”è¯¥é…ç½®ä¸ºä¸‹é™æ²¿æœ‰æ•ˆã€‚<br>åˆå¦‚ï¼Œä¸‹é¢è¿™æ®µè¯æ˜¯æ‘˜è‡ªLCD Driver IC SSD1289ï¼š<br><strong>SDI is shifted into 8-bit shift register on every rising edge of SCK in the order of data bit 7, data bit 6 â€¦â€¦ data bit 0.</strong><br>æ„æ€æ˜¯ï¼šä»è®¾å¤‡SSD1289åœ¨æ—¶é’Ÿçš„ä¸Šå‡æ²¿æ¥æ”¶æ•°æ®ï¼Œè€Œä¸”æ˜¯æŒ‰ç…§ä»é«˜ä½åˆ°åœ°ä½çš„é¡ºåºæ¥æ”¶æ•°æ®çš„ã€‚å› æ­¤ä¸»è®¾å¤‡çš„SPIæ—¶é’Ÿææ€§åŒæ ·åº”è¯¥é…ç½®ä¸ºä¸‹é™æ²¿æœ‰æ•ˆã€‚<br>æ—¶é’Ÿææ€§å’Œç›¸ä½é…ç½®æ­£ç¡®åï¼Œæ•°æ®æ‰èƒ½å¤Ÿè¢«å‡†ç¡®çš„å‘é€å’Œæ¥æ”¶, å› æ­¤åº”è¯¥å¯¹ç…§ä»è®¾å¤‡çš„SPIæ¥å£æ—¶åºæˆ–è€…Specæ–‡æ¡£è¯´æ˜æ¥æ­£ç¡®é…ç½®ä¸»è®¾å¤‡çš„æ—¶é’Ÿã€‚</p>
]]></content>
      <categories>
        <category>åè®®</category>
      </categories>
      <tags>
        <tag>SPI</tag>
      </tags>
  </entry>
  <entry>
    <title>STM32 å‘½åè§„åˆ™</title>
    <url>/2017/03/26/eaab.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr>
<h2 id="å‘½åè§„èŒƒ"><a href="#å‘½åè§„èŒƒ" class="headerlink" title="å‘½åè§„èŒƒ"></a>å‘½åè§„èŒƒ</h2><p>ä»¥stm32f103c8t7xxä¸ºä¾‹å­</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1736256-7d5b4a61ad2948ed.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å‘½åè§„èŒƒ"></p>
<a id="more"></a>

<p>| Device |  description |<br>| â€”â€”â€”â€”- |<br>| STM32 |åŸºäºARM?çš„32ä½å¾®æ§åˆ¶å™¨äº§å“ç±»å‹ã€‚ |<br>| F |é€šç”¨ç±»å‹äº§å“å­ç³»åˆ— |<br>|Device subfamily|101 = åŸºæœ¬å‹ 102 = USBåŸºæœ¬å‹ 103 = å¢å¼ºå‹ 105/107 = äº’è”å‹|<br>|Pin count| T=36 C=48 R=64 V=100 Z=144|<br>|Flash Size|6=32 8=64 B=128 C=256 D=384 E=512 |<br>|Package|H = BGA T = LQFP U = VFQFPN Y = WLCSP64|</p>
<h2 id="STM32-äº§å“ç±»å‹å’Œå¯åŠ¨æ–‡ä»¶çš„é€‰æ‹©"><a href="#STM32-äº§å“ç±»å‹å’Œå¯åŠ¨æ–‡ä»¶çš„é€‰æ‹©" class="headerlink" title="STM32 äº§å“ç±»å‹å’Œå¯åŠ¨æ–‡ä»¶çš„é€‰æ‹©"></a>STM32 äº§å“ç±»å‹å’Œå¯åŠ¨æ–‡ä»¶çš„é€‰æ‹©</h2><pre><code>- startup_stm32f10x_ld_vl.s: for STM32 Low density Value line devices
- startup_stm32f10x_ld.s: for STM32 Low density devices
- startup_stm32f10x_md_vl.s: for STM32 Medium density Value line devices
- startup_stm32f10x_md.s: for STM32 Medium density devices
- startup_stm32f10x_hd.s: for STM32 High density devices
- startup_stm32f10x_xl.s: for STM32 XL density devices
- startup_stm32f10x_cl.s: for STM32 Connectivity line devices
clï¼šäº’è”å‹äº§å“ï¼Œstm32f105/107ç³»åˆ—
vlï¼šè¶…å€¼å‹äº§å“ï¼Œstm32f100ç³»åˆ—
xlï¼šè¶…é«˜å¯†åº¦äº§å“ï¼Œstm32f101/103ç³»åˆ—
ldï¼šä½å¯†åº¦äº§å“ï¼ŒFLASHå°äº64K
mdï¼šä¸­ç­‰å¯†åº¦äº§å“ï¼ŒFLASH=64 or 128
hdï¼šé«˜å¯†åº¦äº§å“ï¼ŒFLASHå¤§äº128</code></pre>
<h2 id="STM32-Flash-é¡µé¢å¤§å°åˆ’åˆ†"><a href="#STM32-Flash-é¡µé¢å¤§å°åˆ’åˆ†" class="headerlink" title="STM32 Flash é¡µé¢å¤§å°åˆ’åˆ†"></a>STM32 Flash é¡µé¢å¤§å°åˆ’åˆ†</h2><p>STM32æœ‰4ç§Flash module organizationï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>low-density devices(32KBï¼Œ1KB/page)</li>
<li>medium-density devices(128KBï¼Œ1KB/page)</li>
<li>high-density devices(512KBï¼Œ2KB/page)</li>
<li>connectivity line devices(256KBï¼Œ2KB/page)</li>
<li>XL-density(devices(1Mï¼Œ2KB/page)</li>
</ul>
]]></content>
      <tags>
        <tag>ST</tag>
        <tag>STM32</tag>
      </tags>
  </entry>
  <entry>
    <title>SSLæ¡æ‰‹è¿‡ç¨‹</title>
    <url>/2018/03/26/b45f.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><div align="center">
![hand][1]
</div>

<a id="more"></a>

<h2 id="SSL-æ¡æ‰‹ç›®çš„"><a href="#SSL-æ¡æ‰‹ç›®çš„" class="headerlink" title="SSL æ¡æ‰‹ç›®çš„"></a>SSL æ¡æ‰‹ç›®çš„</h2><ol>
<li>å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨éœ€è¦å°±ä¸€ç»„ç”¨äºä¿æŠ¤æ•°æ®çš„ç®—æ³•è¾¾æˆä¸€è‡´ï¼›</li>
<li>å®ƒä»¬éœ€è¦ç¡®ç«‹ä¸€ç»„ç”±é‚£äº›ç®—æ³•æ‰€ä½¿ç”¨çš„åŠ å¯†å¯†é’¥ï¼›</li>
<li>æ¡æ‰‹è¿˜å¯ä»¥é€‰æ‹©å¯¹å®¢æˆ·ç«¯è¿›è¡Œè®¤è¯(å•å‘/åŒå‘ è®¤è¯)ã€‚</li>
</ol>
<h2 id="SSL-å››æ¬¡æ¡æ‰‹è¿‡ç¨‹"><a href="#SSL-å››æ¬¡æ¡æ‰‹è¿‡ç¨‹" class="headerlink" title="SSL å››æ¬¡æ¡æ‰‹è¿‡ç¨‹"></a>SSL å››æ¬¡æ¡æ‰‹è¿‡ç¨‹</h2><p>1ã€å®¢æˆ·ç«¯è¯·æ±‚å»ºç«‹SSLé“¾æ¥ï¼Œå¹¶å‘æœåŠ¡ç«¯å‘é€ä¸€ä¸ªéšæœºæ•°â€“Client randomå’Œå®¢æˆ·ç«¯æ”¯æŒçš„åŠ å¯†æ–¹æ³•ï¼Œæ¯”å¦‚RSAå…¬é’¥åŠ å¯†ï¼Œæ­¤æ—¶æ˜¯æ˜æ–‡ä¼ è¾“ã€‚<br>2ã€æœåŠ¡ç«¯å›å¤ä¸€ç§å®¢æˆ·ç«¯æ”¯æŒçš„åŠ å¯†æ–¹æ³•ã€ä¸€ä¸ªéšæœºæ•°â€“Server randomã€æˆä¿¡çš„æœåŠ¡å™¨è¯ä¹¦å’Œéå¯¹ç§°åŠ å¯†çš„å…¬é’¥ã€‚<br>3ã€å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯çš„å›å¤ååˆ©ç”¨æœåŠ¡ç«¯çš„å…¬é’¥ï¼ŒåŠ ä¸Šæ–°çš„éšæœºæ•°â€“Premaster secret é€šè¿‡æœåŠ¡ç«¯ä¸‹å‘çš„å…¬é’¥åŠåŠ å¯†æ–¹æ³•è¿›è¡ŒåŠ å¯†ï¼Œå‘é€ç»™æœåŠ¡å™¨ã€‚<br>4ã€æœåŠ¡ç«¯æ”¶åˆ°å®¢æˆ·ç«¯çš„å›å¤ï¼Œåˆ©ç”¨å·²çŸ¥çš„åŠ è§£å¯†æ–¹å¼è¿›è¡Œè§£å¯†ï¼ŒåŒæ—¶åˆ©ç”¨Client randomã€Server randomå’ŒPremaster secreté€šè¿‡ä¸€å®šçš„ç®—æ³•ç”ŸæˆHTTPé“¾æ¥æ•°æ®ä¼ è¾“çš„å¯¹ç§°åŠ å¯†key â€“ session key</p>
<p><strong>æ­¤åé€šè®¯åŸºäº sessionkey å¯¹ç§°åŠ å¯†è¿›è¡Œ</strong></p>
<p>å‚è€ƒ:</p>
<ul>
<li><a href="http://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html">http://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html</a></li>
<li><a href="https://blog.csdn.net/zxk364961978/article/details/54809008">https://blog.csdn.net/zxk364961978/article/details/54809008</a></li>
</ul>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>ssl</tag>
      </tags>
  </entry>
  <entry>
    <title>STM32---ADC</title>
    <url>/2017/03/26/b2f4.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr>
<h2 id="å¼•è„š"><a href="#å¼•è„š" class="headerlink" title="å¼•è„š"></a>å¼•è„š</h2><p><img src="http://upload-images.jianshu.io/upload_images/1736256-98eeb51f671b5b77.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="STM32 ADC å¼•è„š"></p>
<h2 id="å·¥ä½œæµç¨‹"><a href="#å·¥ä½œæµç¨‹" class="headerlink" title="å·¥ä½œæµç¨‹"></a>å·¥ä½œæµç¨‹</h2><ol>
<li><strong>ADCé€šå¸¸è¦ä¸DMAä¸€èµ·ä½¿ç”¨ è¿™é‡Œåªæ˜¯ç®€å•çš„ç”¨åº“é…ç½®ADC ä¸æ–­æ‰«ææ¥å®ç°ADCçš„åº”ç”¨ã€‚</strong></li>
</ol>
<p>** é¦–å…ˆé…ç½®GPIOä¸ADCçš„æ—¶é’Ÿï¼š**</p>
<a id="more"></a>

<pre><code>ADC_InitTypeDefÂ  ADC_InitStructure;Â 
GPIO_InitTypeDef GPIO_InitStructure;
RCC_APB2PeriphClockCmd(RCC_APB2Periph_ADC1,ENABLE);Â 
RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB,ENABLE);
GPIO_InitStructure.GPIO_PinÂ  =GPIO_Pin_1;Â 
GPIO_InitStructure.GPIO_Mode =GPIO_Mode_AIN;Â 
GPIO_Init(GPIOB,&amp;GPIO_InitStructure); //é»˜è®¤é€Ÿåº¦ä¸ºä¸¤å…†</code></pre>
<p>2 .<strong>é…ç½®ADCçš„è¿è¡Œï¼š</strong></p>
<pre><code>ADC_InitStructure.ADC_ModeÂ = ADC_Mode_Independent;Â  //ç‹¬ç«‹æ¨¡å¼Â 
ADC_InitStructure.ADC_ScanConvModeÂ Â Â Â Â  =DISABLE;Â Â Â Â Â  //è¿ç»­å¤šé€šé“æ¨¡å¼Â 
ADC_InitStructure.ADC_ContinuousConvMode =ENABLE;Â Â Â Â Â  //è¿ç»­è½¬æ¢Â 
ADC_InitStructure.ADC_ExternalTrigConvÂ  = ADC_ExternalTrigConv_None; //è½¬æ¢ä¸å—å¤–ç•Œå†³å®š
Â ADC_InitStructure.ADC_DataAlignÂ Â Â Â Â Â Â Â  =ADC_DataAlign_Right;Â Â  //å³å¯¹é½Â 
ADC_InitStructure.ADC_NbrOfChannelÂ Â Â Â Â  =1;Â Â Â Â Â Â  //æ‰«æé€šé“æ•°
Â ADC_Init(ADC1,&amp;ADC_InitStructure);
Â ADC_RegularChannelConfig(ADC1,ADC_Channel_9, 1,ADC_SampleTime_1Cycles5); //é€šé“X,é‡‡æ ·æ—¶é—´ä¸º1.5å‘¨æœŸ,1ä»£è¡¨è§„åˆ™é€šé“ç¬¬1ä¸ªè¿™ä¸ª1æ˜¯å•¥æ„æ€æˆ‘ä¸å¤ªæ¸…æ¥šåªæœ‰æ˜¯1çš„æ—¶å€™æˆ‘çš„ADCæ‰æ­£å¸¸ã€‚
Â ADC_CmdÂ  (ADC1,ENABLE);Â Â Â Â Â Â Â Â Â //ä½¿èƒ½æˆ–è€…å¤±èƒ½æŒ‡å®šçš„ADC
Â ADC_SoftwareStartConvCmd(ADC1,ENABLE); //ä½¿èƒ½æˆ–è€…å¤±èƒ½æŒ‡å®šçš„ADCçš„è½¯ä»¶è½¬æ¢å¯åŠ¨åŠŸèƒ½</code></pre>
<p><strong>æ³¨æ„ï¼šä¸ºäº†èƒ½å¤Ÿæ­£ç¡®åœ°é…ç½®æ¯ä¸€ä¸ªADCé€šé“ï¼Œç”¨æˆ·åœ¨è°ƒç”¨ADC_Init()ä¹‹åï¼Œå¿…é¡»è°ƒç”¨ADC_ChannelConfig()æ¥é…ç½®æ¯ä¸ªæ‰€ä½¿ç”¨é€šé“çš„è½¬æ¢æ¬¡åºå’Œé‡‡æ ·æ—¶é—´ã€‚</strong><br><strong>ç„¶åå°±æ˜¯ä¸åœçš„è¯»ï¼›</strong></p>
<pre><code>u16 TestAdc(void)Â 
&#123;Â 
u16 adc;Â 
while(ADC_GetFlagStatus(ADC1, ADC_FLAG_EOC)==RESET); //æ£€æŸ¥åˆ¶å®šADCæ ‡å¿—ä½ç½®1ä¸å¦ ADC_FLAG_EOC è½¬æ¢ç»“æŸæ ‡å¿—ä½Â 
adc=ADC_GetConversionValue(ADC1);
returnadc;//è¿”å›æœ€è¿‘ä¸€æ¬¡ADCxè§„åˆ™ç»„çš„è½¬æ¢ç»“æœ
Â &#125;</code></pre>
]]></content>
      <tags>
        <tag>ST</tag>
        <tag>STM32</tag>
        <tag>ADC</tag>
      </tags>
  </entry>
  <entry>
    <title>STM8 å‘½åè§„åˆ™</title>
    <url>/2017/03/26/3ec7.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr>
<p><strong>STM8å‘½åè§„åˆ™ç¤ºåˆ—ï¼šSTM8S005K6T6Cxxx</strong>ä»£è¡¨çš„æ„ä¹‰ä¸ºï¼š è¶…å€¼å‹ STM8å†…æ ¸ï¼ˆå¯ä»¥ç†è§£ä¸º8ä½51å¢å¼ºå‹å†…æ ¸ï¼‰MCU,LQFP-32å°è£…ï¼Œ32KB FLASHå®¹é‡ï¼Œæ¸©åº¦èŒƒå›´-40â„ƒ-85â„ƒï¼›ï¼ˆå·¥ä¸šçº§ï¼‰<br><strong>å…·ä½“åˆ†è§£å¦‚ä¸‹ï¼š</strong></p>
<a id="more"></a>

<p>|<strong>STM8</strong>|<strong>S</strong>|<strong>005</strong>|<strong>K</strong>|<strong>6</strong>|<strong>T</strong>|<strong>6</strong>|<strong>C</strong>|<strong>XXX</strong>|<br>|-|-|<br>|1|2|3|4|5|6|7|8|9</p>
<p><strong>1.äº§å“ç³»åˆ—:</strong><br>STM8å•ç‰‡æœºåŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªç³»åˆ—ï¼š<br>STM8ï¼š 8ä½MCUï¼› STM8Aï¼š8ä½è‡ªåŠ¨MCUï¼› STM8Tï¼š8ä½è§¦æ‘¸æ„Ÿåº”MCUï¼› STM8TLï¼š8ä½è§¦æ‘¸æ„Ÿåº”ä½ç”µå‹MCUï¼›<br><strong>2.äº§å“ç±»å‹:</strong><br>Sï¼šæ ‡å‡†å‹ï¼› Lï¼šä½ç”µå‹å‹ï¼›<br><strong>3.äº§å“å­ç³»åˆ—ï¼š</strong><br>005ï¼šè¶…å€¼å‹STM8S005Xï¼Œé€Ÿåº¦16MHzï¼› 051ï¼šè¶…ä½å‹ULTRAä¸²å£ï¼› 052ï¼šå¸¦LCDï¼› 007ï¼šARM3è¶…å€¼å‹ï¼Œé€Ÿåº¦24 MHzï¼› 00xï¼šè¶…å€¼å‹ï¼› 003ï¼šå­ç³»åˆ—ï¼› 105ï¼šåŸºæœ¬å‹STM8S1005Xï¼› 10Xï¼šåŸºæœ¬å‹ï¼› 103ï¼šå­ç³»åˆ—ï¼› 207ï¼šä¸­é—´å±‚çš„å¤–å›´è®¾å®š; 208ï¼šæ‰€æœ‰å±‚çš„å¤–å›´è®¾å®š; 903ï¼š903å­ç³»åˆ—; 151ï¼šè¶…ä½å‹ULTRAä¸²å£; 152ï¼šè¶…ä½å‹ULTRAä¸²å£å¸¦LCD; 101ï¼šå­ç³»åˆ—ï¼›<br><strong>4.ç®¡è„šæ•°</strong><br>Fï¼š20PINï¼›Gï¼š28PINï¼›Kï¼š32PINï¼›Sï¼š44PINï¼›Cï¼š48PINï¼›Rï¼š64PINï¼›Mï¼š80PINï¼›<br><strong>5.Flashå­˜å­˜å®¹é‡</strong><br>1ï¼š2KB flashï¼›ï¼ˆå°å®¹é‡ï¼‰; 2ï¼š4KB flashï¼›ï¼ˆå°å®¹é‡ï¼‰; 3ï¼š8KB flashï¼›ï¼ˆå°å®¹é‡ï¼‰; 4ï¼š16KB flashï¼›ï¼ˆå°å®¹é‡ï¼‰; 6ï¼š32KB flashï¼›ï¼ˆå°å®¹é‡ï¼‰; 8ï¼š64KB flashï¼›ï¼ˆä¸­å®¹é‡ï¼‰; Bï¼š128KB flashï¼›ï¼ˆä¸­å®¹é‡ï¼‰; Cï¼š256KB flashï¼›ï¼ˆå¤§å®¹é‡ï¼‰; Dï¼š384KB flashï¼›ï¼ˆå¤§å®¹é‡ï¼‰; Eï¼š512KB flashï¼›ï¼ˆå¤§å®¹é‡ï¼‰; Fï¼š768KB flashï¼›ï¼ˆå¤§å®¹é‡ï¼‰; Gï¼š1MKB flashï¼›ï¼ˆå¤§å®¹é‡ï¼‰<br><strong>6.å°è£…</strong><br>Tï¼šLQFPï¼› Pï¼šTSSOPï¼› Uï¼šUFQFPNï¼› Bï¼šSDIPï¼› Mï¼šSOï¼› Yï¼šWLCSPï¼›<br><strong>7.æ¸©åº¦èŒƒå›´</strong><br>3ï¼š-40â„ƒ-125â„ƒï¼›ï¼ˆå·¥ä¸šçº§ï¼‰; 6ï¼š-40â„ƒ-85â„ƒï¼›ï¼ˆå·¥ä¸šçº§ï¼‰; 7ï¼š-40â„ƒ-105â„ƒï¼›ï¼ˆå·¥ä¸šçº§ï¼‰<br><strong>8.åŒ…è£…å°ºå¯¸</strong><br>æ— ç‰¹æ€§ï¼š0.5mmï¼›Cï¼š0.8mm; Aï¼š0.55mmçš„UFQFPNï¼›Blankï¼š0.5mmæˆ–0.65mm;<br>ä½å‹101ç³»åˆ—çš„Aï¼šCOMP_REFå¯å˜ï¼›Blankï¼šCOMP_REFä¸å¯å˜;<br>ä½å‹162ç³»åˆ—çš„Dï¼šVDDçš„èŒƒå›´ä¸º1.8V-3.6Vï¼Œä¸”BORä½¿èƒ½ï¼› Blankï¼šVDDçš„èŒƒå›´ä¸º1.8V-3.6Vï¼Œä¸”BORä¸ä½¿èƒ½;<br><strong>9.åŒ…è£…æ–¹å¼ï¼š</strong><br>TRï¼šå¸¦å·ï¼›æ— ç‰¹æ€§ï¼šç›˜è£…ï¼›</p>
<hr>
<p><img src="http://upload-images.jianshu.io/upload_images/1736256-f177ef8447b808f3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="STM8 MCU é€‰å‹åˆ—è¡¨"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1736256-d448c89177176b7e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="STM8L101F3P6"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1736256-37063209962e156c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="åŸç†å›¾"></p>
]]></content>
      <tags>
        <tag>ST</tag>
        <tag>STM8</tag>
      </tags>
  </entry>
  <entry>
    <title>STM32CubeIDEä½¿ç”¨ç¬”è®°</title>
    <url>/2020/08/07/e305.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="STM32æ—¶é’Ÿæº-HSI-HSE-LSI-LSE-PLL"><a href="#STM32æ—¶é’Ÿæº-HSI-HSE-LSI-LSE-PLL" class="headerlink" title="STM32æ—¶é’Ÿæº(HSI/HSE/LSI/LSE/PLL)"></a>STM32æ—¶é’Ÿæº(HSI/HSE/LSI/LSE/PLL)</h2><ol>
<li><strong>HSI</strong> æ˜¯é«˜é€Ÿå†…éƒ¨æ—¶é’Ÿï¼ŒRCæŒ¯è¡å™¨ï¼Œé¢‘ç‡ä¸º8MHz;</li>
<li><strong>HSE</strong> æ˜¯é«˜é€Ÿå¤–éƒ¨æ—¶é’Ÿï¼Œå¯æ¥çŸ³è‹±/é™¶ç“·è°æŒ¯å™¨ï¼Œæˆ–è€…æ¥å¤–éƒ¨æ—¶é’Ÿæºï¼Œé¢‘ç‡èŒƒå›´ä¸º4MHz~16MHz</li>
<li><strong>LSI</strong> æ˜¯ä½é€Ÿå†…éƒ¨æ—¶é’Ÿï¼ŒRCæŒ¯è¡å™¨ï¼Œé¢‘ç‡ä¸º40kHz;</li>
<li><strong>LSE</strong> æ˜¯ä½é€Ÿå¤–éƒ¨æ—¶é’Ÿï¼Œæ¥é¢‘ç‡ä¸º32.768kHzçš„çŸ³è‹±æ™¶ä½“;</li>
<li><strong>PLL</strong> ä¸ºé”ç›¸ç¯å€é¢‘è¾“å‡ºï¼Œå…¶æ—¶é’Ÿè¾“å…¥æºå¯é€‰æ‹©ä¸ºHSI/2ã€HSEæˆ–è€…HSE/2ã€‚å€é¢‘å¯é€‰æ‹©ä¸º2~16å€ï¼Œä½†æ˜¯å…¶è¾“å‡ºé¢‘ç‡æœ€å¤§ä¸å¾—è¶…è¿‡72MHzã€‚</li>
</ol>
<blockquote>
<p><strong>æ³¨æ„:</strong><br>å…¶ä¸­40kHzçš„LSI(ä½é€Ÿå†…éƒ¨æ—¶é’Ÿ)ä¾›ç‹¬ç«‹çœ‹é—¨ç‹—IWDGä½¿ç”¨ï¼Œå¦å¤–å®ƒè¿˜å¯ä»¥è¢«é€‰æ‹©ä¸ºå®æ—¶æ—¶é’ŸRTCçš„æ—¶é’Ÿæºã€‚å¦å¤–ï¼Œå®æ—¶æ—¶é’ŸRTCçš„æ—¶é’Ÿæºè¿˜å¯ä»¥é€‰æ‹©LSE(ä½é€Ÿå¤–éƒ¨æ—¶é’Ÿ)ï¼Œæˆ–è€…æ˜¯HSE(é«˜é€Ÿå¤–éƒ¨æ—¶é’Ÿ)çš„128åˆ†é¢‘ã€‚RTCçš„æ—¶é’Ÿæºé€šè¿‡RTCSEL[1:0]æ¥é€‰æ‹©ã€‚</p>
</blockquote>
<h3 id="SYSCLKæ—¶é’Ÿ"><a href="#SYSCLKæ—¶é’Ÿ" class="headerlink" title="SYSCLKæ—¶é’Ÿ"></a>SYSCLKæ—¶é’Ÿ</h3><blockquote>
<p><strong>SYSCLK</strong>ç³»ç»Ÿæ—¶é’Ÿæœ€å¤§é¢‘ç‡ä¸º72MHzï¼Œå®ƒæ˜¯ä¾›STM32ä¸­ç»å¤§éƒ¨åˆ†éƒ¨ä»¶å·¥ä½œçš„æ—¶é’Ÿæº;</p>
</blockquote>
<ol>
<li>é€ç»™AHBæ€»çº¿ã€å†…æ ¸ã€å†…å­˜å’ŒDMAä½¿ç”¨çš„HCLKæ—¶é’Ÿï¼›</li>
<li>åˆ†é¢‘åé€ç»™STM32èŠ¯ç‰‡çš„ç³»ç»Ÿå®šæ—¶å™¨æ—¶é’Ÿï¼ˆ<code>Systick=Sysclk/8=9Mhz</code>ï¼‰ï¼Œç›´æ¥è°ƒç”¨  <code>void sysTickTimerInit ( void )</code>  é€‰æ‹©æ—¶é’Ÿæº <code>SysTick_CLKSourceConfig ( SysTick_CLKSource_HCLK_Div8 )</code>   å³å¯ä½¿èƒ½ï¼›</li>
<li>ç›´æ¥é€ç»™Cortexçš„è‡ªç”±è¿è¡Œæ—¶é’Ÿ(free running clock)FCLKã€‚ã€<strong>æ³¨ï¼š</strong>FCLK ä¸ºå¤„ç†å™¨çš„è‡ªç”±æŒ¯è¡çš„å¤„ç†å™¨æ—¶é’Ÿï¼Œç”¨æ¥é‡‡æ ·ä¸­æ–­å’Œä¸ºè°ƒè¯•æ¨¡å—è®¡æ—¶ã€‚åœ¨å¤„ç†å™¨ä¼‘çœ æ—¶ï¼Œé€šè¿‡FCLK ä¿è¯å¯ä»¥é‡‡æ ·åˆ°ä¸­æ–­å’Œè·Ÿè¸ªä¼‘çœ äº‹ä»¶ã€‚ Cortex-M3å†…æ ¸çš„â€œè‡ªç”±è¿è¡Œæ—¶é’Ÿ(free running clock)â€FCLKã€‚<strong>â€œè‡ªç”±â€</strong>è¡¨ç°åœ¨å®ƒä¸æ¥è‡ªç³»ç»Ÿæ—¶é’ŸHCLKï¼Œå› æ­¤åœ¨ç³»ç»Ÿæ—¶é’Ÿåœæ­¢æ—¶FCLK ä¹Ÿç»§ç»­è¿è¡Œã€‚FCLKå’ŒHCLK äº’ç›¸åŒæ­¥ã€‚FCLK æ˜¯ä¸€ä¸ªè‡ªç”±æŒ¯è¡çš„HCLKã€‚FCLK å’ŒHCLK åº”è¯¥äº’ç›¸å¹³è¡¡ï¼Œä¿è¯è¿›å…¥Cortex-M3 æ—¶çš„å»¶è¿Ÿç›¸åŒã€‚ã€‘ï¼›</li>
<li>é€ç»™APB1åˆ†é¢‘å™¨ã€‚APB1åˆ†é¢‘å™¨å¯é€‰æ‹©1ã€2ã€4ã€8ã€16åˆ†é¢‘ï¼Œå…¶è¾“å‡ºä¸€è·¯ä¾›APB1å¤–è®¾ä½¿ç”¨(PCLK1ï¼Œæœ€å¤§é¢‘ç‡36MHz)ï¼Œå¦ä¸€è·¯é€ç»™å®šæ—¶å™¨(Timer)2ã€3ã€4å€é¢‘å™¨ä½¿ç”¨ã€‚è¯¥å€é¢‘å™¨å¯é€‰æ‹©1æˆ–è€…2å€é¢‘ï¼Œæ—¶é’Ÿè¾“å‡ºä¾›å®šæ—¶å™¨2ã€3ã€4ä½¿ç”¨ï¼›</li>
<li>é€ç»™APB2åˆ†é¢‘å™¨ã€‚APB2åˆ†é¢‘å™¨å¯é€‰æ‹©1ã€2ã€4ã€8ã€16åˆ†é¢‘ï¼Œ å…¶è¾“å‡ºä¸€è·¯ä¾›APB2å¤–è®¾ä½¿ç”¨(PCLK2ï¼Œæœ€å¤§é¢‘ç‡72MHz)ï¼Œå¦ä¸€è·¯é€ç»™å®šæ—¶å™¨(Timer)1å€é¢‘å™¨ä½¿ç”¨ã€‚è¯¥å€é¢‘å™¨å¯é€‰æ‹©1æˆ–è€…2å€é¢‘ï¼Œæ—¶é’Ÿè¾“å‡º ä¾›å®šæ—¶å™¨1ä½¿ç”¨ã€‚å¦å¤–ï¼ŒAPB2åˆ†é¢‘å™¨è¿˜æœ‰ä¸€è·¯è¾“å‡ºä¾›ADCåˆ†é¢‘å™¨ä½¿ç”¨ï¼Œåˆ†é¢‘åé€ç»™ADCæ¨¡å—ä½¿ç”¨ã€‚ADCåˆ†é¢‘å™¨å¯é€‰æ‹©ä¸º2ã€4ã€6ã€8åˆ†é¢‘ï¼›</li>
</ol>
<p><strong>å¤‡æ³¨:</strong></p>
<ul>
<li>FCLKä¸ºä¾›ç»™CPUå†…æ ¸çš„æ—¶é’Ÿä¿¡å·ï¼Œæˆ‘ä»¬æ‰€è¯´çš„cpuä¸»é¢‘ä¸ºXXXXMHzï¼Œå°±æ˜¯æŒ‡çš„è¿™ä¸ªæ—¶é’Ÿä¿¡å·ï¼Œç›¸åº”çš„ï¼Œ1/Fclkå³ä¸ºcpuæ—¶é’Ÿå‘¨æœŸ</li>
<li>HCLKä¸ºä¼˜ç§€çš„é«˜æ€§èƒ½æ€»çº¿ï¼ˆAHB bus peripheralsï¼‰ä¾›ç»™æ—¶é’Ÿä¿¡å·ï¼ˆAHBä¸ºadvanced high-performance busï¼‰ï¼›HCLK ï¼šAHBæ€»çº¿æ—¶é’Ÿï¼Œç”±ç³»ç»Ÿæ—¶é’ŸSYSCLK åˆ†é¢‘å¾—åˆ°ï¼Œä¸€èˆ¬ä¸åˆ†é¢‘ï¼Œç­‰äºç³»ç»Ÿæ—¶é’Ÿï¼ŒHCLKæ˜¯é«˜é€Ÿå¤–è®¾æ—¶é’Ÿï¼Œæ˜¯<strong>ç»™å¤–éƒ¨è®¾å¤‡çš„ï¼Œæ¯”å¦‚å†…å­˜ï¼Œflash</strong>ã€‚</li>
<li>PCLKä¸ºä¼˜ç§€çš„é«˜æ€§èƒ½å¤–è®¾æ€»çº¿ï¼ˆAPB bus peripheralsï¼‰ä¾›ç»™æ—¶é’Ÿä¿¡å·ï¼ˆå…¶ä¸­APBä¸ºadvanced peripherals busï¼‰ï¼›</li>
</ul>
<h2 id="æ€»çº¿â€”APBå’ŒAHB"><a href="#æ€»çº¿â€”APBå’ŒAHB" class="headerlink" title="æ€»çº¿â€”APBå’ŒAHB"></a>æ€»çº¿â€”APBå’ŒAHB</h2><ul>
<li><strong>APB</strong> Advanced Peripheral Busçš„ç¼©å†™ï¼Œè¿™æ˜¯ä¸€ç§å¤–å›´æ€»çº¿ï¼›</li>
</ul>
<h3 id="APB1æ€»çº¿å¤–è®¾"><a href="#APB1æ€»çº¿å¤–è®¾" class="headerlink" title="APB1æ€»çº¿å¤–è®¾"></a>APB1æ€»çº¿å¤–è®¾</h3><ul>
<li>å®šæ—¶å™¨TIM2åˆ°TIM7ï¼›</li>
<li>RTCï¼›</li>
<li>WDTçœ‹é—¨ç‹—ï¼›</li>
<li>SPI2 ã€SPI3ï¼›</li>
<li>USART2ã€USART3ï¼›</li>
<li>UART4ã€UART5ï¼›</li>
<li>I2C1ï¼ŒI2C2ï¼›</li>
<li>USB./CANå…±äº«çš„512å­—èŠ‚SRAMï¼›</li>
<li>bXCAN1ã€bXCAN2ï¼›</li>
<li>åå¤‡å¯„å­˜å™¨BKPï¼›</li>
<li>ç”µæºæ§åˆ¶PWRï¼›</li>
<li>DAC</li>
</ul>
<h3 id="APB2æ€»çº¿å¤–è®¾"><a href="#APB2æ€»çº¿å¤–è®¾" class="headerlink" title="APB2æ€»çº¿å¤–è®¾"></a>APB2æ€»çº¿å¤–è®¾</h3><ul>
<li>USART1ï¼›</li>
<li>é«˜çº§æ§åˆ¶å®šæ—¶å™¨TIM1å’ŒTIM8ï¼›</li>
<li>æ¨¡æ•°è½¬æ¢å™¨ADC1ã€ADC2ã€ADC3ï¼›</li>
<li>SPI1ï¼›</li>
<li>å¤–éƒ¨ä¸­æ–­EXTIï¼›</li>
<li>å¤ç”¨IOï¼ŒAFIOï¼›</li>
<li>é€šç”¨IOï¼šGPIOA~Gï¼›</li>
</ul>
<h3 id="AHBå¤–è®¾"><a href="#AHBå¤–è®¾" class="headerlink" title="AHBå¤–è®¾"></a>AHBå¤–è®¾</h3><ul>
<li><p><strong>AHB</strong> Advanced High performance Busçš„ç¼©å†™ï¼Œè¯‘ä½œé«˜çº§é«˜æ€§èƒ½æ€»çº¿ï¼Œè¿™æ˜¯ä¸€ç§â€œç³»ç»Ÿæ€»çº¿â€ã€‚</p>
</li>
<li><p>Flash å­˜å‚¨å™¨ï¼›</p>
</li>
<li><p>DMAï¼›</p>
</li>
<li><p>å¤ä½å’Œæ—¶é’Ÿæ§åˆ¶ï¼›</p>
</li>
<li><p>CRC;</p>
</li>
<li><p>ä»¥å¤ªç½‘ï¼›</p>
</li>
<li><p>SDIOï¼›</p>
</li>
</ul>
<h3 id="ä¸²å£"><a href="#ä¸²å£" class="headerlink" title="ä¸²å£"></a>ä¸²å£</h3><ul>
<li>USART1 ä¸²å£æ¨¡å¼</li>
</ul>
<table>
<thead>
<tr>
<th align="left">æ¨¡å¼</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Sigle Wire(Half-Duplex)</td>
<td align="left">åŠåŒå·¥</td>
</tr>
<tr>
<td align="left">Asynchronous</td>
<td align="left">å¼‚æ­¥</td>
</tr>
<tr>
<td align="left">synchronous</td>
<td align="left">åŒæ­¥</td>
</tr>
<tr>
<td align="left">SmartCard</td>
<td align="left">æ™ºèƒ½å¡</td>
</tr>
<tr>
<td align="left">lrDA</td>
<td align="left">çº¢å¤–çº¿æ•°æ®åä¼š) SIR ENDEC è§„èŒƒ</td>
</tr>
<tr>
<td align="left">LIN</td>
<td align="left">æ”¯æŒå±€åŸŸäº’è¿ç½‘ç»œ</td>
</tr>
<tr>
<td align="left">Multiprocessor Communication</td>
<td align="left">å¤šæœºä¸²å£é€šä¿¡</td>
</tr>
</tbody></table>
<h2 id="CubeIDE-Debugè®¾ç½®"><a href="#CubeIDE-Debugè®¾ç½®" class="headerlink" title="CubeIDE Debugè®¾ç½®"></a>CubeIDE Debugè®¾ç½®</h2><ol>
<li>è®¾ç½®è°ƒè¯•å™¨(è¿™é‡Œä»¥ST-LINKä¸ºä¾‹å­)<br><img src="/images/pasted-108.png" alt="upload successful"></li>
<li>å‡ºç°ä»¥ä¸‹æç¤ºï¼Œéœ€è¦ä¸‹è½½å¯¹åº”çš„ST-Link Server<br><img src="/images/pasted-109.png" alt="upload successful"></li>
<li>å‡çº§ST-Link å›ºä»¶<br><img src="/images/pasted-110.png" alt="upload successful"><br><img src="/images/pasted-111.png" alt="upload successful"><br><img src="/images/pasted-112.png" alt="upload successful"></li>
<li>è®¾ç½®SW è°ƒè¯•å¼•è„šï¼Œä¸ç„¶ä¸èƒ½åœ¨çº¿è°ƒè¯•(è¿™ä¸ªç»†èŠ‚æˆ‘è¢«å‘äº†â”­â”®ï¹â”­â”®)<br><img src="/images/pasted-113.png" alt="upload successful"></li>
</ol>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="https://www.waveshare.net/study/article-629-1.html">https://www.waveshare.net/study/article-629-1.html</a></li>
</ul>
]]></content>
      <categories>
        <category>STM32</category>
      </categories>
      <tags>
        <tag>STM32</tag>
      </tags>
  </entry>
  <entry>
    <title>tcpDump</title>
    <url>/2017/07/01/154.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr>
<h2 id="Linux-æ··æ‚æ¨¡å¼è®¾ç½®"><a href="#Linux-æ··æ‚æ¨¡å¼è®¾ç½®" class="headerlink" title="Linux æ··æ‚æ¨¡å¼è®¾ç½®"></a>Linux æ··æ‚æ¨¡å¼è®¾ç½®</h2><p><strong>1. æŸ¥çœ‹ç½‘å¡æ··æ‚æ¨¡å¼çŠ¶æ€</strong></p>
<pre class=" language-SH"><code class="language-SH">alex@ubuntu:~$ ifconfig eth0

eth0      Link encap:Ethernet  HWaddr 00:0c:29:01:02:03
          inet addr:10.211.55.3  Bcast:10.211.55.255  Mask:255.255.255.0
          inet6 addr: fdb2:2c26:f4e4:0:49c8:a8e5:be6:a7f9/64 Scope:Global
          inet6 addr: fdb2:2c26:f4e4:0:20c:29ff:fe01:203/64 Scope:Global
          inet6 addr: fe80::20c:29ff:fe01:203/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:1735 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1780 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:1451555 (1.4 MB)  TX bytes:193802 (193.8 KB)</code></pre>
<a id="more"></a>

<p><strong>2. å¯åŠ¨æ··æ‚æ¨¡å¼</strong><br>ä¸»è¦æ˜¯è¿™ä¸ª:<strong>PROMISC</strong></p>
<pre class=" language-yaml"><code class="language-yaml">alex@ubuntu<span class="token punctuation">:</span>~$ sudo ifconfig eth0 promisc
alex@ubuntu<span class="token punctuation">:</span>~$ ifconfig eth0
eth0      Link encap<span class="token punctuation">:</span>Ethernet  HWaddr 00<span class="token punctuation">:</span>0c<span class="token punctuation">:</span>29<span class="token punctuation">:</span><span class="token datetime number">01:02:03</span>
          inet addr<span class="token punctuation">:</span>10.211.55.3  Bcast<span class="token punctuation">:</span>10.211.55.255  Mask<span class="token punctuation">:</span>255.255.255.0
          inet6 addr<span class="token punctuation">:</span> fdb2<span class="token punctuation">:</span>2c26<span class="token punctuation">:</span>f4e4<span class="token punctuation">:</span>0<span class="token punctuation">:</span>49c8<span class="token punctuation">:</span>a8e5<span class="token punctuation">:</span>be6<span class="token punctuation">:</span>a7f9/64 Scope<span class="token punctuation">:</span>Global
          inet6 addr<span class="token punctuation">:</span> fdb2<span class="token punctuation">:</span>2c26<span class="token punctuation">:</span>f4e4<span class="token punctuation">:</span>0<span class="token punctuation">:</span>20c<span class="token punctuation">:</span>29ff<span class="token punctuation">:</span>fe01<span class="token punctuation">:</span>203/64 Scope<span class="token punctuation">:</span>Global
          inet6 addr<span class="token punctuation">:</span> fe80<span class="token punctuation">:</span><span class="token punctuation">:</span>20c<span class="token punctuation">:</span>29ff<span class="token punctuation">:</span>fe01<span class="token punctuation">:</span>203/64 Scope<span class="token punctuation">:</span>Link
          UP BROADCAST RUNNING PROMISC MULTICAST  MTU<span class="token punctuation">:</span>1500  Metric<span class="token punctuation">:</span><span class="token number">1</span>
          RX packets<span class="token punctuation">:</span>1742 errors<span class="token punctuation">:</span>0 dropped<span class="token punctuation">:</span>0 overruns<span class="token punctuation">:</span>0 frame<span class="token punctuation">:</span><span class="token number">0</span>
          TX packets<span class="token punctuation">:</span>1782 errors<span class="token punctuation">:</span>0 dropped<span class="token punctuation">:</span>0 overruns<span class="token punctuation">:</span>0 carrier<span class="token punctuation">:</span><span class="token number">0</span>
          collisions<span class="token punctuation">:</span>0 txqueuelen<span class="token punctuation">:</span><span class="token number">1000</span>
          RX bytes<span class="token punctuation">:</span>1452336 (1.4 MB)  TX bytes<span class="token punctuation">:</span>194198 (194.1 KB)</code></pre>
<p><strong>3. å…³é—­æ··æ‚æ¨¡å¼</strong></p>
<pre class=" language-shell"><code class="language-shell">alex@ubuntu:~$ sudo ifconfig eth0 -promisc
alex@ubuntu:~$ ifconfig eth0
eth0      Link encap:Ethernet  HWaddr 00:0c:29:01:02:03
          inet addr:10.211.55.3  Bcast:10.211.55.255  Mask:255.255.255.0
          inet6 addr: fdb2:2c26:f4e4:0:49c8:a8e5:be6:a7f9/64 Scope:Global
          inet6 addr: fdb2:2c26:f4e4:0:20c:29ff:fe01:203/64 Scope:Global
          inet6 addr: fe80::20c:29ff:fe01:203/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:1766 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1796 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:1455202 (1.4 MB)  TX bytes:195410 (195.4 KB)</code></pre>
<h2 id="TcpDump"><a href="#TcpDump" class="headerlink" title="TcpDump"></a>TcpDump</h2><blockquote>
<ul>
<li>tcpdumpå­˜åœ¨äºåŸºæœ¬çš„FreeBSDç³»ç»Ÿä¸­ï¼Œç”±äºå®ƒéœ€è¦å°†ç½‘ç»œç•Œé¢è®¾ç½®ä¸ºæ··æ‚æ¨¡å¼ï¼Œæ™®é€šç”¨æˆ·ä¸èƒ½æ­£å¸¸æ‰§è¡Œï¼Œä½†å…·å¤‡rootæƒé™çš„ç”¨æˆ·å¯ä»¥ç›´æ¥æ‰§è¡Œå®ƒæ¥è·å–ç½‘ç»œä¸Šçš„ä¿¡æ¯ã€‚å› æ­¤ç³»ç»Ÿä¸­å­˜åœ¨ç½‘ç»œåˆ†æå·¥å…·ä¸»è¦ä¸æ˜¯å¯¹æœ¬æœºå®‰å…¨çš„å¨èƒï¼Œè€Œæ˜¯å¯¹ç½‘ç»œä¸Šçš„å…¶ä»–è®¡ç®—æœºçš„å®‰å…¨å­˜åœ¨å¨èƒã€‚</li>
</ul>
</blockquote>
<ul>
<li>æ˜¾ç„¶ä¸ºäº†å®‰å…¨èµ·è§ï¼Œä¸ç”¨ä½œç½‘ç»œç®¡ç†ç”¨é€”çš„è®¡ç®—æœºä¸Šä¸åº”è¯¥è¿è¡Œè¿™ä¸€ç±»çš„ç½‘ç»œåˆ†æè½¯ä»¶ï¼Œä¸ºäº†å±è”½å®ƒä»¬ï¼Œå¯ä»¥å±è”½å†…æ ¸ä¸­çš„bpfilterä¼ªè®¾å¤‡ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ç½‘ç»œç¡¬ä»¶å’ŒTCP/IPå †æ ˆä¸æ”¯æŒæ¥æ”¶æˆ–å‘é€ä¸æœ¬è®¡ç®—æœºæ— å…³çš„æ•°æ®åŒ…ï¼Œä¸ºäº†æ¥æ”¶è¿™äº›æ•°æ®åŒ…ï¼Œå°±å¿…é¡»ä½¿ç”¨ç½‘å¡çš„æ··æ‚æ¨¡å¼ï¼Œå¹¶ç»•è¿‡æ ‡å‡†çš„TCP/IPå †æ ˆæ‰è¡Œã€‚åœ¨FreeBSDä¸‹ï¼Œè¿™å°±éœ€è¦å†…æ ¸æ”¯æŒä¼ªè®¾å¤‡bpfilterã€‚å› æ­¤ï¼Œåœ¨å†…æ ¸ä¸­å–æ¶ˆbpfilteræ”¯æŒï¼Œå°±èƒ½å±è”½tcpdumpä¹‹ç±»çš„ç½‘ç»œåˆ†æå·¥å…·ã€‚</li>
<li>å¹¶ä¸”å½“ç½‘å¡è¢«è®¾ç½®ä¸ºæ··æ‚æ¨¡å¼æ—¶ï¼Œç³»ç»Ÿä¼šåœ¨æ§åˆ¶å°å’Œæ—¥å¿—æ–‡ä»¶ä¸­ç•™ä¸‹è®°å½•ï¼Œæé†’ç®¡ç†å‘˜ç•™æ„è¿™å°ç³»ç»Ÿæ˜¯å¦è¢«ç”¨ä½œæ”»å‡»åŒç½‘ç»œçš„å…¶ä»–è®¡ç®—æœºçš„è·³æ¿ã€‚<h3 id="å‘½ä»¤æ ¼å¼"><a href="#å‘½ä»¤æ ¼å¼" class="headerlink" title="å‘½ä»¤æ ¼å¼"></a>å‘½ä»¤æ ¼å¼</h3></li>
</ul>
<p>tcpdumpé‡‡ç”¨å‘½ä»¤è¡Œæ–¹å¼ï¼Œå®ƒçš„å‘½ä»¤æ ¼å¼ä¸ºï¼š<br>    tcpdump [ -adeflnNOpqStvx ] [ -c æ•°é‡ ] [ -F æ–‡ä»¶å ]<br>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€[ -i ç½‘ç»œæ¥å£ ] [ -r æ–‡ä»¶å] [ -s snaplen ]<br>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€[ -T ç±»å‹ ] [ -w æ–‡ä»¶å ] [è¡¨è¾¾å¼ ]
ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</p>
<h3 id="å‘½ä»¤å‚æ•°"><a href="#å‘½ä»¤å‚æ•°" class="headerlink" title="å‘½ä»¤å‚æ•°"></a>å‘½ä»¤å‚æ•°</h3><table>
<thead>
<tr>
<th align="left">å‘½ä»¤å­—</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-a</td>
<td align="left">å°†ç½‘ç»œåœ°å€å’Œå¹¿æ’­åœ°å€è½¬å˜æˆåå­—ï¼›</td>
</tr>
<tr>
<td align="left">-d</td>
<td align="left">å°†åŒ¹é…ä¿¡æ¯åŒ…çš„ä»£ç ä»¥äººä»¬èƒ½å¤Ÿç†è§£çš„æ±‡ç¼–æ ¼å¼ç»™å‡ºï¼›</td>
</tr>
<tr>
<td align="left">-dd</td>
<td align="left">å°†åŒ¹é…ä¿¡æ¯åŒ…çš„ä»£ç ä»¥cè¯­è¨€ç¨‹åºæ®µçš„æ ¼å¼ç»™å‡ºï¼›</td>
</tr>
<tr>
<td align="left">-ddd</td>
<td align="left">å°†åŒ¹é…ä¿¡æ¯åŒ…çš„ä»£ç ä»¥åè¿›åˆ¶çš„å½¢å¼ç»™å‡ºï¼›</td>
</tr>
<tr>
<td align="left">-e</td>
<td align="left">åœ¨è¾“å‡ºè¡Œæ‰“å°å‡ºæ•°æ®é“¾è·¯å±‚çš„å¤´éƒ¨ä¿¡æ¯ï¼›</td>
</tr>
<tr>
<td align="left">-f</td>
<td align="left">å°†å¤–éƒ¨çš„Internetåœ°å€ä»¥æ•°å­—çš„å½¢å¼æ‰“å°å‡ºæ¥ï¼›</td>
</tr>
<tr>
<td align="left">-l</td>
<td align="left">ä½¿æ ‡å‡†è¾“å‡ºå˜ä¸ºç¼“å†²è¡Œå½¢å¼ï¼›</td>
</tr>
<tr>
<td align="left">-n</td>
<td align="left">ä¸æŠŠç½‘ç»œåœ°å€è½¬æ¢æˆåå­—ï¼›</td>
</tr>
<tr>
<td align="left">-t</td>
<td align="left">åœ¨è¾“å‡ºçš„æ¯ä¸€è¡Œä¸æ‰“å°æ—¶é—´æˆ³ï¼›</td>
</tr>
<tr>
<td align="left">-v</td>
<td align="left">è¾“å‡ºä¸€ä¸ªç¨å¾®è¯¦ç»†çš„ä¿¡æ¯ï¼Œä¾‹å¦‚åœ¨ipåŒ…ä¸­å¯ä»¥åŒ…æ‹¬ttlå’ŒæœåŠ¡ç±»å‹çš„ä¿¡æ¯ï¼›</td>
</tr>
<tr>
<td align="left">-vv</td>
<td align="left">è¾“å‡ºè¯¦ç»†çš„æŠ¥æ–‡ä¿¡æ¯ï¼›</td>
</tr>
<tr>
<td align="left">-c</td>
<td align="left">åœ¨æ”¶åˆ°æŒ‡å®šçš„åŒ…çš„æ•°ç›®åï¼Œtcpdumpå°±ä¼šåœæ­¢ï¼›</td>
</tr>
<tr>
<td align="left">-F</td>
<td align="left">ä»æŒ‡å®šçš„æ–‡ä»¶ä¸­è¯»å–è¡¨è¾¾å¼,å¿½ç•¥å…¶å®ƒçš„è¡¨è¾¾å¼ï¼›</td>
</tr>
<tr>
<td align="left">-i</td>
<td align="left">æŒ‡å®šç›‘å¬çš„ç½‘ç»œæ¥å£ï¼›</td>
</tr>
<tr>
<td align="left">-r</td>
<td align="left">ä»æŒ‡å®šçš„æ–‡ä»¶ä¸­è¯»å–åŒ…(è¿™äº›åŒ…ä¸€èˆ¬é€šè¿‡-wé€‰é¡¹äº§ç”Ÿ)ï¼›</td>
</tr>
<tr>
<td align="left">-w</td>
<td align="left">ç›´æ¥å°†åŒ…å†™å…¥æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸åˆ†æå’Œæ‰“å°å‡ºæ¥ï¼›</td>
</tr>
<tr>
<td align="left">-T</td>
<td align="left">å°†ç›‘å¬åˆ°çš„åŒ…ç›´æ¥è§£é‡Šä¸ºæŒ‡å®šçš„ç±»å‹çš„æŠ¥æ–‡ï¼Œå¸¸è§çš„ç±»å‹æœ‰rpc ï¼ˆè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰å’Œsnmpï¼ˆç®€å•ç½‘ç»œç®¡ç†åè®®ï¼›ï¼‰</td>
</tr>
<tr>
<td align="left">-x</td>
<td align="left">ç”¨ hex æ˜¾ç¤ºæŠ¥æ–‡çš„å†…å®¹</td>
</tr>
<tr>
<td align="left">-X</td>
<td align="left">åŒæ—¶ç”¨ hex å’Œ ascii æ˜¾ç¤ºæŠ¥æ–‡çš„å†…å®¹</td>
</tr>
<tr>
<td align="left">-XX</td>
<td align="left">åŒ -Xï¼Œä½†åŒæ—¶æ˜¾ç¤ºä»¥å¤ªç½‘å¤´éƒ¨</td>
</tr>
<tr>
<td align="left">-A</td>
<td align="left">åªä½¿ç”¨ ascii æ‰“å°æŠ¥æ–‡çš„å…¨éƒ¨æ•°æ®ï¼Œä¸è¦å’Œ -X ä¸€èµ·ä½¿ç”¨</td>
</tr>
<tr>
<td align="left">port xxx</td>
<td align="left">æŒ‡å®šç«¯å£xxx</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<h3 id="tcpdumpçš„è¡¨è¾¾å¼ä»‹ç»"><a href="#tcpdumpçš„è¡¨è¾¾å¼ä»‹ç»" class="headerlink" title="tcpdumpçš„è¡¨è¾¾å¼ä»‹ç»"></a>tcpdumpçš„è¡¨è¾¾å¼ä»‹ç»</h3><blockquote>
<p>è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œtcpdumpåˆ©ç”¨å®ƒä½œä¸ºè¿‡æ»¤æŠ¥æ–‡çš„æ¡ä»¶ï¼Œå¦‚æœä¸€ä¸ªæŠ¥æ–‡æ»¡è¶³è¡¨è¾¾å¼çš„æ¡ä»¶ï¼Œåˆ™è¿™ä¸ªæŠ¥æ–‡å°†ä¼šè¢«æ•è·ã€‚å¦‚æœæ²¡æœ‰ç»™å‡ºä»»ä½•æ¡ä»¶ï¼Œåˆ™ç½‘ç»œä¸Šæ‰€æœ‰çš„ä¿¡æ¯åŒ…å°†ä¼šè¢«æˆªè·ã€‚åœ¨è¡¨è¾¾å¼ä¸­ä¸€èˆ¬å¦‚ä¸‹å‡ ç§ç±»å‹çš„å…³é”®å­—ã€‚</p>
</blockquote>
<h4 id="ç¬¬ä¸€ç§æ˜¯å…³äºç±»å‹çš„å…³é”®å­—"><a href="#ç¬¬ä¸€ç§æ˜¯å…³äºç±»å‹çš„å…³é”®å­—" class="headerlink" title="ç¬¬ä¸€ç§æ˜¯å…³äºç±»å‹çš„å…³é”®å­—"></a>ç¬¬ä¸€ç§æ˜¯å…³äºç±»å‹çš„å…³é”®å­—</h4><p>ä¸»è¦åŒ…æ‹¬hostï¼Œnetï¼Œport, ä¾‹å¦‚ host 210.27.48.2ï¼ŒæŒ‡æ˜210.27.48.2æ˜¯ä¸€å°ä¸»æœºï¼Œnet 202.0.0.0 æŒ‡æ˜ 202.0.0.0æ˜¯ä¸€ä¸ªç½‘ç»œåœ°å€ï¼Œport 23æŒ‡æ˜ç«¯å£å·æ˜¯23ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šç±»å‹ï¼Œç¼ºçœçš„ç±»å‹æ˜¯host.</p>
<h4 id="ç¬¬äºŒç§æ˜¯ç¡®å®šä¼ è¾“æ–¹å‘çš„å…³é”®å­—"><a href="#ç¬¬äºŒç§æ˜¯ç¡®å®šä¼ è¾“æ–¹å‘çš„å…³é”®å­—" class="headerlink" title="ç¬¬äºŒç§æ˜¯ç¡®å®šä¼ è¾“æ–¹å‘çš„å…³é”®å­—"></a>ç¬¬äºŒç§æ˜¯ç¡®å®šä¼ è¾“æ–¹å‘çš„å…³é”®å­—</h4><p>ä¸»è¦åŒ…æ‹¬src , dst ,dst or src, dst and src,è¿™äº›å…³é”®å­—æŒ‡æ˜äº†ä¼ è¾“çš„æ–¹å‘ã€‚ä¸¾ä¾‹è¯´æ˜ï¼Œsrc 210.27.48.2 ,æŒ‡æ˜ipåŒ…ä¸­æºåœ°å€æ˜¯210.27.48.2 , dst net202.0.0.0 æŒ‡æ˜ç›®çš„ç½‘ç»œåœ°å€æ˜¯202.0.0.0 ã€‚å¦‚æœæ²¡æœ‰æŒ‡æ˜æ–¹å‘å…³é”®å­—ï¼Œåˆ™ç¼ºçœæ˜¯src or dstå…³é”®å­—ã€‚</p>
<h4 id="ç¬¬ä¸‰ç§æ˜¯åè®®çš„å…³é”®å­—"><a href="#ç¬¬ä¸‰ç§æ˜¯åè®®çš„å…³é”®å­—" class="headerlink" title="ç¬¬ä¸‰ç§æ˜¯åè®®çš„å…³é”®å­—"></a>ç¬¬ä¸‰ç§æ˜¯åè®®çš„å…³é”®å­—</h4><p>ä¸»è¦åŒ…æ‹¬fddi,ip,arp,rarp,tcp,udpç­‰ç±»å‹ã€‚FddiæŒ‡æ˜æ˜¯åœ¨FDDI(åˆ†å¸ƒå¼å…‰çº¤æ•°æ®æ¥å£ç½‘ç»œ)ä¸Šçš„ç‰¹å®šçš„ç½‘ç»œåè®®ï¼Œå®é™…ä¸Šå®ƒæ˜¯â€etherâ€çš„åˆ«åï¼Œfddiå’Œetherå…·æœ‰ç±»ä¼¼çš„æºåœ°å€å’Œç›®çš„åœ°å€ï¼Œæ‰€ä»¥å¯ä»¥å°†fddiåè®®åŒ…å½“ä½œetherçš„åŒ…è¿›è¡Œå¤„ç†å’Œåˆ†æã€‚å…¶ä»–çš„å‡ ä¸ªå…³é”®å­—å°±æ˜¯æŒ‡æ˜äº†ç›‘å¬çš„åŒ…çš„åè®®å†…å®¹ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šä»»ä½•åè®®ï¼Œåˆ™tcpdumpå°†ä¼šç›‘å¬æ‰€æœ‰åè®®çš„ä¿¡æ¯åŒ…ã€‚</p>
<h4 id="å…¶ä»–å…³é”®å­—"><a href="#å…¶ä»–å…³é”®å­—" class="headerlink" title="å…¶ä»–å…³é”®å­—"></a>å…¶ä»–å…³é”®å­—</h4><p>é™¤äº†è¿™ä¸‰ç§ç±»å‹çš„å…³é”®å­—ä¹‹å¤–ï¼Œå…¶ä»–é‡è¦çš„å…³é”®å­—å¦‚ä¸‹ï¼šgateway,broadcast,less,greater,è¿˜æœ‰ä¸‰ç§é€»è¾‘è¿ç®—ï¼Œå–éè¿ç®—æ˜¯ â€˜not â€˜ â€˜! â€˜,ä¸è¿ç®—æ˜¯â€™andâ€™,â€™&amp;&amp;â€™;æˆ–è¿ç®— æ˜¯â€™orâ€™,â€™â”‚â”‚â€™ï¼›è¿™äº›å…³é”®å­—å¯ä»¥ç»„åˆèµ·æ¥æ„æˆå¼ºå¤§çš„ç»„åˆæ¡ä»¶æ¥æ»¡è¶³äººä»¬çš„éœ€è¦ï¼Œä¸‹é¢ä¸¾å‡ ä¸ªä¾‹å­æ¥è¯´æ˜ã€‚</p>
<ul>
<li><p>Aæƒ³è¦æˆªè·æ‰€æœ‰210.27.48.1 çš„ä¸»æœºæ”¶åˆ°çš„å’Œå‘å‡ºçš„æ‰€æœ‰çš„æ•°æ®åŒ…ï¼š</p>
<pre><code>#tcpdump host 210.27.48.1</code></pre>
</li>
<li><p>Bæƒ³è¦æˆªè·ä¸»æœº210.27.48.1 å’Œä¸»æœº210.27.48.2 æˆ–210.27.48.3çš„é€šä¿¡ï¼Œä½¿ç”¨å‘½ä»¤ï¼š(åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨æ‹¬å·æ—¶ï¼Œä¸€å®šè¦æ·»åŠ â€™&#39;)</p>
<pre><code>#tcpdump host 210.27.48.1 and \ (210.27.48.2 or 210.27.48.3 \)</code></pre>
</li>
<li><p>Cå¦‚æœæƒ³è¦è·å–ä¸»æœº210.27.48.1é™¤äº†å’Œä¸»æœº210.27.48.2ä¹‹å¤–æ‰€æœ‰ä¸»æœºé€šä¿¡çš„ipåŒ…ï¼Œä½¿ç”¨å‘½ä»¤ï¼š</p>
<pre><code>#tcpdump ip host 210.27.48.1 and ! 210.27.48.2</code></pre>
</li>
<li><p>Då¦‚æœæƒ³è¦è·å–ä¸»æœº210.27.48.1æ¥æ”¶æˆ–å‘å‡ºçš„telnetåŒ…ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<pre><code>#tcpdump tcp port 23 host 210.27.48.1</code></pre>
</li>
<li><p>E å¯¹æœ¬æœºçš„udp 123 ç«¯å£è¿›è¡Œç›‘è§† 123 ä¸ºntpçš„æœåŠ¡ç«¯å£</p>
<pre><code># tcpdump udp port 123</code></pre>
</li>
<li><p>F ç³»ç»Ÿå°†åªå¯¹åä¸ºhostnameçš„ä¸»æœºçš„é€šä¿¡æ•°æ®åŒ…è¿›è¡Œç›‘è§†ã€‚ä¸»æœºåå¯ä»¥æ˜¯æœ¬åœ°ä¸»æœºï¼Œä¹Ÿå¯ä»¥æ˜¯ç½‘ç»œä¸Šçš„ä»»ä½•ä¸€å°è®¡ç®—æœºã€‚ä¸‹é¢çš„å‘½ä»¤å¯ä»¥è¯»å–ä¸»æœºhostnameå‘é€çš„æ‰€æœ‰æ•°æ®ï¼š</p>
<pre><code>#tcpdump -i eth0 src host hostname</code></pre>
</li>
<li><p>G ä¸‹é¢çš„å‘½ä»¤å¯ä»¥ç›‘è§†æ‰€æœ‰é€åˆ°ä¸»æœºhostnameçš„æ•°æ®åŒ…ï¼š</p>
<pre><code>#tcpdump -i eth0 dst host hostname</code></pre>
</li>
<li><p>H æˆ‘ä»¬è¿˜å¯ä»¥ç›‘è§†é€šè¿‡æŒ‡å®šç½‘å…³çš„æ•°æ®åŒ…ï¼š</p>
<pre><code>#tcpdump -i eth0 gateway Gatewayname</code></pre>
</li>
<li><p>I å¦‚æœä½ è¿˜æƒ³ç›‘è§†ç¼–å€åˆ°æŒ‡å®šç«¯å£çš„TCPæˆ–UDPæ•°æ®åŒ…ï¼Œé‚£ä¹ˆæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code>#tcpdump -i eth0 host hostname and port 80</code></pre>
</li>
<li><p>J å¦‚æœæƒ³è¦è·å–ä¸»æœº210.27.48.1é™¤äº†å’Œä¸»æœº210.27.48.2ä¹‹å¤–æ‰€æœ‰ä¸»æœºé€šä¿¡çš„ipåŒ…ï¼Œä½¿ç”¨å‘½ä»¤ï¼š</p>
<pre><code>#tcpdump ip host 210.27.48.1 and ! 210.27.48.2</code></pre>
</li>
<li><p>K æƒ³è¦æˆªè·ä¸»æœº210.27.48.1 å’Œä¸»æœº210.27.48.2 æˆ–210.27.48.3çš„é€šä¿¡ï¼Œä½¿ç”¨å‘½ä»¤ï¼š</p>
<pre><code>#tcpdump host 210.27.48.1 and \ (210.27.48.2 or 210.27.48.3 \)</code></pre>
</li>
<li><p>L å¦‚æœæƒ³è¦è·å–ä¸»æœº210.27.48.1é™¤äº†å’Œä¸»æœº210.27.48.2ä¹‹å¤–æ‰€æœ‰ä¸»æœºé€šä¿¡çš„ipåŒ…ï¼Œä½¿ç”¨å‘½ä»¤ï¼š</p>
<pre><code>#tcpdump ip host 210.27.48.1 and ! 210.27.48.2</code></pre>
</li>
<li><p>M å¦‚æœæƒ³è¦è·å–ä¸»æœº210.27.48.1æ¥æ”¶æˆ–å‘å‡ºçš„telnetåŒ…ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<pre><code>#tcpdump tcp port 23 host 210.27.48.1</code></pre>
</li>
</ul>
<h3 id="tcpdumpçš„è¾“å‡ºç»“æœä»‹ç»"><a href="#tcpdumpçš„è¾“å‡ºç»“æœä»‹ç»" class="headerlink" title="tcpdumpçš„è¾“å‡ºç»“æœä»‹ç»"></a>tcpdumpçš„è¾“å‡ºç»“æœä»‹ç»</h3><p>ä¸‹é¢æˆ‘ä»¬ä»‹ç»å‡ ç§å…¸å‹çš„tcpdumpå‘½ä»¤çš„è¾“å‡ºä¿¡æ¯</p>
<ul>
<li><p>A,æ•°æ®é“¾è·¯å±‚å¤´ä¿¡æ¯<br>ä½¿ç”¨å‘½ä»¤:</p>
<pre><code>#tcpdump --e host ice</code></pre>
<p>ice æ˜¯ä¸€å°è£…æœ‰linuxçš„ä¸»æœºï¼Œå¥¹çš„MACåœ°å€æ˜¯0ï¼š90ï¼š27ï¼š58ï¼šAFï¼š1Aï¼›<br>H219æ˜¯ä¸€å°è£…æœ‰SOLARICçš„SUNå·¥ä½œç«™ï¼Œå®ƒçš„MACåœ°å€æ˜¯8ï¼š0ï¼š20ï¼š79ï¼š5Bï¼š46ï¼›<br>ä¸Šä¸€æ¡å‘½ä»¤çš„è¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code>21:50:12.847509 eth0 &lt; 8:0:20:79:5b:46 0:90:27:58:af:1a ip 60: h219.33357 &gt; ice.telne
t 0:0(0) ack 22535 win 8760 (DF)</code></pre>
<p>  åˆ†æï¼š21ï¼š50ï¼š12æ˜¯æ˜¾ç¤ºçš„æ—¶é—´ï¼Œ 847509æ˜¯IDå·ï¼Œeth0 &lt;è¡¨ç¤ºä»ç½‘ç»œæ¥å£eth0 æ¥å—è¯¥æ•°æ®åŒ…ï¼Œeth0&gt;è¡¨ç¤ºä»ç½‘ç»œæ¥å£è®¾å¤‡å‘é€æ•°æ®åŒ…, 8:0:20:79:5b:46æ˜¯ä¸»æœºH219çš„MACåœ°å€,å®ƒè¡¨æ˜æ˜¯ä»æºåœ°å€H219å‘æ¥çš„æ•°æ®åŒ….0:90:27:58:af:1aæ˜¯ä¸»æœºICEçš„MACåœ°å€,è¡¨ç¤ºè¯¥æ•°æ®åŒ…çš„ç›®çš„åœ°å€æ˜¯ICE . ip æ˜¯è¡¨æ˜è¯¥æ•°æ®åŒ…æ˜¯IPæ•°æ®åŒ…,60æ˜¯æ•°æ®åŒ…çš„é•¿åº¦, h219.33357 &gt; ice.telnetè¡¨æ˜è¯¥æ•°æ®åŒ…æ˜¯ä»ä¸»æœºH219çš„33357ç«¯å£å‘å¾€ä¸»æœºICEçš„TELNET(23)ç«¯å£. ack 22535è¡¨æ˜å¯¹åºåˆ—å·æ˜¯222535çš„åŒ…è¿›è¡Œå“åº”. win 8760è¡¨æ˜å‘é€çª—å£çš„å¤§å°æ˜¯8760.</p>
</li>
<li><p>B,ARPåŒ…çš„TCPDUMPè¾“å‡ºä¿¡æ¯</p>
</li>
</ul>
<p>ä½¿ç”¨å‘½ä»¤:</p>
<pre><code>#tcpdump arp</code></pre>
<p>å¾—åˆ°çš„è¾“å‡ºç»“æœæ˜¯ï¼š</p>
<pre><code>22:32:42.802509 eth0 &gt; arp who-has route tell ice (0:90:27:58:af:1a)
22:32:42.802902 eth0 &lt; arp reply route is-at 0:90:27:12:10:66 (0:90:27:58:af:1a)</code></pre>
<pre><code>åˆ†æ: 22:32:42æ˜¯æ—¶é—´æˆ³, 802509æ˜¯IDå·, eth0 &gt;è¡¨æ˜ä»ä¸»æœºå‘å‡ºè¯¥æ•°æ®åŒ…, arpè¡¨æ˜æ˜¯ARPè¯·æ±‚åŒ…,who-has route tell iceè¡¨æ˜æ˜¯ä¸»æœºICEè¯·æ±‚ä¸»æœºROUTEçš„MACåœ°å€ã€‚0:90:27:58:af:1aæ˜¯ä¸»æœºICEçš„MACåœ°å€ã€‚</code></pre>
<ul>
<li>C,TCPåŒ…çš„è¾“å‡ºä¿¡æ¯</li>
</ul>
<p>ç”¨TCPDUMPæ•è·çš„TCPåŒ…çš„ä¸€èˆ¬è¾“å‡ºä¿¡æ¯æ˜¯ï¼š</p>
<pre><code>src &gt; dst: flags data-seqno ack window urgent options</code></pre>
<pre><code>src&gt; dst:è¡¨æ˜ä»æºåœ°å€åˆ°ç›®çš„åœ°å€, flagsæ˜¯TCPåŒ…ä¸­çš„æ ‡å¿—ä¿¡æ¯,S æ˜¯SYNæ ‡å¿—, F (FIN), P (PUSH) , R(RST) &quot;.&quot; (æ²¡æœ‰æ ‡è®°); data-seqnoæ˜¯æ•°æ®åŒ…ä¸­çš„æ•°æ®çš„é¡ºåºå·, ackæ˜¯ä¸‹æ¬¡æœŸæœ›çš„é¡ºåºå·,windowæ˜¯æ¥æ”¶ç¼“å­˜çš„çª—å£å¤§å°, urgentè¡¨æ˜æ•°æ®åŒ…ä¸­æ˜¯å¦æœ‰ç´§æ€¥æŒ‡é’ˆ. Optionsæ˜¯é€‰é¡¹.</code></pre>
<ul>
<li>D,UDPåŒ…çš„è¾“å‡ºä¿¡æ¯</li>
</ul>
<p>ç”¨TCPDUMPæ•è·çš„UDPåŒ…çš„ä¸€èˆ¬è¾“å‡ºä¿¡æ¯æ˜¯ï¼š</p>
<pre><code>route.port1 &gt; ice.port2: udp lenth</code></pre>
<pre><code>UDPååˆ†ç®€å•ï¼Œä¸Šé¢çš„è¾“å‡ºè¡Œè¡¨æ˜ä»ä¸»æœºROUTEçš„port1ç«¯å£å‘å‡ºçš„ä¸€ä¸ªUDPæ•°æ®åŒ…åˆ°ä¸»æœºICEçš„port2ç«¯å£ï¼Œç±»å‹æ˜¯UDPï¼Œ åŒ…çš„é•¿åº¦æ˜¯lenth</code></pre>
<h3 id="è¾…åŠ©å·¥å…·"><a href="#è¾…åŠ©å·¥å…·" class="headerlink" title="è¾…åŠ©å·¥å…·"></a>è¾…åŠ©å·¥å…·</h3><ul>
<li><p>æƒ³æŸ¥çœ‹TCPæˆ–è€…UDPç«¯å£ä½¿ç”¨æƒ…å†µï¼Œä½¿ç”¨</p>
<pre><code>#netstat -anp</code></pre>
</li>
<li><p>å¦‚æœæœ‰äº›è¿›ç¨‹çœ‹ä¸è§ï¼Œå¦‚åªæ˜¾ç¤ºâ€-â€ï¼Œå¯ä»¥å°è¯•</p>
<pre><code>#sudo netstat -anp</code></pre>
</li>
<li><p>å¦‚æœæƒ³çœ‹æŸä¸ªç«¯å£çš„ä¿¡æ¯ï¼Œä½¿ç”¨lsofå‘½ä»¤ï¼Œå¦‚ï¼š</p>
<pre><code>#sudo lsof -i :631</code></pre>
</li>
</ul>
<pre><code>-bash-3.00# netstat -tln</code></pre>
<pre><code>netstat -tln #å‘½ä»¤æ˜¯ç”¨æ¥æŸ¥çœ‹linuxçš„ç«¯å£ä½¿ç”¨æƒ…å†µ</code></pre>
<ul>
<li>å¯åŠ¨ftpç«¯å£<pre><code># /xtc/init.d/vsftp start</code></pre>
</li>
</ul>
<p>çœ‹æ–‡ä»¶/etc/services<br>netstat</p>
<p>æŸ¥çœ‹å·²ç»è¿æ¥çš„æœåŠ¡ç«¯å£ï¼ˆESTABLISHEDï¼‰</p>
<ul>
<li><p>æŸ¥çœ‹æ‰€æœ‰çš„æœåŠ¡ç«¯å£ï¼ˆLISTENï¼ŒESTABLISHEDï¼‰</p>
<pre><code>netstat -a</code></pre>
</li>
<li><p>æŸ¥çœ‹æ‰€æœ‰ çš„æœåŠ¡ç«¯å£å¹¶æ˜¾ç¤ºå¯¹åº”çš„æœåŠ¡ç¨‹åºå</p>
<pre><code>sudo netstat -ap</code></pre>
</li>
<li><p>nmap ï¼œæ‰«æç±»å‹ï¼ï¼œæ‰«æå‚æ•°ï¼<br>ä¾‹å¦‚ï¼š</p>
<pre><code>#nmap localhost
#nmap -p 1024-65535 localhost
#nmap -PT 192.168.1.127-245</code></pre>
<p>å½“æˆ‘ä»¬ä½¿ç”¨ã€€netstat -apnã€€æŸ¥çœ‹ç½‘ç»œè¿æ¥çš„æ—¶å€™ï¼Œä¼šå‘ç°å¾ˆå¤šç±»ä¼¼ä¸‹é¢çš„å†…å®¹ï¼š</p>
<pre><code>Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program name
</code></pre>
</li>
</ul>
<p>tcp 0 52 218.104.81.152ï¼š7710 211.100.39.250ï¼š29488 ESTABLISHED 6111/1</p>
<pre><code>
æ˜¾ç¤ºè¿™å°æœåŠ¡å™¨å¼€æ”¾äº†7710ç«¯å£ï¼Œé‚£ä¹ˆ è¿™ä¸ªç«¯å£å±äºå“ªä¸ªç¨‹åºå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ã€€</code></pre>
<p>lsof -i ï¼š7710ã€€</p>
<pre><code>
å‘½ä»¤æ¥æŸ¥è¯¢ï¼š</code></pre>
<p>COMMAND PID USER FD TYPE DEVICE SIZE NODE NAME</p>
<p>sshd 1990 root 3u IPv4 4836 TCP *ï¼š7710 ï¼ˆLISTENï¼‰</p>
<pre><code>    è¿™æ ·ï¼Œæˆ‘ä»¬å°±çŸ¥é“äº†7710ç«¯å£æ˜¯å±äºsshdç¨‹åºçš„ã€‚

- è¿è¡Œtcpdumpå‘½ä»¤å‡ºç°é”™è¯¯ä¿¡æ¯æ’é™¤</code></pre>
<p>tcpdump: no suitable device found<br>tcpdump: no devices found /dev/bpf4: A file or directory in the path name does not exist.</p>
<pre><code>
è§£å†³æ–¹æ¡ˆ 2ç§åŸå› ï¼š
1.æƒé™ä¸å¤Ÿï¼Œä¸€èˆ¬ä¸ç»è¿‡å¤„ç†ï¼Œåªç”¨rootç”¨æˆ·èƒ½ä½¿ç”¨tcpdump
2.ç¼ºçœåªèƒ½åŒæ—¶ä½¿ç”¨4ä¸ªtcpdumpï¼Œå¦‚ç”¨å®Œï¼Œåˆ™æŠ¥æ­¤ç±»é”™ã€‚éœ€è¦åœæ‰å¤šä½™çš„tcpdump

### Ubuntuç³»ç»Ÿæ—¥å¿—é…ç½® /var/log/messages
1. é—®é¢˜æè¿°
ã€€ã€€ä»Šå¤©éœ€è¦æŸ¥çœ‹Ubuntuç³»ç»Ÿçš„æ—¥å¿—æ–‡ä»¶ï¼Œä½†å´æ²¡æœ‰æ‰¾åˆ°/var/log/messagesè¿™ä¸ªæ–‡ä»¶ã€‚ç½‘ä¸Šæœç´ èµ„æ–™ï¼Œè¯´æ˜¯è¦é…ç½®/etc/syslog.confã€‚syslogé‡‡ç”¨å¯é…ç½®çš„ã€ç»Ÿä¸€çš„ç³»ç»Ÿç™»è®°ç¨‹åºï¼Œéšæ—¶ä»ç³»ç»Ÿå„å¤„æ¥å—logè¯·æ±‚ï¼Œç„¶åæ ¹æ®/etc/syslog.confä¸­çš„é¢„å…ˆè®¾å®šæŠŠlogä¿¡æ¯å†™å…¥ç›¸åº”æ–‡ä»¶ä¸­ã€é‚®å¯„ç»™ç‰¹ å®šç”¨æˆ·æˆ–è€…ç›´æ¥ä»¥æ¶ˆæ¯çš„æ–¹å¼å‘å¾€æ§åˆ¶å°ã€‚

ã€€ã€€å¥½å§ï¼Œé—®é¢˜åˆæ¥äº†ã€‚ç³»ç»Ÿä¸­ä¾ç„¶æ²¡æœ‰/etc/syslog.confï¼Œç»è¿‡ä¸€ç•ªæœç´ ï¼Œæœ€åå¾—åˆ°çš„ç»“è®ºæ˜¯ï¼šåœ¨Ubuntuä¸‹å¯¹åº”çš„åº”è¯¥æ˜¯/etc/rsyslog.confå’Œrsyslogdã€‚

2. è§£å†³æ–¹æ¡ˆ
ã€€ã€€å…³äºsyslog.confæ–‡ä»¶å’Œsyslog.dä¸‹æ–‡ä»¶åŠŸèƒ½è§£é‡Šå¯ä»¥å‚è€ƒä¸‹é¢è¿™ç¯‡æ–‡ç« ï¼š
ã€€ã€€http://www.linuxidc.com/Linux/2012-03/56434.htm
ã€€ã€€é€šè¿‡æŸ¥çœ‹rsyslog.confæ–‡ä»¶ï¼Œå‘ç°æ‰€æœ‰çš„é…ç½®æ–‡ä»¶éƒ½åœ¨/etc/rsyslog.d/æ–‡ä»¶å¤¹ä¸‹ã€‚
</code></pre>
<h1 id="etc-rsyslog-conf-Configuration-file-for-rsyslog"><a href="#etc-rsyslog-conf-Configuration-file-for-rsyslog" class="headerlink" title="/etc/rsyslog.conf Configuration file for rsyslog."></a>/etc/rsyslog.conf Configuration file for rsyslog.</h1><p>#</p>
<h1 id="For-more-information-see"><a href="#For-more-information-see" class="headerlink" title="For more information see"></a>For more information see</h1><h1 id="usr-share-doc-rsyslog-doc-html-rsyslog-conf-html"><a href="#usr-share-doc-rsyslog-doc-html-rsyslog-conf-html" class="headerlink" title="/usr/share/doc/rsyslog-doc/html/rsyslog_conf.html"></a>/usr/share/doc/rsyslog-doc/html/rsyslog_conf.html</h1><p>#</p>
<h1 id="Default-logging-rules-can-be-found-in-etc-rsyslog-d-50-default-conf"><a href="#Default-logging-rules-can-be-found-in-etc-rsyslog-d-50-default-conf" class="headerlink" title="Default logging rules can be found in /etc/rsyslog.d/50-default.conf"></a>Default logging rules can be found in /etc/rsyslog.d/50-default.conf</h1><p>â€¦ â€¦<br>#</p>
<h1 id="Include-all-config-files-in-etc-rsyslog-d"><a href="#Include-all-config-files-in-etc-rsyslog-d" class="headerlink" title="Include all config files in /etc/rsyslog.d/"></a>Include all config files in /etc/rsyslog.d/</h1><p>#<br>$IncludeConfig /etc/rsyslog.d/*.conf</p>
<pre><code>
ç”¨vimæ‰“å¼€/etc/rsyslog.d/50-default.confæ–‡ä»¶å¢åŠ ä¸€è¡Œå†…å®¹å¦‚ä¸‹ï¼š
</code></pre>
<p>*.info;mail.none;authpriv.none;cron.none /var/log/messages</p>
<p>```</p>
<p><a href="http://www.cnblogs.com/yc_sunniwell/archive/2010/07/05/1771563.html">åŸæ–‡</a></p>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>æŠ“åŒ…å·¥å…·</tag>
        <tag>tcp</tag>
      </tags>
  </entry>
  <entry>
    <title>WireSharkç½‘ç»œæŠ“åŒ…</title>
    <url>/2017/07/01/dc5b.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr>
<h2 id="WireSharkå…¥é—¨"><a href="#WireSharkå…¥é—¨" class="headerlink" title="WireSharkå…¥é—¨"></a>WireSharkå…¥é—¨</h2><h3 id="ä¸€ã€-æ‰“å¼€WireShark"><a href="#ä¸€ã€-æ‰“å¼€WireShark" class="headerlink" title="ä¸€ã€ æ‰“å¼€WireShark"></a>ä¸€ã€ æ‰“å¼€WireShark</h3><p><img src="http://static.zybuluo.com/AlexLin/4224884og6inde3h2q5wcw6a/image.png" alt="WireSharkå¯åŠ¨ç•Œé¢"></p>
<a id="more"></a>
<h3 id="äºŒã€ç•Œé¢åˆ†åŒº"><a href="#äºŒã€ç•Œé¢åˆ†åŒº" class="headerlink" title="äºŒã€ç•Œé¢åˆ†åŒº"></a>äºŒã€ç•Œé¢åˆ†åŒº</h3><p><img src="http://static.zybuluo.com/AlexLin/zrfd5f3v3q3o8bjdjay8oxc1/image.png" alt="WireSharkç•Œé¢åˆ’åˆ†"></p>
<h3 id="ä¸‰ã€è¿‡æ»¤è§„åˆ™è¯­å¥"><a href="#ä¸‰ã€è¿‡æ»¤è§„åˆ™è¯­å¥" class="headerlink" title="ä¸‰ã€è¿‡æ»¤è§„åˆ™è¯­å¥"></a>ä¸‰ã€è¿‡æ»¤è§„åˆ™è¯­å¥</h3><ul>
<li><p> IP è¿‡æ»¤</p>
<pre><code>ip.src eq 192.168.1.107 or ip.dst eq 192.168.1.107
#æˆ–è€…
ip.addr eq 192.168.1.107 // éƒ½èƒ½æ˜¾ç¤ºæ¥æºIPå’Œç›®æ ‡IP</code></pre>
</li>
<li><p> è¿‡æ»¤ç«¯å£</p>
<pre><code>tcp.port eq 80 // ä¸ç®¡ç«¯å£æ˜¯æ¥æºçš„è¿˜æ˜¯ç›®æ ‡çš„éƒ½æ˜¾ç¤º
tcp.port == 80
tcp.port eq 2722
tcp.port eq 80 or udp.port eq 80
tcp.dstport == 80 // åªæ˜¾tcpåè®®çš„ç›®æ ‡ç«¯å£80
tcp.srcport == 80 // åªæ˜¾tcpåè®®çš„æ¥æºç«¯å£80
#ç«¯å£èŒƒå›´
tcp.port &gt;= 1 and tcp.port &lt;= 80</code></pre>
</li>
<li><p>åè®®è¿‡æ»¤</p>
<pre><code>tcpã€udpã€arpã€icmpã€httpã€smtpã€ftpã€dnsã€msnmsã€ipã€sslã€oicqã€bootp #ç­‰ç­‰.
#æ’é™¤
#æ’é™¤arpåŒ…
!arp  æˆ–è€…  not arp</code></pre>
</li>
<li><p>mac è¿‡æ»¤</p>
<pre><code>eth.dst == A0:00:00:04:C5:84 //è¿‡æ»¤ç›®æ ‡mac
eth.src eq A0:00:00:04:C5:84 //è¿‡æ»¤æ¥æºmac
eth.dst==A0:00:00:04:C5:84
eth.dst==A0-00-00-04-C5-84
eth.addr eq A0:00:00:04:C5:84 //è¿‡æ»¤æ¥æºMACå’Œç›®æ ‡MACéƒ½ç­‰äºA0:00:00:04:C5:84çš„MAC</code></pre>
</li>
<li><p>æ•°æ®åŒ…é•¿åº¦è¿‡æ»¤</p>
<pre><code>udp.length == 26 #è¿™ä¸ªé•¿åº¦æ˜¯æŒ‡udpæœ¬èº«å›ºå®šé•¿åº¦8åŠ ä¸Šudpä¸‹é¢é‚£å—æ•°æ®åŒ…ä¹‹å’Œ
tcp.len &gt;= 7  #æŒ‡çš„æ˜¯ipæ•°æ®åŒ…(tcpä¸‹é¢é‚£å—æ•°æ®),ä¸åŒ…æ‹¬tcpæœ¬èº«
ip.len == 94 #é™¤äº†ä»¥å¤ªç½‘å¤´å›ºå®šé•¿åº¦14,å…¶å®ƒéƒ½ç®—æ˜¯ip.len,å³ä»ipæœ¬èº«åˆ°æœ€å
frame.len == 119 #æ•´ä¸ªæ•°æ®åŒ…é•¿åº¦,ä»ethå¼€å§‹åˆ°æœ€å
#æ•°æ®åŒ…ç»„æˆæˆå‘˜
eth ---&gt; ip or arp ---&gt; tcp or udp ---&gt; data</code></pre>
</li>
<li><p>httpæ¨¡å¼è¿‡æ»¤</p>
<pre><code>http.request.method == &quot;GET&quot;
http.request.method == &quot;POST&quot;
http.request.uri == &quot;/img/logo-edu.gif&quot;
http contains &quot;GET&quot;
http contains &quot;HTTP/1.&quot;
</code></pre>
</li>
</ul>
<p>// GETåŒ…<br>http.request.method == â€œGETâ€ &amp;&amp; http contains â€œHost: â€œ<br>http.request.method == â€œGETâ€ &amp;&amp; http contains â€œUser-Agent: â€œ<br>// POSTåŒ…<br>http.request.method == â€œPOSTâ€ &amp;&amp; http contains â€œHost: â€œ<br>http.request.method == â€œPOSTâ€ &amp;&amp; http contains â€œUser-Agent: â€œ<br>// å“åº”åŒ…<br>http contains â€œHTTP/1.1 200 OKâ€ &amp;&amp; http contains â€œContent-Type: â€œ<br>http contains â€œHTTP/1.0 200 OKâ€ &amp;&amp; http contains â€œContent-Type: â€œ</p>
<pre><code>- ä¸¤ç§æ¡ä»¶æˆç«‹è¿‡æ»¤</code></pre>
<p>è¿‡æ»¤ä¸¤ç§æ¡ä»¶æ—¶ï¼Œä½¿ç”¨andè¿æ¥ï¼Œ<br>å¦‚è¿‡æ»¤ipä¸º192.168.101.8å¹¶ä¸”ä¸ºhttpåè®®çš„ï¼Œip.src==192.168.101.8 and httpã€‚</p>
<pre><code>- åŸŸåè¿‡æ»¤</code></pre>
<p>http.host == â€œgizwits.comâ€</p>
<pre><code>### å››ã€TCPåŒ…åˆ†æ

#### **ä¸€ä¸ªTCPåŒ…ç”±5éƒ¨åˆ†ç»„æˆåˆ†åˆ«æ˜¯:**

1. Frame:   ç‰©ç†å±‚çš„æ•°æ®å¸§æ¦‚å†µ
2. Ethernet II: æ•°æ®é“¾è·¯å±‚ä»¥å¤ªç½‘å¸§å¤´éƒ¨ä¿¡æ¯
3. Internet Protocol Version 4: äº’è”ç½‘å±‚IPåŒ…å¤´éƒ¨ä¿¡æ¯
4. Transmission Control Protocol:  ä¼ è¾“å±‚Tçš„æ•°æ®æ®µå¤´éƒ¨ä¿¡æ¯ï¼Œæ­¤å¤„æ˜¯mqtt
5. Hypertext Transfer Protocol/Data:  åº”ç”¨å±‚çš„ä¿¡æ¯ï¼Œæ­¤å¤„æ˜¯mqttåè®®

#### **ä¸ä¹‹å¯¹åº”çš„ç½‘ç»œä¸ƒå±‚åè®®å›¾å¦‚ä¸‹**
![tcpæ•°æ®å±‚][3]
#### OSI å‚è€ƒæ¨¡å‹ä¸ TCP/IPåˆ†å±‚æ¨¡å‹
![OSI å‚è€ƒæ¨¡å‹ä¸ TCP/IPåˆ†å±‚æ¨¡å‹][5]

#### **TCP ä¸‰æ¬¡æ¡æ‰‹**
**å›¾ç‰‡ç‰ˆæœ¬**
![TCPä¸‰æ¬¡æ¡æ‰‹][6]
#### **WireSharkæŠ“åŒ…åˆ†æå›¾**
##### **ç¬¬ä¸€æ¬¡æ¡æ‰‹**
ä»£è¡¨å®¢æˆ·ç«¯è¯·æ±‚å»ºç«‹è¿æ¥</code></pre>
<p>SEQ=0<br>ACK=0<br>FLAGS = 0x0002 ï¼ˆSYNï¼‰</p>
<pre><code>**WireSharkç¬¬ä¸€æ¬¡TCPæ¡æ‰‹å›¾**
![TCP ç¬¬ä¸€æ¬¡æ¡æ‰‹][7]

##### **ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼š**
æœåŠ¡å™¨å‘å›ç¡®è®¤åŒ…, æ ‡å¿—ä½ä¸º SYN,ACK. å°†ç¡®è®¤åºå·(Acknowledgement Number)è®¾ç½®ä¸ºå®¢æˆ·çš„SEQåŠ 1ä»¥.å³ACK=SEQ+1</code></pre>
<p>SEQ = 0<br>ACK = SEQ+1<br>FLAGS = 0X0012ï¼ˆSYN +ACKï¼‰</p>
<pre><code>**WireSharkç¬¬äºŒæ¬¡TCPæ¡æ‰‹å›¾**
![TCP ç¬¬äºŒæ¬¡æ¡æ‰‹][8]

å®¢æˆ·ç«¯å†æ¬¡å‘é€ç¡®è®¤åŒ…(ACK) SYNæ ‡å¿—ä½ä¸º0,ACKæ ‡å¿—ä½ä¸º1.å¹¶ä¸”æŠŠæœåŠ¡å™¨å‘æ¥ACKçš„åºå·å­—æ®µ+1,æ”¾ç¡®åœ¨SEQå­—æ®µä¸­å‘é€ç»™å¯¹æ–¹.
</code></pre>
<p>SEQ =SEQ+1<br>ACK = 1;<br>FLAGS = 0X0001ï¼ˆACKï¼‰</p>
<pre><code>![TCP ç¬¬ä¸‰æ¬¡æ¡æ‰‹][9]

#### **ç¬¬å››æ¬¡æŒ¥æ‰‹**
ç¬¬ä¸€æ¬¡ã€Aæœºå™¨å‘Bæœºå™¨å‘èµ·æ–­å¼€è¯·æ±‚ï¼Œå…¶ä¸­FINç½®ä½,ä¸”seq=x;æ­¤æ—¶Aè¿›å…¥FIN_WAIT_1çŠ¶æ€ï¼›
ç¬¬äºŒæ¬¡ã€Bæœºå™¨å“åº”Açš„æ–­å¼€è¯·æ±‚ï¼ŒACKç½®ä½ï¼Œä¸”ACKå€¼=x+1,ä¸”Seq=z;æ­¤æ—¶Aè¿›å…¥FIN_WAIT_2çŠ¶æ€(è¡¨ç¤ºBåŒæ„Açš„æ–­å¼€è¯·æ±‚)ï¼›
ç¬¬ä¸‰æ¬¡ã€Bæœºå™¨å‘Aå‘èµ·æ–­å¼€è¯·æ±‚ï¼Œå…¶ä¸­FINç½®ä¸ºï¼Œä¸”Seq=y;(æ­¤æ—¶Bè¿›å…¥LAST_WAIT)
ç¬¬å››æ¬¡ã€Aå“åº”Bçš„æ–­å¼€è¯·æ±‚ï¼ŒACKç½®ä½ï¼ŒACKå€¼ä½y+1;æ­¤æ—¶Aè¿›å…¥TIME_WAITï¼ŒBæ”¶åˆ°ACKä¹‹åç›´æ¥CLOSEï¼›Aåœ¨ç»è¿‡2MSLæ—¶é—´ä¹‹åè‹¥æ²¡æ”¶åˆ°FINä¿¡å·åˆ™CLOSE;

![upload successful](/images/pasted-107.png)



### äº”ã€WireShark æŠ“åŒ…å¼‚å¸¸æƒ…å†µåˆ†æ

#### 1. **tcp out-of-order**ï¼ˆtcpæœ‰é—®é¢˜ï¼‰
&gt;**åŸå› :** åº”è¯¥æœ‰å¾ˆå¤šåŸå› ã€‚ä½†æ˜¯å¤šåŠæ˜¯ç½‘ç»œæ‹¥å¡ï¼Œå¯¼è‡´é¡ºåºåŒ…æŠµè¾¾æ—¶é—´ä¸åŒï¼Œå»¶æ—¶å¤ªé•¿ï¼Œæˆ–è€…åŒ…ä¸¢å¤±ï¼Œéœ€è¦é‡æ–°ç»„åˆæ•°æ®å•å…ƒ å› ä¸ºä»–ä»¬å¯èƒ½æ˜¯é€šè¿‡ä¸åŒçš„è·¯å¾„åˆ°è¾¾ä½ ç”µè„‘ä¸Šé¢çš„ã€‚

#### 2. **tcp segment of a reassembled PDU**
&gt;**åŸå› :** åœ¨è¿ä¸ªè¿æ¥å»ºç«‹çš„æ—¶å€™ï¼ŒSYNåŒ…é‡Œé¢ä¼šæŠŠå½¼æ­¤TCPæœ€å¤§çš„æŠ¥æ–‡æ®µé•¿åº¦ï¼Œåœ¨å±€åŸŸç½‘å†…ä¸€èˆ¬éƒ½æ˜¯**1460**.å¦‚æœå‘é€çš„åŒ…æ¯”æœ€å¤§çš„æŠ¥æ–‡æ®µé•¿åº¦é•¿çš„è¯å°±è¦åˆ†ç‰‡äº†ï¼Œè¢«åˆ†ç‰‡å‡ºæ¥çš„åŒ…ï¼Œå°±ä¼šè¢«æ ‡è®°äº†**â€œTCP segment of a reassembled PDUâ€**ã€‚TCPåœ¨å‘èµ·è¿æ¥çš„ç¬¬ä¸€ä¸ªæŠ¥æ–‡çš„TCPå¤´é‡Œé€šè¿‡MSSè¿™ä¸ªå¯é€‰é¡¹å‘ŠçŸ¥å¯¹æ–¹æœ¬ç«¯èƒ½å¤Ÿæ¥æ”¶çš„æœ€å¤§æŠ¥æ–‡ï¼ˆå½“ç„¶ï¼Œè¿™ä¸ªå¤§å°æ˜¯TCPå‡€è·çš„å¤§å°ï¼‰ï¼Œä»¥å¤ªç½‘ä¸Šè¿™ä¸ªå€¼ä¸€èˆ¬è®¾ç½®æˆ1460ï¼Œå› ä¸º1460Byteå‡€è·+20Byte TCPå¤´+20Byte IPå¤´ ï¼ 1500å­—èŠ‚ï¼Œæ­£å¥½ç¬¦åˆé“¾è·¯å±‚æœ€å¤§æŠ¥æ–‡çš„è¦æ±‚ï¼Œè¢«æ ‡è®°äº†çš„åŒ…çš„SEQå’ŒACKéƒ½å’ŒåŸæ¥çš„åŒ…ä¸€è‡´ã€‚
#### 3. **Tcp previous segment lostï¼ˆtcpå…ˆå‰çš„åˆ†ç‰‡ä¸¢å¤±ï¼‰**
&gt;ä¸€èˆ¬æ˜¯ç½‘ç»œä¸­çš„ç½‘ç»œè®¾å¤‡å‘ç”Ÿçš„æ‹¥å¡äº†ï¼Œè§¦å‘äº†TCPçš„æ‹¥å¡æ§åˆ¶æœºåˆ¶ã€‚å®ƒå‘Šè¯‰å‘é€æ–¹æ•°æ®æ®µä¸¢å¤±ï¼›
ï¼ˆ1ï¼‰ã€â€œTCP Previous segment lostâ€ errors are not â€œfatalâ€ errors. They simply indicate that the sequence number in the arriving packet is higher than the next-expected sequence number, indicating that at least one segment was dropped/lost. The receiving station remedies this situation by sending duplicate ACKs for each additional packet it receives until the sender retransmits the missing packet(s). TCP is designed to recover from this situation, which is why the image is downloaded correctly despite having a (briefly) missing packet.
If you are getting a large number of lost packets, then there is likely a communication problem between the sender and receiver. A common cause of this is un-matched duplex settings between the PC and the switch.
We (our lab) recently upgraded to Ethereal 0.10.14 with WinPCap 3.1.  If I remember correctly, we had previously been using 0.10.2 with WinPCap 3.0.  However, since the upgrade we have been noticing several issues.
The first issue is with â€œTCP Previous segment lostâ€ and â€œTCP CHECKSUM INCORRECTâ€ messages appearing in the Packet Listing window.  We do not remember seeing these in the previous version of Ethereal, or at least not nearly as many as we are seeing now.  For example, one task for the student instructional part of the lab involves visiting a website containing two images and observing the network activity.  After the two GET requests are sent for the images, it is not uncommon for one image to be returned with a typical 200 OK response packet, but the response packet for the other image will be displayed as â€œTCP Previous segment lost.â€  However, both images are downloaded and displayed perfectly fine in the browser.  I would think that the segment lost error would mean the object wasnâ€™t returned correctly and shouldnâ€™t be able to be displayed, but apparently that is not the case.  (The cache had been cleared when this was performed, so it was not defaulting to a local copy of the image.)
Another problem weâ€™ve been noticing is that some packets simply arenâ€™t displayed in the Packet Listing window, even when they are obviously received.  Using the same example as above, after the two GET requests are sent for the images, it is not uncommon for one image to be returned with a typical 200 OK response, but the other response will not appear.  Yet both images are successfully displayed in the browser.  Is this a problem with Ethereal not detecting the packets?
Iâ€™m not sure how typical this is, but we seem to be experiencing these issues often with 0.10.14 while we never did with 0.10.2.  Could it also be an issue with WinPCap, and not necessarily Ethereal?  Iâ€™m just trying to find some answers as to why we are seeing a sudden abundance of TCP related errors and uncaptured packets.  Thanks.
ï¼ˆ2ï¼‰ã€I have a network client application that runs fine while I am debugging (no TCP errors),
but when I run the release version, it runs incredibly slow.  It runs as a series of
transactions, where each transaction is a separate connection to the server.  Wireshark
analysis has determined that about 50% of all transactions involve the series:
TCP Previous Segment Lost

#### 4. Tcpacked lost segmentï¼ˆtcpåº”ç­”ä¸¢å¤±ï¼‰
#### 5. Tcp window updateï¼ˆtcpçª—å£æ›´æ–°ï¼‰
#### 6. Tcp dup ackï¼ˆtcpé‡å¤åº”ç­”ï¼‰
&gt;1)å½“æ”¶åˆ°tcp out-of-order ä¿¡å·æ—¶ï¼Œå¯èƒ½å‘é€è¯¥ä¿¡å·ï¼Œ è¿™ä¸ªç›¸åŒåº”ç­”çš„æ„å›¾æ˜¯è®©å¯¹ç«¯çŸ¥é“ä¸€ä¸ªåˆ†ç‰‡è¢«æ”¶åˆ°çš„æ—¶å€™å‡ºç°é—®é¢˜ï¼Œå¹¶ä¸”å‘Šè¯‰å®ƒå¸Œæœ›å¾—åˆ°çš„åºåˆ—å·ã€‚
2)ç”±äºTCPä¸çŸ¥é“é‡å¤çš„ACKæ˜¯ç”±ä¸¢å¤±çš„æ®µå¼•èµ·çš„è¿˜æ˜¯ä»…ä»…æ˜¯é‡æ–°æ’åºæ®µï¼Œæ‰€ä»¥ç­‰å¾…æ¥æ”¶åˆ°å°‘é‡çš„é‡å¤çš„ACKã€‚ å‡è®¾å¦‚æœåªæœ‰æ®µçš„é‡æ–°æ’åºï¼Œåˆ™åœ¨é‡æ–°æ’åºçš„æ®µè¢«å¤„ç†ä¹‹å‰å°†åªæœ‰ä¸€ä¸ªæˆ–ä¸¤ä¸ªé‡å¤çš„ACKï¼Œç„¶åå°†ç”Ÿæˆæ–°çš„ACKã€‚ å¦‚æœåœ¨ä¸€è¡Œä¸­æ¥æ”¶åˆ°ä¸‰ä¸ªæˆ–æ›´å¤šä¸ªé‡å¤çš„ACKï¼Œåˆ™è¡¨æ˜æ®µå·²ç»ä¸¢å¤±ã€‚ TCPç„¶åæ‰§è¡Œä¼¼ä¹æ˜¯ä¸¢å¤±æ®µçš„é‡ä¼ ï¼Œè€Œä¸ç­‰å¾…é‡ä¼ å®šæ—¶å™¨åˆ°æœŸã€‚

#### 7. **Tcp keep alive**ï¼ˆtcpä¿æŒæ´»åŠ¨ï¼‰
&gt;åœ¨TCPä¸­æœ‰ä¸€ä¸ªKeep-aliveçš„æœºåˆ¶å¯ä»¥æ£€æµ‹æ­»è¿æ¥ï¼ŒåŸç†å¾ˆç®€å•ï¼ŒTCPä¼šåœ¨ç©ºé—²äº†ä¸€å®šæ—¶é—´åå‘é€æ•°æ®ç»™å¯¹æ–¹ï¼š
 1.å¦‚æœä¸»æœºå¯è¾¾ï¼Œå¯¹æ–¹å°±ä¼šå“åº”ACKåº”ç­”ï¼Œå°±è®¤ä¸ºæ˜¯å­˜æ´»çš„ã€‚
 2.å¦‚æœå¯è¾¾ï¼Œä½†åº”ç”¨ç¨‹åºé€€å‡ºï¼Œå¯¹æ–¹å°±å‘RSTåº”ç­”ï¼Œå‘é€TCPæ’¤æ¶ˆè¿æ¥ã€‚
 3.å¦‚æœå¯è¾¾ï¼Œä½†åº”ç”¨ç¨‹åºå´©æºƒï¼Œå¯¹æ–¹å°±å‘FINæ¶ˆæ¯ã€‚
 4.å¦‚æœå¯¹æ–¹ä¸»æœºä¸å“åº”ack, rstï¼Œç»§ç»­å‘é€ç›´åˆ°è¶…æ—¶ï¼Œå°±æ’¤æ¶ˆè¿æ¥ã€‚è¿™ä¸ªæ—¶é—´å°±æ˜¯é»˜è®¤çš„äºŒä¸ªå°æ—¶ã€‚

#### 8. **Tcp retransmission**ï¼ˆtcpé‡ä¼ ï¼‰
&gt;ä½œä¸ºä¸€ä¸ªå¯é çš„ä¼ è¾“åè®®ï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼ˆTCPï¼‰åœ¨å‘é€ä¸»æœºéœ€è¦ä»ç›®æ ‡ä¸»æœºæ”¶åˆ°ä¸€ä¸ªåŒ…æ—¶ç¡®è®¤ã€‚If the sender does not receive that acknowledgment within a certain amount of time, it acts under the assumption that the packet did not reach its destination and retransmits the packet.å¦‚æœå‘ä»¶äººæ²¡æœ‰æ”¶åˆ°çš„æ—¶é—´å†…ä¸€å®šä¹‹é‡‘é¢ï¼Œç¡®è®¤ï¼Œå®ƒçš„è¡Œä¸ºå‡è®¾ä¸‹ï¼Œè¯¥æ•°æ®åŒ…æ²¡æœ‰åˆ°è¾¾å…¶ç›®çš„åœ°ï¼Œä»¥åŠè½¬å‘æ•°æ®åŒ…ã€‚


## TCP çŠ¶æ€åˆ†æ
TCPçš„çŠ¶æ€ (SYN, FIN, ACK, PSH, RST, URG)
åœ¨TCPå±‚ï¼Œæœ‰ä¸ªFLAGSå­—æ®µï¼Œè¿™ä¸ªå­—æ®µæœ‰ä»¥ä¸‹å‡ ä¸ªæ ‡è¯†ï¼šSYN, FIN, ACK, PSH, RST, URG.
å®ƒä»¬çš„å«ä¹‰æ˜¯ï¼š

 1. SYN(synchronous): è¡¨ç¤ºå»ºç«‹è¿æ¥.
 2. FIN(finish): è¡¨ç¤ºå…³é—­è¿æ¥.
 3. ACK(acknowledgement): è¡¨ç¤ºå“åº”.
 4. PSH(push): è¡¨ç¤ºæœ‰DATAæ•°æ®ä¼ è¾“.
 5. RST(reset): è¡¨ç¤ºè¿æ¥é‡ç½®.
 6. URG(urgent):ç´§æ€¥.
 7. SEQ(Sequence number):é¡ºåºå·ç 

## TCP ä¸‰æ¬¡æ¡æ‰‹æµç¨‹
1. ä¸»æœºAå‘é€ä½ç ä¸ºsynï¼1ï¼Œéšæœºäº§ç”Ÿseq number=1234567çš„æ•°æ®åŒ…åˆ°æœåŠ¡å™¨ï¼Œä¸»æœºBç”±SYN=1çŸ¥é“ï¼ŒAè¦æ±‚å»ºç«‹è”æœºï¼›
2. ä¸»æœºBæ”¶åˆ°è¯·æ±‚åè¦ç¡®è®¤è”æœºä¿¡æ¯ï¼Œå‘Aå‘é€ack number=(ä¸»æœºAçš„seq+1)ï¼Œsyn=1ï¼Œack=1ï¼Œéšæœºäº§ç”Ÿseq=7654321çš„åŒ…ï¼›
3. ä¸»æœºAæ”¶åˆ°åæ£€æŸ¥ack numberæ˜¯å¦æ­£ç¡®ï¼Œå³ç¬¬ä¸€æ¬¡å‘é€çš„seq number+1ï¼Œä»¥åŠä½ç ackæ˜¯å¦ä¸º1ï¼Œè‹¥æ­£ç¡®ï¼Œä¸»æœºAä¼šå†å‘é€ack number=(ä¸»æœºBçš„seq+1)ï¼Œack=1ï¼Œä¸»æœºBæ”¶åˆ°åç¡®è®¤seqå€¼ä¸ack=1åˆ™è¿æ¥å»ºç«‹æˆåŠŸã€‚

## å„ç§ç½‘ç»œåŒ…å¤´æ ¼å¼
### ä»¥å¤ªç½‘å¤´</code></pre>
<p>// MACåœ°å€é•¿åº¦<br>#define MAC_ADDRESS_LEN 6</p>
<p>// å¸¸ç”¨çš„ä»¥å¤ªç½‘å¸§ç±»å‹<br>#define ETHERNET_FRAME_IP       0x0800              // IPå¸§<br>#define ETHERNET_FRAME_ARP      0x0806              // ARPå¸§<br>#define ETHERNET_FRAME_RARP     0x8035              // RARPå¸§<br>#define ETHERNET_FRAME_IPv6     0x86DD              // IP6å¸§</p>
<p>typedef struct _EthernetHeader      // ä»¥å¤ªå¤´<br>{<br>    UCHAR       DstMacAddr[MAC_ADDRESS_LEN];        // ç›®æ ‡MAC<br>    UCHAR       SrcMacAddr[MAC_ADDRESS_LEN];        // æºMAC<br>    USHORT      FrmType;                            // ç±»å‹<br>}EthernetHeader, *PEthernetHeader;</p>
<pre><code>### TCP åŒ…æ ¼å¼</code></pre>
<h2 id="0-15-31"><a href="#0-15-31" class="headerlink" title="0                            15                              31"></a>0                            15                              31</h2><h2 id="source-port-destination-port"><a href="#source-port-destination-port" class="headerlink" title="|          source port          |       destination port        |"></a>|          source port          |       destination port        |</h2><table>
<thead>
<tr>
<th>sequence number</th>
</tr>
</thead>
<tbody><tr>
<td>acknowledgment number</td>
</tr>
</tbody></table>
<hr>
<h2 id="HL-rsvd-C-E-U-A-P-R-S-F-window-size"><a href="#HL-rsvd-C-E-U-A-P-R-S-F-window-size" class="headerlink" title="|  HL   | rsvd  |C|E|U|A|P|R|S|F|        window size            |"></a>|  HL   | rsvd  |C|E|U|A|P|R|S|F|        window size            |</h2><h2 id="TCP-checksum-urgent-pointer"><a href="#TCP-checksum-urgent-pointer" class="headerlink" title="|         TCP checksum          |       urgent pointer          |"></a>|         TCP checksum          |       urgent pointer          |</h2><table>
<thead>
<tr>
<th>Optional</th>
</tr>
</thead>
<tbody><tr>
<td>Data</td>
</tr>
</tbody></table>
<hr>
<p>// TCPå¤´æ ‡å¿—ä½æ©ç  OffFlag<br>#define TCP_HDR_LEN             0xF000              // TCPå¤´é•¿åº¦&lt;åŒå­—çš„ä¸ªæ•°&gt;è½¬åŒ–ä¸ºå­—èŠ‚æ•°éœ€è¦x4<br>#define TCP_URG_FLAG            0x0020              // URGæ ‡å¿—<br>#define TCP_ACK_FLAG            0x0010              // ACKæ ‡å¿— åº”ç­”1æˆ–è¯·æ±‚0<br>#define TCP_PSH_FLAG            0x0008              // pshæ ‡å¿— ä»¥æœ€å¿«é€Ÿåº¦ä¼ è¾“æ•°æ®<br>#define TCP_RST_FLAG            0x0004              // RSTæ ‡å¿— å…ˆæ–­å¼€è¿æ¥,å†é‡å»ºè¿æ¥<br>#define TCP_SYN_FLAG            0x0002              // SYNæ ‡å¿— ç”¨æ¥å»ºç«‹è¿æ¥<br>#define TCP_FIN_FLAG            0x0001              // FINæ ‡å¿— å‘é€æ–¹å®Œæˆæ•°æ®å‘é€</p>
<p>typedef struct _TcpHeader           // TCPå¤´ 20 BYTES<br>{<br>    USHORT      SrcPort;                            // æºç«¯å£<br>    USHORT      DstPort;                            // ç›®çš„ç«¯å£<br>    ULONG       SeqNum;                             // åºå·<br>    ULONG       AckNum;                             // ç¡®è®¤å·<br>    USHORT      OffFlag;                            // é¦–éƒ¨é•¿åº¦&lt;é¦–éƒ¨åŒå­—çš„ä¸ªæ•°&gt;+ä¿ç•™ä½+æ ‡å¿—ä½<br>    USHORT      WndSize;                            // çª—å£å¤§å°&lt;å®ç°æµé‡æ§åˆ¶&gt;<br>    USHORT      Checksum;                           // æ•ˆéªŒå’Œ<br>    USHORT      UrgPointer;                         // ç´§æ€¥æŒ‡é’ˆ<br>}TcpHeader, *PTcpHeader;</p>
<p>// OffFlag : 4ä½é¦–éƒ¨é•¿åº¦ + 6ä½ä¿ç•™ä½ + URG+ACK+PSH+RST+SYN+FIN</p>
<p>typedef struct _TCPPACKET           // TCPå°åŒ… &lt;å½“ipä¸­æ²¡æœ‰é™„åŠ æ•°æ®æ—¶&gt;<br>{<br>    EthernetHeader  Ehhdr;<br>    IPHeader        Iphdr;<br>    TcpHeader       Tcphdr;<br>}TCPPACKET, *PTCPPACKET;</p>
<p>```</p>
<p>SYNå’ŒACKå¯èƒ½åŒæ—¶ä¸º1ï¼Œå®ƒè¡¨ç¤ºçš„å°±æ˜¯å»ºç«‹è¿æ¥ä¹‹åçš„å“åº”ï¼Œ<br>å¦‚æœåªæ˜¯å•ä¸ªçš„ä¸€ä¸ªSYNï¼Œå®ƒè¡¨ç¤ºçš„åªæ˜¯å»ºç«‹è¿æ¥ã€‚</p>
<p>å‚è€ƒ</p>
<hr>
<ul>
<li><a href="http://bbs.pediy.com/thread-147644.htm">http://bbs.pediy.com/thread-147644.htm</a></li>
<li><a href="http://www.yunsec.net/a/school/wlcs/agreement/2012/0317/10262.html">http://www.yunsec.net/a/school/wlcs/agreement/2012/0317/10262.html</a></li>
<li><a href="http://www.9upk.com/article/2537.html">http://www.9upk.com/article/2537.html</a> ï¼ˆæŠ“åŒ…å·¥å…·æ•™ç¨‹ï¼‰</li>
</ul>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>æŠ“åŒ…å·¥å…·</tag>
        <tag>wireShark</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitä¹‹æŠ€èƒ½è®°å½•</title>
    <url>/2018/02/11/3432.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ä¸€-Git-åŠŸèƒ½é¢„è§ˆå›¾"><a href="#ä¸€-Git-åŠŸèƒ½é¢„è§ˆå›¾" class="headerlink" title="ä¸€. Git åŠŸèƒ½é¢„è§ˆå›¾"></a>ä¸€. Git åŠŸèƒ½é¢„è§ˆå›¾</h2><p><img src="http://upload-images.jianshu.io/upload_images/1736256-510243b84e2d36f3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Git"></p>
<a id="more"></a>

<h2 id="äºŒ-tag"><a href="#äºŒ-tag" class="headerlink" title="äºŒ. tag"></a>äºŒ. tag</h2><ul>
<li>åˆ—å‡ºæ‰€æœ‰tag</li>
</ul>
<pre><code>$ git tag -l</code></pre>
<ul>
<li>æ‰“tag</li>
</ul>
<pre><code>$ git tag &#39;tag&#39;</code></pre>
<ul>
<li>æ‰“tag åŠ æ³¨é‡Š</li>
</ul>
<pre><code>$ git tag -a [tag name] -m [message]</code></pre>
<ul>
<li>åˆ é™¤æœ¬åœ°tag</li>
</ul>
<pre><code>$ git tag -d [tag]</code></pre>
<ul>
<li>åˆ é™¤è¿œç¨‹tag</li>
</ul>
<pre><code>git push origin --delete tag &lt;tagname&gt;</code></pre>
<ul>
<li>æŸ¥çœ‹tagä¿¡æ¯</li>
</ul>
<pre><code>$ git show [tag]</code></pre>
<ul>
<li>æäº¤æŒ‡å®štag</li>
</ul>
<pre><code>$ git push [remote] [tag]
</code></pre>
<p>ä¾‹å¦‚ï¼Œå°†v1.0æ ‡ç­¾æ¨é€åˆ°è¿œç¨‹æœåŠ¡å™¨ä¸Š</p>
<pre><code>$ git push origin v1.0</code></pre>
<ul>
<li>æäº¤æ‰€æœ‰tag</li>
</ul>
<pre><code>$ git push [remote] --tags</code></pre>
<h2 id="ä¸‰-git-ä¿¡æ¯æŸ¥è¯¢"><a href="#ä¸‰-git-ä¿¡æ¯æŸ¥è¯¢" class="headerlink" title="ä¸‰. git ä¿¡æ¯æŸ¥è¯¢"></a>ä¸‰. git ä¿¡æ¯æŸ¥è¯¢</h2><ul>
<li>æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¿¡æ¯</li>
</ul>
<pre><code>$ git remote -v</code></pre>
<ul>
<li>æŸ¥çœ‹åˆ†æ”¯</li>
</ul>
<pre><code>$ git branch -a</code></pre>
<ul>
<li>æŸ¥çœ‹åˆ†æ”¯åˆå¹¶å›¾</li>
</ul>
<pre><code>git log --graph</code></pre>
<h2 id="å››-å·¥ç¨‹è®¾ç½®"><a href="#å››-å·¥ç¨‹è®¾ç½®" class="headerlink" title="å››. å·¥ç¨‹è®¾ç½®"></a>å››. å·¥ç¨‹è®¾ç½®</h2><ul>
<li>æ›´æ–°è¿œç¨‹ä»“åº“</li>
</ul>
<pre><code>git remote set-url origin git@gitlab.gizwits.com:********.git</code></pre>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>git</tag>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>golangä¹‹ç¯å¢ƒæ­å»º</title>
    <url>/2019/09/08/b098.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><h2 id="å®¿ä¸»æœºç¯å¢ƒ"><a href="#å®¿ä¸»æœºç¯å¢ƒ" class="headerlink" title="å®¿ä¸»æœºç¯å¢ƒ"></a>å®¿ä¸»æœºç¯å¢ƒ</h2><pre class=" language-SH"><code class="language-SH">Linux VM-133-112-ubuntu 4.15.0-54-generic #58-Ubuntu SMP Mon Jun 24 10:55:24 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux</code></pre>
<ul>
<li><a href="https://golang.org/dl/">å®‰è£…åŒ…ä¸‹è½½</a><pre class=" language-sh"><code class="language-sh">ubuntu@VM-133-112-ubuntu:~$ wget https://dl.google.com/go/go1.13.linux-amd64.tar.gz</code></pre>
</li>
<li>è§£å‹å‹ç¼©åŒ…åˆ°æŒ‡å®šç›®å½•: <code>/usr/local</code><pre class=" language-sh"><code class="language-sh"> ubuntu@VM-133-112-ubuntu:~/golang$ sudo tar -C /usr/local/ -xzf go1.13.linux-amd64.tar.gz </code></pre>
</li>
<li>è®¾ç½®ç¯å¢ƒå˜é‡<pre class=" language-sh"><code class="language-sh">export PATH=$PATH:/usr/local/go/bin</code></pre>
</li>
<li><strong>go env</strong> å‘½ä»¤æ­£å¸¸è¾“å‡ºå³ç¯å¢ƒæ­å»ºæˆåŠŸï¼›</li>
</ul>
<h3 id="é¡¹ç›®ç»“æ„ç»„ç»‡"><a href="#é¡¹ç›®ç»“æ„ç»„ç»‡" class="headerlink" title="é¡¹ç›®ç»“æ„ç»„ç»‡"></a>é¡¹ç›®ç»“æ„ç»„ç»‡</h3><ul>
<li>æŒ‡å®š<code>GOPATH</code>,é¡¹ç›®çš„æ„å»ºåŸºäºæ­¤å˜é‡ï¼Œæ­¤å˜é‡æŒ‡å®šé¡¹ç›®è·¯å¾„ï¼Œå¤šä¸ªé¡¹ç›®ç”¨<code>;</code>åˆ†éš”</li>
<li>Golangé¡¹ç›®ç›®å½•ä¸‹ä¸€èˆ¬æœ‰ä¸‰ä¸ªå­ç›®å½•ï¼š<ul>
<li>srcå­˜æ”¾æºä»£ç </li>
<li>pkgç¼–è¯‘åç”Ÿæˆçš„æ–‡ä»¶</li>
<li>binç¼–è¯‘åç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶</li>
</ul>
</li>
</ul>
<h4 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><pre class=" language-go"><code class="language-go"><span class="token operator">&lt;</span>proj<span class="token operator">></span>
   <span class="token operator">|</span><span class="token operator">--</span><span class="token operator">&lt;</span>src<span class="token operator">></span>
       <span class="token operator">|</span><span class="token operator">--</span><span class="token operator">&lt;</span>a<span class="token operator">></span>
           <span class="token operator">|</span><span class="token operator">--</span><span class="token operator">&lt;</span>a1<span class="token operator">></span>
               <span class="token operator">|</span><span class="token operator">--</span>al<span class="token punctuation">.</span><span class="token keyword">go</span>
           <span class="token operator">|</span><span class="token operator">--</span><span class="token operator">&lt;</span>a2<span class="token operator">></span>
               <span class="token operator">|</span><span class="token operator">--</span>a2<span class="token punctuation">.</span><span class="token keyword">go</span>
       <span class="token operator">|</span><span class="token operator">--</span><span class="token operator">&lt;</span>b<span class="token operator">></span>
           <span class="token operator">|</span><span class="token operator">--</span>b1<span class="token punctuation">.</span><span class="token keyword">go</span>
           <span class="token operator">|</span><span class="token operator">--</span>b2<span class="token punctuation">.</span><span class="token keyword">go</span>
       <span class="token operator">|</span><span class="token operator">--</span><span class="token operator">&lt;</span>c<span class="token operator">></span>
           <span class="token operator">|</span><span class="token operator">--</span>c<span class="token punctuation">.</span><span class="token keyword">go</span>
   <span class="token operator">|</span><span class="token operator">--</span><span class="token operator">&lt;</span>pkg<span class="token operator">></span>
   <span class="token operator">|</span><span class="token operator">--</span><span class="token operator">&lt;</span>bin<span class="token operator">></span></code></pre>
<h2 id="å…³é”®å­—ï¼ˆ-25ä¸ª-ï¼‰"><a href="#å…³é”®å­—ï¼ˆ-25ä¸ª-ï¼‰" class="headerlink" title="å…³é”®å­—ï¼ˆ_25ä¸ª_ï¼‰"></a>å…³é”®å­—ï¼ˆ_25ä¸ª_ï¼‰</h2><table>
<thead>
<tr>
<th align="left">å…³é”®å­—</th>
<th align="left">å…³é”®å­—</th>
<th align="left">å…³é”®å­—</th>
<th align="left">å…³é”®å­—</th>
<th align="left">å…³é”®å­—</th>
</tr>
</thead>
<tbody><tr>
<td align="left">break</td>
<td align="left">default</td>
<td align="left">func</td>
<td align="left">interface</td>
<td align="left">select</td>
</tr>
<tr>
<td align="left">case</td>
<td align="left">defer</td>
<td align="left">go</td>
<td align="left">map</td>
<td align="left">struct</td>
</tr>
<tr>
<td align="left">chan</td>
<td align="left">else</td>
<td align="left">goto</td>
<td align="left">package</td>
<td align="left">switch</td>
</tr>
<tr>
<td align="left">const</td>
<td align="left">fallthrough</td>
<td align="left">if</td>
<td align="left">range</td>
<td align="left">type</td>
</tr>
<tr>
<td align="left">continue</td>
<td align="left">for</td>
<td align="left">import</td>
<td align="left">return</td>
<td align="left">var</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>golang</category>
      </categories>
      <tags>
        <tag>golang</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2017/03/26/3eeb.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr>
<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><a id="more"></a>

<h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class=" language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span></code></pre>
<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class=" language-bash"><code class="language-bash">$ hexo server</code></pre>
<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class=" language-bash"><code class="language-bash">$ hexo generate</code></pre>
<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class=" language-bash"><code class="language-bash">$ hexo deploy</code></pre>
<p>More info: <a href="https://hexo.io/docs/deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>Hexoè‡ªåŠ¨å¤‡ä»½æ•™ç¨‹</title>
    <url>/2017/08/01/5973.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://notes.wanghao.work/2015-07-06-%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BDHexo%E5%8D%9A%E5%AE%A2%E6%BA%90%E6%96%87%E4%BB%B6.html">è¿æ¥</a></p>
]]></content>
  </entry>
  <entry>
    <title>linux å·¥å…·å‡½æ•°ä¹‹ç½‘ç»œå·¥å…·å‡½æ•°</title>
    <url>/2017/03/26/7a56.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr>
<p>**æœ¬åœ°IPã€å­ç½‘æ©ç ã€ç½‘å…³ã€MACåœ°å€ è·å–æ–¹æ³• **</p>
<a id="more"></a>

<pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span>      </span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;ifaddrs.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;netinet/in.h></span> </span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span> </span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;arpa/inet.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;net/if.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;netdb.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/socket.h></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;linux/sockios.h></span></span>

<span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">getLocalIp</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>  
<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  
    <span class="token keyword">int</span> sock_get_ip<span class="token punctuation">;</span>  
    <span class="token keyword">char</span> ipaddr<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  

    <span class="token keyword">struct</span>   sockaddr_in <span class="token operator">*</span>sin<span class="token punctuation">;</span>  
    <span class="token keyword">struct</span>   ifreq ifr_ip<span class="token punctuation">;</span>     

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>sock_get_ip<span class="token operator">=</span><span class="token function">socket</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_STREAM<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>  
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  
         <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"socket create failse...GetLocalIp!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
         <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>  
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  

    <span class="token function">memset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>ifr_ip<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>ifr_ip<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token comment" spellcheck="true">//æŒ‡å®šç½‘å¡ä¸º eth0 </span>
    <span class="token function">strncpy</span><span class="token punctuation">(</span>ifr_ip<span class="token punctuation">.</span>ifr_name<span class="token punctuation">,</span> <span class="token string">"eth0"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>ifr_ip<span class="token punctuation">.</span>ifr_name<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     

    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token function">ioctl</span><span class="token punctuation">(</span> sock_get_ip<span class="token punctuation">,</span> SIOCGIFADDR<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ifr_ip<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">)</span>     
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>     
         <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>     
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>       
    sin <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> sockaddr_in <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>ifr_ip<span class="token punctuation">.</span>ifr_addr<span class="token punctuation">;</span>     
    <span class="token function">strcpy</span><span class="token punctuation">(</span>ipaddr<span class="token punctuation">,</span><span class="token function">inet_ntoa</span><span class="token punctuation">(</span>sin<span class="token operator">-></span>sin_addr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         

    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"local net adapter:[ %-5s ] ip_v4 [ %-20s ]\n"</span><span class="token punctuation">,</span> <span class="token string">"eth0"</span><span class="token punctuation">,</span> ipaddr<span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token function">close</span><span class="token punctuation">(</span> sock_get_ip <span class="token punctuation">)</span><span class="token punctuation">;</span>  

    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>  
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  
<span class="token keyword">void</span> <span class="token function">getlocalIp2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">struct</span> ifaddrs <span class="token operator">*</span> ifAddrStruct<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>  
    <span class="token keyword">void</span> <span class="token operator">*</span> tmpAddrPtr<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>  

    <span class="token function">getifaddrs</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>ifAddrStruct<span class="token punctuation">)</span><span class="token punctuation">;</span>  

   <span class="token comment" spellcheck="true">//è·å–æ‰€æœ‰ç½‘å¡çš„ip</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>ifAddrStruct<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span>   
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ifAddrStruct<span class="token operator">-></span>ifa_addr<span class="token operator">-></span>sa_family<span class="token operator">==</span>AF_INET<span class="token punctuation">)</span>  
        <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// check it is IP4  </span>
            <span class="token comment" spellcheck="true">// is a valid IP4 Address  </span>
            tmpAddrPtr <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">struct</span> sockaddr_in <span class="token operator">*</span><span class="token punctuation">)</span>ifAddrStruct<span class="token operator">-></span>ifa_addr<span class="token punctuation">)</span><span class="token operator">-></span>sin_addr<span class="token punctuation">;</span>  
            <span class="token keyword">char</span> addressBuffer<span class="token punctuation">[</span>INET_ADDRSTRLEN<span class="token punctuation">]</span><span class="token punctuation">;</span>  
            <span class="token function">inet_ntop</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> tmpAddrPtr<span class="token punctuation">,</span> addressBuffer<span class="token punctuation">,</span> INET_ADDRSTRLEN<span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"local net adapter:[ %-5s ] ip_v4 [ %-20s ]\n"</span><span class="token punctuation">,</span> ifAddrStruct<span class="token operator">-></span>ifa_name<span class="token punctuation">,</span> addressBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ifAddrStruct<span class="token operator">-></span>ifa_addr<span class="token operator">-></span>sa_family<span class="token operator">==</span>AF_INET6<span class="token punctuation">)</span>  
        <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// check it is IP6  </span>
            <span class="token comment" spellcheck="true">// is a valid IP6 Address  </span>
            tmpAddrPtr<span class="token operator">=</span><span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">struct</span> sockaddr_in <span class="token operator">*</span><span class="token punctuation">)</span>ifAddrStruct<span class="token operator">-></span>ifa_addr<span class="token punctuation">)</span><span class="token operator">-></span>sin_addr<span class="token punctuation">;</span>  
            <span class="token keyword">char</span> addressBuffer<span class="token punctuation">[</span>INET6_ADDRSTRLEN<span class="token punctuation">]</span><span class="token punctuation">;</span>  
            <span class="token function">inet_ntop</span><span class="token punctuation">(</span>AF_INET6<span class="token punctuation">,</span> tmpAddrPtr<span class="token punctuation">,</span> addressBuffer<span class="token punctuation">,</span> INET6_ADDRSTRLEN<span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"local net adapter:[ %-5s ] ip_v6 [ %-20s ]\n"</span><span class="token punctuation">,</span> ifAddrStruct<span class="token operator">-></span>ifa_name<span class="token punctuation">,</span> addressBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>   
        ifAddrStruct <span class="token operator">=</span> ifAddrStruct<span class="token operator">-></span>ifa_next<span class="token punctuation">;</span>  
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> 
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">SetLocalIp</span><span class="token punctuation">(</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>ipaddr <span class="token punctuation">)</span>  
<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  

    <span class="token keyword">int</span> sock_set_ip<span class="token punctuation">;</span>  

    <span class="token keyword">struct</span> sockaddr_in sin_set_ip<span class="token punctuation">;</span>  
    <span class="token keyword">struct</span> ifreq ifr_set_ip<span class="token punctuation">;</span>  

    <span class="token function">bzero</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>ifr_set_ip<span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ifr_set_ip<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  

    <span class="token keyword">if</span><span class="token punctuation">(</span> ipaddr <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token punctuation">)</span>  
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>  

    <span class="token keyword">if</span><span class="token punctuation">(</span>sock_set_ip <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span> AF_INET<span class="token punctuation">,</span> SOCK_STREAM<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  
        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"socket create failse...SetLocalIp!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>  
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  

    <span class="token function">memset</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>sin_set_ip<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>sin_set_ip<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token function">strncpy</span><span class="token punctuation">(</span>ifr_set_ip<span class="token punctuation">.</span>ifr_name<span class="token punctuation">,</span> <span class="token string">"eth0"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>ifr_set_ip<span class="token punctuation">.</span>ifr_name<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     

    sin_set_ip<span class="token punctuation">.</span>sin_family <span class="token operator">=</span> AF_INET<span class="token punctuation">;</span>  
    sin_set_ip<span class="token punctuation">.</span>sin_addr<span class="token punctuation">.</span>s_addr <span class="token operator">=</span> <span class="token function">inet_addr</span><span class="token punctuation">(</span>ipaddr<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token function">memcpy</span><span class="token punctuation">(</span> <span class="token operator">&amp;</span>ifr_set_ip<span class="token punctuation">.</span>ifr_addr<span class="token punctuation">,</span> <span class="token operator">&amp;</span>sin_set_ip<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>sin_set_ip<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  

    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token function">ioctl</span><span class="token punctuation">(</span> sock_set_ip<span class="token punctuation">,</span> SIOCSIFADDR<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ifr_set_ip<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">)</span>  
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  
        <span class="token function">perror</span><span class="token punctuation">(</span> <span class="token string">"Not setup interface\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>  
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  

    <span class="token comment" spellcheck="true">//è®¾ç½®æ¿€æ´»æ ‡å¿—  </span>
    ifr_set_ip<span class="token punctuation">.</span>ifr_flags <span class="token operator">|</span><span class="token operator">=</span> IFF_UP <span class="token operator">|</span>IFF_RUNNING<span class="token punctuation">;</span>  

    <span class="token comment" spellcheck="true">//get the status of the device  </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token function">ioctl</span><span class="token punctuation">(</span> sock_set_ip<span class="token punctuation">,</span> SIOCSIFFLAGS<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ifr_set_ip <span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">)</span>  
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  
         <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"SIOCSIFFLAGS"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
         <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>  
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  

    <span class="token function">close</span><span class="token punctuation">(</span> sock_set_ip <span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>  
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  
<span class="token keyword">void</span> <span class="token function">getLocalNetMask</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  
    <span class="token keyword">int</span> sock_netmask<span class="token punctuation">;</span>  
    <span class="token keyword">char</span> netmask_addr<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  

    <span class="token keyword">struct</span> ifreq ifr_mask<span class="token punctuation">;</span>  
    <span class="token keyword">struct</span> sockaddr_in <span class="token operator">*</span>net_mask<span class="token punctuation">;</span>  

    sock_netmask <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span> AF_INET<span class="token punctuation">,</span> SOCK_STREAM<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">if</span><span class="token punctuation">(</span> sock_netmask <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>  
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  
        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"create socket failture...GetLocalNetMask\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">return</span> <span class="token punctuation">;</span>  
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  

    <span class="token function">memset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>ifr_mask<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>ifr_mask<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    

    <span class="token comment" spellcheck="true">/* è·å–æŒ‡å®šç½‘å¡çš„å­ç½‘æ©ç  */</span>
    <span class="token function">strncpy</span><span class="token punctuation">(</span>ifr_mask<span class="token punctuation">.</span>ifr_name<span class="token punctuation">,</span> <span class="token string">"eth0"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>ifr_mask<span class="token punctuation">.</span>ifr_name <span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     

    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token function">ioctl</span><span class="token punctuation">(</span> sock_netmask<span class="token punctuation">,</span> SIOCGIFNETMASK<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ifr_mask <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">)</span>   
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"mac ioctl error\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">return</span> <span class="token punctuation">;</span>  
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  

    net_mask <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token keyword">struct</span> sockaddr_in <span class="token operator">*</span> <span class="token punctuation">)</span><span class="token operator">&amp;</span><span class="token punctuation">(</span> ifr_mask<span class="token punctuation">.</span>ifr_netmask <span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token function">strcpy</span><span class="token punctuation">(</span> netmask_addr<span class="token punctuation">,</span> <span class="token function">inet_ntoa</span><span class="token punctuation">(</span> net_mask <span class="token operator">-></span> sin_addr <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>  

    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"local net adapter:[ %-5s ] mask  [ %-20s ]\n"</span><span class="token punctuation">,</span><span class="token string">"eth0"</span><span class="token punctuation">,</span>netmask_addr<span class="token punctuation">)</span><span class="token punctuation">;</span>      

    <span class="token function">close</span><span class="token punctuation">(</span> sock_netmask <span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> <span class="token punctuation">;</span>  
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">getLocalMac</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  
    <span class="token keyword">int</span> sock_mac<span class="token punctuation">;</span>  

    <span class="token keyword">struct</span> ifreq ifr_mac<span class="token punctuation">;</span>  
    <span class="token keyword">char</span> mac_addr<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span>     

    sock_mac <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span> AF_INET<span class="token punctuation">,</span> SOCK_STREAM<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">if</span><span class="token punctuation">(</span> sock_mac <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>  
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  
        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"create socket falise...mac\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">return</span> <span class="token punctuation">;</span>  
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  

    <span class="token function">memset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>ifr_mac<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>ifr_mac<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
    <span class="token function">strncpy</span><span class="token punctuation">(</span>ifr_mac<span class="token punctuation">.</span>ifr_name<span class="token punctuation">,</span> <span class="token string">"eth0"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>ifr_mac<span class="token punctuation">.</span>ifr_name<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     

    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token function">ioctl</span><span class="token punctuation">(</span> sock_mac<span class="token punctuation">,</span> SIOCGIFHWADDR<span class="token punctuation">,</span> <span class="token operator">&amp;</span>ifr_mac<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>  
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"mac ioctl error\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">return</span> <span class="token punctuation">;</span>  
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  

    <span class="token function">sprintf</span><span class="token punctuation">(</span>mac_addr<span class="token punctuation">,</span><span class="token string">"%02x%02x%02x%02x%02x%02x"</span><span class="token punctuation">,</span>  
            <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span>ifr_mac<span class="token punctuation">.</span>ifr_hwaddr<span class="token punctuation">.</span>sa_data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  
            <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span>ifr_mac<span class="token punctuation">.</span>ifr_hwaddr<span class="token punctuation">.</span>sa_data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  
            <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span>ifr_mac<span class="token punctuation">.</span>ifr_hwaddr<span class="token punctuation">.</span>sa_data<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  
            <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span>ifr_mac<span class="token punctuation">.</span>ifr_hwaddr<span class="token punctuation">.</span>sa_data<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  
            <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span>ifr_mac<span class="token punctuation">.</span>ifr_hwaddr<span class="token punctuation">.</span>sa_data<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  
            <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span>ifr_mac<span class="token punctuation">.</span>ifr_hwaddr<span class="token punctuation">.</span>sa_data<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  

    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"local net adapter:[ %-5s ] mac   [ %-20s ]\n"</span><span class="token punctuation">,</span><span class="token string">"eth0"</span><span class="token punctuation">,</span>mac_addr<span class="token punctuation">)</span><span class="token punctuation">;</span>      

    <span class="token function">close</span><span class="token punctuation">(</span> sock_mac <span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> <span class="token punctuation">;</span>  
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>   
<span class="token keyword">void</span> <span class="token function">getGateWay</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  
    FILE <span class="token operator">*</span>fp<span class="token punctuation">;</span>  
    <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">512</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  
    <span class="token keyword">char</span> cmd<span class="token punctuation">[</span><span class="token number">128</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  
    <span class="token keyword">char</span> gateway<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  
    <span class="token keyword">char</span> <span class="token operator">*</span>tmp<span class="token punctuation">;</span>  

    <span class="token function">strcpy</span><span class="token punctuation">(</span>cmd<span class="token punctuation">,</span> <span class="token string">"ip route"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    fp <span class="token operator">=</span> <span class="token function">popen</span><span class="token punctuation">(</span>cmd<span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">==</span> fp<span class="token punctuation">)</span>  
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  
        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"popen error"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">return</span> <span class="token punctuation">;</span>  
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">fgets</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">,</span> fp<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>  
    <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>  
        tmp <span class="token operator">=</span>buf<span class="token punctuation">;</span>  
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">*</span>tmp <span class="token operator">&amp;&amp;</span> <span class="token function">isspace</span><span class="token punctuation">(</span><span class="token operator">*</span>tmp<span class="token punctuation">)</span><span class="token punctuation">)</span>  
            <span class="token operator">++</span> tmp<span class="token punctuation">;</span>  
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strncmp</span><span class="token punctuation">(</span>tmp<span class="token punctuation">,</span> <span class="token string">"default"</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token string">"default"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>  
            <span class="token keyword">break</span><span class="token punctuation">;</span>  
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  
    <span class="token function">sscanf</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token string">"%*s%*s%s"</span><span class="token punctuation">,</span> gateway<span class="token punctuation">)</span><span class="token punctuation">;</span>         
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"default gateway:%s\n"</span><span class="token punctuation">,</span> gateway<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token function">pclose</span><span class="token punctuation">(</span>fp<span class="token punctuation">)</span><span class="token punctuation">;</span>  

    <span class="token keyword">return</span> <span class="token punctuation">;</span>  
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>  
<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token function">getLocalIp</span><span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token punctuation">;</span>
    <span class="token function">getlocalIp2</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getLocalNetMask</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getLocalMac</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getGateWay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span></code></pre>
<p><strong>è¿è¡Œç»“æœï¼š</strong><br><img src="http://upload-images.jianshu.io/upload_images/1736256-22fbb52f340934b6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="net.png"></p>
]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>ç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title>macOSå°æŠ€èƒ½</title>
    <url>/2018/12/10/d7f9.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="iTerm2"><a href="#iTerm2" class="headerlink" title="iTerm2"></a>iTerm2</h2><h3 id="iTerm2-SSHå…å¯†ç è¿œç¨‹è¿æ¥æœåŠ¡å™¨"><a href="#iTerm2-SSHå…å¯†ç è¿œç¨‹è¿æ¥æœåŠ¡å™¨" class="headerlink" title="iTerm2 SSHå…å¯†ç è¿œç¨‹è¿æ¥æœåŠ¡å™¨"></a>iTerm2 SSHå…å¯†ç è¿œç¨‹è¿æ¥æœåŠ¡å™¨</h3><pre class=" language-sh"><code class="language-sh">#!/usr/bin/expect

set timeout 30
spawn ssh -p [lindex $argv 0] [lindex $argv 1]@[lindex $argv 2]
expect &#123;
        "(yes/no)?"
        &#123;send "yes\n";exp_continue&#125;
        "password:"
        &#123;send "[lindex $argv 3]\n"&#125;
&#125;
expect "~"
send "clear\n"
interact</code></pre>
<a id="more"></a>
<p>è§£è¯´<br>è¿™é‡Œ<code>[lindex argv0]</code>ï¼Œ<code>[lindexargv0]</code>ï¼Œ<code>[lindexargv 1]</code>ï¼Œ <code>[lindex argv2]</code>ï¼Œ<code>[lindexargv2]</code>ï¼Œ<code>[lindexargv 3]</code>åˆ†åˆ«ä»£è¡¨ç€4ä¸ªå‚æ•°ã€‚åˆ†åˆ«æ˜¯ï¼šç«¯å£å·ã€ç”¨æˆ·åã€æœåŠ¡å™¨åœ°å€ã€å¯†ç ã€‚</p>
<h3 id="iTerm2-ç•Œé¢è®¾ç½®å¦‚ä¸‹"><a href="#iTerm2-ç•Œé¢è®¾ç½®å¦‚ä¸‹" class="headerlink" title="iTerm2 ç•Œé¢è®¾ç½®å¦‚ä¸‹"></a>iTerm2 ç•Œé¢è®¾ç½®å¦‚ä¸‹</h3><p><img src="https://upload-images.jianshu.io/upload_images/1736256-40764b317275b7a6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="iTerm2"></p>
<h3 id="SSH-å…å¯†ç™»é™†åˆ°æœåŠ¡å™¨"><a href="#SSH-å…å¯†ç™»é™†åˆ°æœåŠ¡å™¨" class="headerlink" title="SSH å…å¯†ç™»é™†åˆ°æœåŠ¡å™¨"></a>SSH å…å¯†ç™»é™†åˆ°æœåŠ¡å™¨</h3><ol>
<li>æ‹·è´å…¬é’¥åˆ°æœåŠ¡å™¨<pre><code>scp -p ~/.ssh/id_rsa.pub ubuntu@10.10.10.10:/home/ubuntu/.ssh/authorized_keys</code></pre>
</li>
<li>ssh é…ç½®æ–‡ä»¶è®¾ç½®<br><br> <code>/Users/alex/.ssh/config</code><br>è®¾ç½®å¦‚ä¸‹<br><img src="/images/ssh_config.png" alt="ssh_config"></li>
</ol>
]]></content>
      <categories>
        <category>macOS</category>
      </categories>
      <tags>
        <tag>macOS</tag>
        <tag>uninx</tag>
      </tags>
  </entry>
  <entry>
    <title>Tool è®°</title>
    <url>/2017/03/26/bff4.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr>
<h1 id="å·¥å…·1â€“esptool"><a href="#å·¥å…·1â€“esptool" class="headerlink" title="å·¥å…·1â€“esptool"></a>å·¥å…·1â€“esptool</h1><h2 id="å®‰è£…æ–¹æ³•"><a href="#å®‰è£…æ–¹æ³•" class="headerlink" title="å®‰è£…æ–¹æ³•:"></a>å®‰è£…æ–¹æ³•:</h2><p>1.è¶…çº§ç®€å•æŒ‰ç…§æ–¹æ³•</p>
<pre class=" language-bash"><code class="language-bash"> $  pip <span class="token function">install</span> esptool</code></pre>
<p>2.æºç å®‰è£…æ–¹æ³•.</p>
<pre class=" language-bash"><code class="language-bash"> <span class="token comment" spellcheck="true"># ä¸‹è½½æºç </span>
 $ git@github.com:themadinventor/esptool.git
 <span class="token comment" spellcheck="true">#å®‰è£…ä¾èµ–</span>
 $ pip <span class="token function">install</span> pyserial, easy_install pyserial
 <span class="token comment" spellcheck="true">#æˆ–è€… depending on your platform.</span>
 $ <span class="token function">apt-get</span> <span class="token function">install</span> python-serial</code></pre>
<a id="more"></a>

<h2 id="å¸®åŠ©è¯´æ˜"><a href="#å¸®åŠ©è¯´æ˜" class="headerlink" title="å¸®åŠ©è¯´æ˜"></a>å¸®åŠ©è¯´æ˜</h2><pre><code>esptool.py write_flash -h</code></pre>
<h2 id="ä½¿ç”¨ä¾‹å­"><a href="#ä½¿ç”¨ä¾‹å­" class="headerlink" title="ä½¿ç”¨ä¾‹å­:"></a>ä½¿ç”¨ä¾‹å­:</h2><pre><code>sudo python esptool.py --port /dev/ttyUSB0 --baud 1500000 \
write_flash -fm qio -fs 32m -ff 40m 0x3fc000 ../bin/0x3fc000.bin</code></pre>
<h2 id="å‡ ä¸ªæ–‡ä»¶ä¸€èµ·çƒ§å½•"><a href="#å‡ ä¸ªæ–‡ä»¶ä¸€èµ·çƒ§å½•" class="headerlink" title="å‡ ä¸ªæ–‡ä»¶ä¸€èµ·çƒ§å½•"></a>å‡ ä¸ªæ–‡ä»¶ä¸€èµ·çƒ§å½•</h2><pre><code>sudo esptool.py --port /dev/tty.usbserial-DA00H0QE \
--baud 1500000 write_flash -fm qio -fs 32m -ff 40m 0x00000 \
../boot_v1.6.bin 0x01000 user1.4096.new.6.bin 0x3fc000 \
../esp_init_data_default.bin 0x3fe000 ../blank.binÂ </code></pre>
<h3 id="è§£é‡Š"><a href="#è§£é‡Š" class="headerlink" title="è§£é‡Š"></a>è§£é‡Š</h3><p>|å…³é”®å­—| è§£é‡Š|<br>|â€”-|<br>|<strong>port</strong>|                 æŒ‡å®šä¸²å£å·|<br>|<strong>baud</strong>|               æŒ‡å®šä¸‹è½½æ³¢ç‰¹ç‡<br>|<strong>write_flash</strong>|      çƒ§å†™äºŒè¿›åˆ¶æ–‡ä»¶åˆ°æŒ‡å®šä½ç½®<br>|<strong>-fm</strong>|                  SPI Flash mode( â€˜qioâ€™, â€˜qoutâ€™, â€˜dioâ€™, â€˜doutâ€™)<br>|<strong>-ff</strong>|                    SPI Flash frequency(â€˜40mâ€™, â€˜26mâ€™, â€˜20mâ€™, â€˜80mâ€™)<br>|<strong>-fs</strong>|                   SPI Flash size in Mbit(4mâ€™, â€˜2mâ€™, â€˜8mâ€™, â€˜16mâ€™, â€˜32mâ€™, â€˜16m-c1â€™, â€˜32m-c1â€™, â€˜32m-c2â€™, â€˜64mâ€™, â€˜128mâ€™)<br>|<strong>0x3fc000</strong>|         æŒ‡å®šçƒ§å½•åœ°å€<br>|<strong>0x3fc000.bin</strong>|   å¯¹åº”çš„çƒ§å½•æ–‡ä»¶</p>
]]></content>
      <categories>
        <category>esp8266</category>
      </categories>
      <tags>
        <tag>esp8266</tag>
        <tag>WiFi</tag>
        <tag>esptool</tag>
      </tags>
  </entry>
  <entry>
    <title>vscodeé…ç½®</title>
    <url>/2019/08/26/fc74.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Vscodeç»ˆç«¯Terminalæ˜¾ç¤ºzshçš„å­—ä½“è®¾ç½®"><a href="#Vscodeç»ˆç«¯Terminalæ˜¾ç¤ºzshçš„å­—ä½“è®¾ç½®" class="headerlink" title="Vscodeç»ˆç«¯Terminalæ˜¾ç¤ºzshçš„å­—ä½“è®¾ç½®"></a>Vscodeç»ˆç«¯Terminalæ˜¾ç¤ºzshçš„å­—ä½“è®¾ç½®</h2><ul>
<li><p>æ²¡æœ‰è®¾ç½®ä¹‹å‰çš„æ•ˆæœ<br><img src="/images/zsh01.png" alt="zsh2"></p>
</li>
<li><p>å®‰è£…<a href="https://github.com/powerline/fonts/blob/master/Meslo%20Slashed/Meslo%20LG%20M%20Regular%20for%20Powerline.ttf">Meslo LG M for Powerline</a> åï¼Œé…ç½®VsCode<br><br><img src="/images/Meslo.png" alt="Meslo"></p>
</li>
<li><p>å®‰è£…åæ•ˆæœ<br><img src="/images/zsh02.png" alt="zsh2"></p>
</li>
</ul>
<a id="more"></a>

<h2 id="vscode-é…ç½®åŒæ­¥"><a href="#vscode-é…ç½®åŒæ­¥" class="headerlink" title="vscode é…ç½®åŒæ­¥"></a>vscode é…ç½®åŒæ­¥</h2><ul>
<li><strong>å®‰è£…æ’ä»¶ <code>sync</code></strong><br><img src="/images/pasted-2.png" alt="upload successful"></li>
<li><strong>ç™»å½•<code>github</code>è´¦å·è·å–<code>token</code></strong><br><img src="/images/pasted-3.png" alt="upload successful"><br><img src="/images/pasted-4.png" alt="upload successful"></li>
<li><strong>ä¸Šä¼ é…ç½®</strong><br><br>å¿«æ·é”®: <code>shift+alt+u</code> åœ¨å¼¹å‡ºæ¥çš„æ¡†é‡Œé¢å¡«å…¥<code>token</code>,ç„¶åå†è¾“å‡ºå“ªé‡Œèƒ½çœ‹åˆ°ç”Ÿæˆä¸€ä¸ª<code>GitHub Gist</code><br>ç”¨äºå¦å¤–ä¸€å°æœºå™¨ä¸‹è½½é…ç½®ï¼›</li>
<li><strong>ä¸‹è½½é…ç½®</strong> <br><br>å¡«å…¥gist id,å¦‚ä¸‹å›¾<br><img src="/images/pasted-6.png" alt="upload successful"><br><br>å¿«æ·é”®:<code>shift+alt+d</code> ä¸‹è½½é…ç½®<br><img src="/images/pasted-7.png" alt="upload successful"></li>
</ul>
<h2 id="å¤´æ–‡ä»¶é…ç½®"><a href="#å¤´æ–‡ä»¶é…ç½®" class="headerlink" title="å¤´æ–‡ä»¶é…ç½®"></a>å¤´æ–‡ä»¶é…ç½®</h2><ul>
<li><p>å®‰è£…æ’ä»¶ : <code>C/C++ for Visual Studio Code</code><br><img src="/images/pasted-8.png" alt="upload successful"></p>
</li>
<li><p>é…ç½® : <code>IntelliSense</code><br></p>
<blockquote>
<p>å®‰è£…å®Œæˆä¹‹åï¼Œæ‰“å¼€ä½ çš„åŒ…å«c++çš„æ–‡ä»¶å¤¹ï¼Œå°†ä¼šç”Ÿæˆä¸€ä¸ª.vscodeæ–‡ä»¶å¤¹ï¼Œæ‰€æœ‰çš„é…ç½®å°†åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­è¿›è¡Œé…ç½®ã€‚</p>
</blockquote>
</li>
</ul>
<p>ctrl+shift+Pæ‰“å¼€Command Palette,è¿è¡ŒC/Cpp: Edit configurationsâ€¦ç”Ÿæˆc_cpp_properties.jsonï¼š<br><br><strong>æ¯”å¦‚æˆ‘çš„é…ç½®æ–‡ä»¶å¦‚ä¸‹:</strong><br><img src="/images/pasted-9.png" alt="upload successful"></p>
]]></content>
      <tags>
        <tag>go</tag>
        <tag>vscode</tag>
      </tags>
  </entry>
  <entry>
    <title>win10 å®ç”¨å·¥å…·.md</title>
    <url>/2019/11/06/c142.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="åŒ…ç®¡ç†å·¥å…·-Scoop"><a href="#åŒ…ç®¡ç†å·¥å…·-Scoop" class="headerlink" title="åŒ…ç®¡ç†å·¥å…· - Scoop"></a>åŒ…ç®¡ç†å·¥å…· - Scoop</h2><ul>
<li><blockquote>
<p>scoop ç±»ä¼¼äºUbuntuä¸‹çš„<code>apt-get install</code><br> </p>
</blockquote>
</li>
<li><a href="https://scoop.sh/">å®˜ç½‘</a><br></li>
<li><strong>å®‰è£…æ³¨æ„åœ°æ–¹:</strong> éœ€è¦ç§‘å­¦ä¸Šç½‘ï¼Œä¸èƒ½ä¸‹è½½ä¸äº†<br></li>
</ul>
<h3 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h3><ol>
<li>æ‰“å¼€ <code>powershell</code>,è¾“å…¥ä¸‹è½½å®‰è£…å‘½ä»¤</li>
</ol>
<pre class=" language-sh"><code class="language-sh">PS C:\Users\87832> iex (new-object net.webclient).downloadstring('https://get.scoop.sh')
Initializing...
Downloading scoop...
Extracting...
Creating shim...
Downloading main bucket...
Extracting...
Adding ~\scoop\shims to your path.
'lastupdate' has been set to '2019-11-06T11:20:35.0813495+08:00'
Scoop was installed successfully!
Type 'scoop help' for instructions.
PS C:\Users\87832> scoop help</code></pre>
<a id="more"></a>
<h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><h5 id="å®‰è£…7zip"><a href="#å®‰è£…7zip" class="headerlink" title="å®‰è£…7zip"></a>å®‰è£…7zip</h5><pre class=" language-sh"><code class="language-sh">Î»scoop install 7zip
Installing '7zip' (19.00) [64bit]
7z1900-x64.msi (1.7 MB) [===========================================================] 100%
Checking hash of 7z1900-x64.msi ... ok.
Extracting 7z1900-x64.msi ... done.
Linking ~\scoop\apps\7zip\current => ~\scoop\apps\7zip\19.00
Creating shim for '7z'.
Creating shortcut for 7-Zip (7zFM.exe)
'7zip' (19.00) was installed successfully!</code></pre>
<h2 id="æ–‡ä»¶æœç´¢"><a href="#æ–‡ä»¶æœç´¢" class="headerlink" title="æ–‡ä»¶æœç´¢"></a>æ–‡ä»¶æœç´¢</h2><ul>
<li><a href="https://www.voidtools.com/zh-cn/">everything</a> </li>
<li><a href="http://www.wox.one/">Wox</a></li>
</ul>
<h2 id="å¼€å‘å·¥å…·"><a href="#å¼€å‘å·¥å…·" class="headerlink" title="å¼€å‘å·¥å…·"></a>å¼€å‘å·¥å…·</h2><h3 id="REST-Client"><a href="#REST-Client" class="headerlink" title="REST Client"></a>REST Client</h3><p>å‚è€ƒ: <a href="https://blog.csdn.net/noArk/article/details/86748738">https://blog.csdn.net/noArk/article/details/86748738</a></p>
<h3 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h3><p><a href="http://plantuml.com/zh/">http://plantuml.com/zh/</a></p>
<h3 id="Window-Terminal-æŠ€å·§"><a href="#Window-Terminal-æŠ€å·§" class="headerlink" title="Window Terminal æŠ€å·§"></a>Window Terminal æŠ€å·§</h3><h4 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h4><table>
<thead>
<tr>
<th align="left">å¿«æ·é”®</th>
<th align="left">ç”¨å¤„</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Ctrl+Alt+æ•°å­—</td>
<td align="left">åˆ‡æ¢æ‰“å¼€çš„æ§åˆ¶å°</td>
</tr>
<tr>
<td align="left">Ctrl+Shift+æ•°å­—</td>
<td align="left">æ‰“å¼€æ–°çš„æ§åˆ¶å°</td>
</tr>
<tr>
<td align="left">Shift+Alt++/=</td>
<td align="left">æ¨ªå‘æ‰“å¼€æ–°æ§åˆ¶å°</td>
</tr>
<tr>
<td align="left">Shift+Alt+_/-</td>
<td align="left">çºµå‘æ‰“å¼€æ–°æ§åˆ¶å°</td>
</tr>
<tr>
<td align="left">Shift+Alt+æ–¹å‘é”®</td>
<td align="left">æ§åˆ¶æ§åˆ¶å°å°ºå¯¸</td>
</tr>
<tr>
<td align="left">Alt+æ–¹å‘é”®</td>
<td align="left">åœ¨æœ¬æ ‡ç­¾å†…åˆ‡æ¢æ§åˆ¶å°</td>
</tr>
<tr>
<td align="left">Ctrl+Shift+w</td>
<td align="left">å…³é—­å½“å‰æ§åˆ¶å°</td>
</tr>
</tbody></table>
]]></content>
  </entry>
  <entry>
    <title>win10å­ç³»ç»Ÿwsl</title>
    <url>/2019/08/21/d9b0.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="å­ç³»ç»Ÿé‡å¯wsl"><a href="#å­ç³»ç»Ÿé‡å¯wsl" class="headerlink" title="å­ç³»ç»Ÿé‡å¯wsl"></a>å­ç³»ç»Ÿé‡å¯wsl</h2><p>ç®¡ç†å‘˜æƒé™ä¸‹:</p>
<pre class=" language-sh"><code class="language-sh">net stop LxssManager
net start LxssManager</code></pre>
<h2 id="å­ç³»ç»Ÿåœ¨win10çš„é»˜è®¤ä½ç½®"><a href="#å­ç³»ç»Ÿåœ¨win10çš„é»˜è®¤ä½ç½®" class="headerlink" title="å­ç³»ç»Ÿåœ¨win10çš„é»˜è®¤ä½ç½®"></a>å­ç³»ç»Ÿåœ¨win10çš„é»˜è®¤ä½ç½®</h2><pre class=" language-sh"><code class="language-sh">C:\Users\87832\AppData\Local\Packages\CanonicalGroupLimited.Ubuntu18.04onWindows_79rhkp1fndgsc\LocalState</code></pre>
<p><img src="/images/pasted-1.png" alt="upload successful"></p>
]]></content>
      <tags>
        <tag>win10</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºæœ¬ç®—æ³•ä¹‹å¹³è¡¡äºŒå‰æ ‘</title>
    <url>/2018/03/25/646b.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="å¹³è¡¡äºŒå‰æ ‘"><a href="#å¹³è¡¡äºŒå‰æ ‘" class="headerlink" title="å¹³è¡¡äºŒå‰æ ‘"></a>å¹³è¡¡äºŒå‰æ ‘</h2><p><a href="https://baike.baidu.com/item/%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91/10421057?fr=aladdin">æ‘˜è‡ªç™¾åº¦:</a></p>
<blockquote>
<p>å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼ˆSelf-balancing binary search treeï¼‰åˆè¢«ç§°ä¸ºAVLæ ‘ï¼ˆæœ‰åˆ«äºAVLç®—æ³•ï¼‰ï¼Œä¸”å…·æœ‰ä»¥ä¸‹æ€§è´¨ï¼šå®ƒæ˜¯ä¸€ æ£µç©ºæ ‘æˆ–å®ƒçš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1ï¼Œå¹¶ä¸”å·¦å³ä¸¤ä¸ªå­æ ‘éƒ½æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ï¼ŒåŒæ—¶ï¼Œå¹³è¡¡äºŒå‰æ ‘å¿…å®šæ˜¯äºŒå‰æœç´¢æ ‘ï¼Œåä¹‹åˆ™ä¸ä¸€å®šã€‚å¹³è¡¡äºŒå‰æ ‘çš„å¸¸ç”¨å®ç°æ–¹æ³•æœ‰<code>çº¢é»‘æ ‘</code>ã€<code>AVL</code>ã€<code>æ›¿ç½ªç¾Šæ ‘</code>ã€<code>Treap</code>ã€<code>ä¼¸å±•æ ‘</code>ç­‰ã€‚ æœ€å°äºŒå‰å¹³è¡¡æ ‘çš„èŠ‚ç‚¹çš„å…¬å¼å¦‚ä¸‹ $F(n)=F(n-1)+F(n-2)+1$ è¿™ä¸ªç±»ä¼¼äºä¸€ä¸ªé€’å½’çš„æ•°åˆ—ï¼Œå¯ä»¥å‚è€ƒFibonacci(æ–æ³¢é‚£å¥‘)æ•°åˆ—ï¼Œ1æ˜¯æ ¹èŠ‚ç‚¹ï¼ŒF(n-1)æ˜¯å·¦å­æ ‘çš„èŠ‚ç‚¹æ•°é‡ï¼ŒF(n-2)æ˜¯å³å­æ ‘çš„èŠ‚ç‚¹æ•°é‡</p>
</blockquote>
<a id="more"></a>

<h2 id="AVLæ ‘"><a href="#AVLæ ‘" class="headerlink" title="AVLæ ‘"></a>AVLæ ‘</h2><p><a href="https://baike.baidu.com/item/%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91/10421057?fr=aladdin">è¿˜æ˜¯æ‘˜è‡ªç™¾åº¦</a></p>
<blockquote>
<p>AVLæ˜¯æœ€å…ˆå‘æ˜çš„è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ç®—æ³•ã€‚åœ¨AVLä¸­ä»»ä½•èŠ‚ç‚¹çš„ä¸¤ä¸ªå„¿å­å­æ ‘çš„é«˜åº¦æœ€å¤§å·®åˆ«ä¸ºä¸€ï¼Œæ‰€ä»¥å®ƒä¹Ÿè¢«ç§°ä¸ºé«˜åº¦å¹³è¡¡æ ‘ï¼Œnä¸ªç»“ç‚¹çš„AVLæ ‘æœ€å¤§æ·±åº¦çº¦1.44log2nã€‚æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤åœ¨å¹³å‡å’Œæœ€åæƒ…å†µä¸‹éƒ½æ˜¯Oï¼ˆlog nï¼‰ã€‚å¢åŠ å’Œåˆ é™¤å¯èƒ½éœ€è¦é€šè¿‡ä¸€æ¬¡æˆ–å¤šæ¬¡æ ‘æ—‹è½¬æ¥é‡æ–°å¹³è¡¡è¿™ä¸ªæ ‘ã€‚</p>
</blockquote>
<p>æ ¹æ®AVLæ ‘çš„å®šä¹‰ï¼ŒAVLæ ‘ä¸­çš„ä»»æ„ç»“ç‚¹çš„å¹³è¡¡å› å­åªå¯èƒ½æ˜¯-1ï¼ˆå³å­æ ‘é«˜äºå·¦å­æ ‘ï¼‰ã€0æˆ–è€…1ï¼ˆå·¦å­æ ‘é«˜äºå³å­æ ‘ï¼‰ï¼Œåœ¨æŸäº›å›¾ä¸­ä¹Ÿä¼šè¡¨ç¤ºä¸ºç»å¯¹é«˜åº¦å·®ï¼Œå³0ï¼Œ1ï¼Œ2è¿™ç§å½¢å¼ï¼Œè¯·æ³¨æ„ç†è§£ã€‚</p>
<pre><code>BalanceFactor = height(left-sutree) âˆ’ height(right-sutree)</code></pre>
<div align=center>
![AVLæ ‘][2]
</div>

<h3 id="AVLå¹³è¡¡äºŒå‰æ ‘ç»“æ„å®šä¹‰"><a href="#AVLå¹³è¡¡äºŒå‰æ ‘ç»“æ„å®šä¹‰" class="headerlink" title="AVLå¹³è¡¡äºŒå‰æ ‘ç»“æ„å®šä¹‰"></a>AVLå¹³è¡¡äºŒå‰æ ‘ç»“æ„å®šä¹‰</h3><pre class=" language-C"><code class="language-C">typedef struct AVLNode *Tree;
typedef int ElementType;
struct AVLNode
&#123;
    int depth; //æ·±åº¦ï¼Œè¿™é‡Œè®¡ç®—æ¯ä¸ªç»“ç‚¹çš„æ·±åº¦ï¼Œé€šè¿‡æ·±åº¦çš„æ¯”è¾ƒå¯å¾—å‡ºæ˜¯å¦å¹³è¡¡
    Tree parent; //è¯¥ç»“ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œæ–¹ä¾¿æ“ä½œ
    ElementType val; //ç»“ç‚¹å€¼
    Tree lchild;
    Tree rchild;
    AVLNode(int val=0) //é»˜è®¤æ„é€ å‡½æ•°
    &#123;
        parent=NULL;
        depth=0;
        lchild=rchild=NULL;
        this->val=val;
    &#125;
&#125;;</code></pre>
<h3 id="AVLå¹³è¡¡äºŒå‰æ ‘æ“ä½œ"><a href="#AVLå¹³è¡¡äºŒå‰æ ‘æ“ä½œ" class="headerlink" title="AVLå¹³è¡¡äºŒå‰æ ‘æ“ä½œ"></a>AVLå¹³è¡¡äºŒå‰æ ‘æ“ä½œ</h3><blockquote>
<p>å¹³è¡¡çš„è°ƒæ•´å…±æœ‰å››ç§æƒ…å†µï¼šåˆ†åˆ«ä¸º<code>LL</code>,<code>LR</code>,<code>RR</code>,<code>RL</code>ã€‚<br>å½“çˆ¶èŠ‚ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„é«˜åº¦ä¹‹å·®ä¸èƒ½å¤§äº1ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½é«˜è¿‡1å±‚ï¼Œå¦åˆ™è¯¥æ ‘å°±å¤±è¡¡äº†ï¼Œå°±è¦å¯¹æ ‘è¿›è¡Œæ“ä½œ</p>
</blockquote>
<h4 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><p>æˆ‘ä»¬å¯ä»¥è®°å½•å½“å‰èŠ‚ç‚¹çš„é«˜åº¦ï¼Œæ¯”å¦‚ç©ºèŠ‚ç‚¹æ˜¯-1ï¼Œå¶å­èŠ‚ç‚¹æ˜¯0ï¼Œéå¶å­èŠ‚ç‚¹çš„heightå¾€æ ¹èŠ‚ç‚¹é€’å¢ï¼Œæ¯”å¦‚åœ¨ä¸‹å›¾<br>ä¸­æˆ‘ä»¬è®¤ä¸ºæ ‘çš„é«˜åº¦ä¸ºh=2ã€‚</p>
<div align=center>
![AVL][3]
</div>

<h4 id="AVLæ ‘çš„æ’å…¥æ—¶çš„å¤±è¡¡ä¸è°ƒæ•´"><a href="#AVLæ ‘çš„æ’å…¥æ—¶çš„å¤±è¡¡ä¸è°ƒæ•´" class="headerlink" title="AVLæ ‘çš„æ’å…¥æ—¶çš„å¤±è¡¡ä¸è°ƒæ•´"></a>AVLæ ‘çš„æ’å…¥æ—¶çš„å¤±è¡¡ä¸è°ƒæ•´</h4><ul>
<li><p>å¤±è¡¡ä¸è°ƒæ•´æ–¹å‘</p>
<blockquote>
<p>å¹³è¡¡äºŒå‰æ ‘çš„å¤±è¡¡è°ƒæ•´ä¸»è¦æ˜¯é€šè¿‡æ—‹è½¬<strong>æœ€å°å¤±è¡¡å­æ ‘</strong>æ¥å®ç°çš„ã€‚(ç„¶åä½ è¦é—®å•¥æ˜¯<em><em><font color="red">æœ€å°å¤±è¡¡å­æ ‘</font></em></em> äº†ï¼ŸğŸ¤·â€ ğŸ˜¶  ã€‚ã€‚ã€‚ )</p>
</blockquote>
</li>
<li><p>æœ€å°å¤±è¡¡å­æ ‘</p>
<blockquote>
<p>åœ¨æ–°æ’å…¥çš„ç»“ç‚¹å‘ä¸ŠæŸ¥æ‰¾ï¼Œä»¥ç¬¬ä¸€ä¸ªå¹³è¡¡å› å­çš„ç»å¯¹å€¼è¶…è¿‡1çš„ç»“ç‚¹ä¸ºæ ¹çš„å­æ ‘ç§°ä¸ºæœ€å°ä¸å¹³è¡¡å­æ ‘ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ£µå¤±è¡¡çš„æ ‘ï¼Œæ˜¯æœ‰å¯èƒ½æœ‰å¤šæ£µå­æ ‘åŒæ—¶å¤±è¡¡çš„ï¼Œå¦‚ä¸‹ã€‚è€Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬åªè¦è°ƒæ•´æœ€å°çš„ä¸å¹³è¡¡å­æ ‘ï¼Œå°±èƒ½å¤Ÿå°†ä¸å¹³è¡¡çš„æ ‘è°ƒæ•´ä¸ºå¹³è¡¡çš„æ ‘ã€‚</p>
</blockquote>
</li>
</ul>
<p><strong>ä¾‹å­1</strong> åœ¨å›¾Aä¸­ã€‚2ç»“ç‚¹ï¼ˆå·¦å­æ ‘æ ‘é«˜-å³å­æ ‘æ ‘é«˜ï¼‰çš„ç»å¯¹å€¼=2ã€‚åŒç†ï¼Œ3ç»“ç‚¹çš„å¹³è¡¡å› å­ä¹Ÿä¸º2.æ­¤æ—¶åŒæ—¶å­˜åœ¨äº†ä¸¤æ£µä¸å¹³è¡¡å­æ ‘ï¼Œè€Œä»¥3ä¸ºæ ¹çš„æ ‘æ˜¯æœ€å°çš„ä¸å¹³è¡¡å­æ ‘ã€‚æˆ‘ä»¬åªè¦å°†å…¶ä»¥3ä¸ºä¸­å¿ƒï¼Œå°†æœ€å°ä¸å¹³è¡¡æ ‘å‘å·¦æ—‹è½¬ï¼Œå³å¯å¾—åˆ°å¹³è¡¡äºŒå‰æ ‘ï¼Œå¦‚å›¾Bã€‚</p>
<div align="center">
![val balance][4]
</div>

<p><strong>ä¾‹å­2</strong></p>
<h2 id="çº¢é»‘æ ‘"><a href="#çº¢é»‘æ ‘" class="headerlink" title="çº¢é»‘æ ‘"></a>çº¢é»‘æ ‘</h2><p><a href="https://baike.baidu.com/item/%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91/10421057?fr=aladdin">åˆæ‘˜è‡ªç™¾åº¦</a></p>
<blockquote>
<p>çº¢é»‘æ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œæ˜¯åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ç”¨åˆ°çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œå…¸å‹çš„ç”¨é€”æ˜¯å®ç°å…³è”æ•°ç»„ã€‚å®ƒæ˜¯åœ¨1972å¹´ç”±Rudolf Bayerå‘æ˜çš„ï¼Œä»–ç§°ä¹‹ä¸ºâ€å¯¹ç§°äºŒå‰Bæ ‘â€ï¼Œå®ƒç°ä»£çš„åå­—æ˜¯åœ¨ Leo J. Guibas å’Œ Robert Sedgewick äº1978å¹´å†™çš„ä¸€ç¯‡è®ºæ–‡ä¸­è·å¾—çš„ã€‚å®ƒæ˜¯å¤æ‚çš„ï¼Œä½†å®ƒçš„æ“ä½œæœ‰ç€è‰¯å¥½çš„æœ€åæƒ…å†µè¿è¡Œæ—¶é—´ï¼Œå¹¶ä¸”åœ¨å®è·µä¸­æ˜¯é«˜æ•ˆçš„: å®ƒå¯ä»¥åœ¨O(log n)æ—¶é—´å†…åšæŸ¥æ‰¾ï¼Œæ’å…¥å’Œåˆ é™¤ï¼Œè¿™é‡Œçš„næ˜¯æ ‘ä¸­å…ƒç´ çš„æ•°ç›®ã€‚</p>
</blockquote>
<h3 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><ol>
<li>æ‰€æœ‰èŠ‚ç‚¹çš„é¢œè‰²æ˜¯çº¢è‰²æˆ–è€…é»‘è‰²ï¼›(å¾ˆæœ‰é“ç†çš„æ ·å­ï¼ŒğŸ™„ğŸ™„ğŸ™„ğŸ™„ğŸ™„ğŸ™„)</li>
<li>æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²ï¼›</li>
<li>æ‰€æœ‰çš„å¶å­èŠ‚ç‚¹æ˜¯é»‘è‰²ï¼ˆå¶å­èŠ‚ç‚¹åŒ…å«NULLï¼‰ï¼›</li>
<li>æ¯ä¸ªçº¢è‰²çš„èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªé»‘è‰²çš„å­èŠ‚ç‚¹(å³çº¢èŠ‚ç‚¹çš„å„¿å­å’Œçˆ¶äº²éƒ½å¿…é¡»ä¸ºé»‘)ï¼›</li>
<li>ä»ä»»æ„èŠ‚ç‚¹å‡ºå‘ï¼Œå…¶åˆ°å¶å­èŠ‚ç‚¹æ ‘å°¾NULLç»“ç‚¹çš„æ¯ä¸€æ¡è·¯å¾„ä¸Šéƒ½åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹</li>
</ol>
<div align="center">
![rbT][5]
</div>

<h3 id="æ ‘çš„æ—‹è½¬çŸ¥è¯†"><a href="#æ ‘çš„æ—‹è½¬çŸ¥è¯†" class="headerlink" title="æ ‘çš„æ—‹è½¬çŸ¥è¯†"></a>æ ‘çš„æ—‹è½¬çŸ¥è¯†</h3><blockquote>
<p>å½“æˆ‘ä»¬åœ¨å¯¹çº¢é»‘æ ‘è¿›è¡Œæ’å…¥å’Œåˆ é™¤ç­‰æ“ä½œæ—¶ï¼Œå¯¹æ ‘åšäº†ä¿®æ”¹ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šè¿èƒŒçº¢é»‘æ ‘çš„æ€§è´¨ã€‚<br>ä¸ºäº†ä¿æŒçº¢é»‘æ ‘çš„æ€§è´¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹æ ‘è¿›è¡Œæ—‹è½¬ï¼Œå³ä¿®æ”¹æ ‘ç§æŸäº›èŠ‚ç‚¹çš„é¢œè‰²åŠæŒ‡é’ˆç»“æ„ï¼Œä»¥è¾¾åˆ°å¯¹çº¢é»‘æ ‘è¿›è¡Œæ’å…¥ã€åˆ é™¤èŠ‚ç‚¹ç­‰æ“ä½œæ—¶ï¼Œçº¢é»‘æ ‘ä¾ç„¶èƒ½ä¿æŒå®ƒç‰¹æœ‰çš„æ€§è´¨ï¼ˆå¦‚ä¸Šæ–‡æ‰€è¿°çš„ï¼Œäº”ç‚¹æ€§è´¨ï¼‰ã€‚</p>
</blockquote>
<ul>
<li>å·¦æ—‹<blockquote>
<p>å½“åœ¨æŸä¸ªèŠ‚ç‚¹pivotä¸Šï¼Œåšå·¦æ—‹æ“ä½œæ—¶ï¼Œæˆ‘ä»¬å‡è®¾å®ƒçš„å³å­©å­yä¸æ˜¯NIL[T]ï¼Œpivotå¯ä»¥ä¸ºæ ‘å†…ä»»æ„å·¦å­©å­è€Œä¸æ˜¯NIL[T]çš„èŠ‚ç‚¹ã€‚<br>å·¦æ—‹ä»¥pivotåˆ°yä¹‹é—´çš„é“¾ä¸ºâ€œæ”¯è½´â€è¿›è¡Œï¼Œå®ƒä½¿yæˆä¸ºè¯¥å­©å­æ ‘æ–°çš„æ ¹ï¼Œè€Œyçš„å·¦å­©å­båˆ™æˆä¸ºpivotçš„å³å­©å­ã€‚</p>
</blockquote>
</li>
</ul>
<div align="center">
![rgTl][6]
</div>

<ul>
<li>å³æ—‹</li>
</ul>
<div align="center">
![rgTr][7]
</div>



<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="https://blog.csdn.net/u014634338/article/details/42465089">https://blog.csdn.net/u014634338/article/details/42465089</a></li>
<li><a href="https://www.cnblogs.com/huangxincheng/archive/2012/07/22/2603956.html">https://www.cnblogs.com/huangxincheng/archive/2012/07/22/2603956.html</a></li>
<li><a href="https://blog.csdn.net/Sun_TTTT/article/details/65445754">https://blog.csdn.net/Sun_TTTT/article/details/65445754</a></li>
<li><a href="https://github.com/julycoding/The-Art-Of-Programming-By-July/blob/master/ebook/zh/03.01.md">https://github.com/julycoding/The-Art-Of-Programming-By-July/blob/master/ebook/zh/03.01.md</a></li>
</ul>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>äºŒå‰æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºæœ¬ç®—æ³•ä¹‹äºŒå‰æ ‘</title>
    <url>/2018/03/25/b1e6.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>è¿™å‡ å¤©å¿™äºè€ƒ<font color=#115533>PMP(Project Management Professional)</font>, è¿ç»­å‡ ä¸ªå‘¨æœ«éƒ½åœ¨çœ‹ä¹¦ï¼Œç»ˆäºåœ¨æ˜¨å¤©è€ƒå®Œè¯•äº†ï¼Œä¸çŸ¥é“èƒ½ä¸èƒ½è¿‡ï¼Œ1ä¸ªæœˆåçœ‹å§ï¼ŒğŸ™~<br>è¨€å½’æ­£ä¼ ï¼Œä»Šå¤©æ¥å­¦ä¹ äº†è§£ä¸€ä¸‹äºŒå‰æ ‘ã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯äºŒå‰æ ‘"><a href="#ä»€ä¹ˆæ˜¯äºŒå‰æ ‘" class="headerlink" title="ä»€ä¹ˆæ˜¯äºŒå‰æ ‘"></a>ä»€ä¹ˆæ˜¯äºŒå‰æ ‘</h2><div align=center>
![äºŒå‰æ ‘][1]
</div>

<a id="more"></a>
<p>å…¶å®åœ¨ç¨‹åºä¸­äºŒå‰æ ‘é•¿è¿™æ ·</p>
<div align=center>
![äºŒå‰æ ‘][2]
</div>

<blockquote>
<p>äºŒå‰æ ‘æ˜¯æ•°æ®ç»“æ„ä¸­éå¸¸é‡è¦çš„å†…å®¹ï¼Œåœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œæ¯ä¸ªç»“ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­æ ‘çš„ç»“æ„è¢«ç§°ä½œäºŒå‰æ ‘.</p>
</blockquote>
<p><font color=#0101DF>ä»¥ä¸‹æ‘˜è‡ªç™¾åº¦:</font></p>
<blockquote>
<p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒäºŒå‰æ ‘æ˜¯æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­æ ‘çš„æ ‘ç»“æ„ã€‚é€šå¸¸å­æ ‘è¢«ç§°ä½œâ€œå·¦å­æ ‘â€ï¼ˆleft subtreeï¼‰å’Œâ€œå³å­æ ‘â€ï¼ˆright subtreeï¼‰ã€‚<br>äºŒå‰æ ‘å¸¸è¢«ç”¨äºå®ç°äºŒå‰æŸ¥æ‰¾æ ‘å’ŒäºŒå‰å †ã€‚<br>äºŒå‰æ ‘çš„æ¯ä¸ªç»“ç‚¹è‡³å¤šåªæœ‰äºŒæ£µå­æ ‘(ä¸å­˜åœ¨åº¦å¤§äº2çš„ç»“ç‚¹)ï¼ŒäºŒå‰æ ‘çš„å­æ ‘æœ‰å·¦å³ä¹‹åˆ†ï¼Œæ¬¡åºä¸èƒ½é¢ å€’ã€‚<br>äºŒå‰æ ‘çš„ç¬¬<code>i</code>å±‚è‡³å¤šæœ‰<code>2^&#123;i-1&#125;</code> ä¸ªç»“ç‚¹ï¼›æ·±åº¦ä¸º<code>k</code>çš„äºŒå‰æ ‘è‡³å¤šæœ‰<code>2^k-1</code>ä¸ªç»“ç‚¹ï¼›<br>å¯¹ä»»ä½•ä¸€æ£µäºŒå‰æ ‘Tï¼Œå¦‚æœå…¶ç»ˆç«¯ç»“ç‚¹æ•°ä¸º<code>n_0</code>ï¼Œåº¦ä¸º<code>2</code>çš„ç»“ç‚¹æ•°ä¸º<code>n_2</code>ï¼Œåˆ™<code>n_0=n_2+1</code>ã€‚<br>ä¸€æ£µæ·±åº¦ä¸º<code>k</code>ï¼Œä¸”æœ‰<code>2^k-1</code>ä¸ªèŠ‚ç‚¹çš„äºŒå‰æ ‘ï¼Œç§°ä¸ºæ»¡äºŒå‰æ ‘ã€‚è¿™ç§æ ‘çš„ç‰¹ç‚¹æ˜¯æ¯ä¸€å±‚ä¸Šçš„èŠ‚ç‚¹æ•°éƒ½æ˜¯æœ€å¤§èŠ‚ç‚¹æ•°ã€‚<br>è€Œåœ¨ä¸€æ£µäºŒå‰æ ‘ä¸­ï¼Œé™¤æœ€åä¸€å±‚å¤–ï¼Œè‹¥å…¶ä½™å±‚éƒ½æ˜¯æ»¡çš„ï¼Œå¹¶ä¸”æœ€åä¸€å±‚æˆ–è€…æ˜¯æ»¡çš„ï¼Œæˆ–è€…æ˜¯åœ¨å³è¾¹ç¼ºå°‘è¿ç»­è‹¥å¹²èŠ‚ç‚¹ï¼Œåˆ™æ­¤äºŒå‰æ ‘ä¸ºå®Œå…¨äºŒå‰æ ‘ã€‚<br>å…·æœ‰nä¸ªèŠ‚ç‚¹çš„å®Œå…¨äºŒå‰æ ‘çš„æ·±åº¦ä¸º<code>log2n+1</code>ã€‚æ·±åº¦ä¸º<code>k</code>çš„å®Œå…¨äºŒå‰æ ‘ï¼Œè‡³å°‘æœ‰<code>2^(k-1)</code>ä¸ªèŠ‚ç‚¹ï¼Œè‡³å¤šæœ‰<code>2^k-1</code>ä¸ªèŠ‚ç‚¹ã€‚</p>
</blockquote>
<h2 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h2><h3 id="ç»“ç‚¹-å­æ ‘"><a href="#ç»“ç‚¹-å­æ ‘" class="headerlink" title="ç»“ç‚¹/å­æ ‘"></a>ç»“ç‚¹/å­æ ‘</h3><blockquote>
<p>äºŒå‰æ ‘æ¯ä¸ªç»“ç‚¹çš„çš„åˆ†æ”¯ç§°ä½œè¯¥ç»“ç‚¹çš„å­æ ‘ï¼Œå…¶å·¦ä¾§åˆ†æ”¯ç§°ä¸ºå·¦å­æ ‘ï¼Œå³ä¾§åˆ†æ”¯ç§°ä¸ºå³å­—æ ‘ã€‚</p>
</blockquote>
<h3 id="æ ‘çš„ç»“ç‚¹"><a href="#æ ‘çš„ç»“ç‚¹" class="headerlink" title="æ ‘çš„ç»“ç‚¹"></a>æ ‘çš„ç»“ç‚¹</h3><blockquote>
<p>åŒ…å«ä¸€ä¸ªæ•°æ®å…ƒç´ åŠè‹¥å¹²æŒ‡å‘å­æ ‘çš„åˆ†æ”¯ï¼›</p>
</blockquote>
<h3 id="å­©å­ç»“ç‚¹"><a href="#å­©å­ç»“ç‚¹" class="headerlink" title="å­©å­ç»“ç‚¹"></a>å­©å­ç»“ç‚¹</h3><blockquote>
<p>ç»“ç‚¹çš„å­æ ‘çš„æ ¹ç§°ä¸ºè¯¥ç»“ç‚¹çš„å­©å­ï¼›</p>
</blockquote>
<h3 id="ç»“ç‚¹å±‚æ¬¡"><a href="#ç»“ç‚¹å±‚æ¬¡" class="headerlink" title="ç»“ç‚¹å±‚æ¬¡"></a>ç»“ç‚¹å±‚æ¬¡</h3><blockquote>
<p>ä¸€ä¸ªç»“ç‚¹çš„å±‚æ¬¡ç›´è§‚ä¸Šæ¥è¯´å°±æ˜¯å…¶æ‰€åœ¨çš„è¡Œï¼Œå…¶ä¸­æ ¹ç»“ç‚¹å±‚æ¬¡ä¸º1ï¼ˆç¬¬ä¸€è¡Œï¼‰ï¼Œå…¶å­ç»“ç‚¹å±‚æ¬¡ä¸º2ï¼ˆç¬¬äºŒè¡Œï¼‰ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç¬¬xè¡Œçš„ç»“ç‚¹ä¸ºxã€‚</p>
</blockquote>
<h3 id="äºŒå‰æ ‘çš„æ·±åº¦-é«˜åº¦"><a href="#äºŒå‰æ ‘çš„æ·±åº¦-é«˜åº¦" class="headerlink" title="äºŒå‰æ ‘çš„æ·±åº¦/é«˜åº¦"></a>äºŒå‰æ ‘çš„æ·±åº¦/é«˜åº¦</h3><blockquote>
<p>äºŒå‰æ ‘çš„æ·±åº¦ï¼ˆé«˜åº¦ï¼‰æŒ‡çš„æ˜¯äºŒå‰æ ‘ä¸­çš„æœ€å¤§å¶å­ç»“ç‚¹æ‰€åœ¨çš„å±‚ã€‚<br>äºŒå‰æ ‘çš„æ·±åº¦=max(å·¦å­æ ‘æ·±åº¦ï¼Œå³å­æ•°æ·±åº¦)+1ï¼Œå¯ç”¨é€’å½’çš„æ–¹å¼å®ç°ã€‚</p>
</blockquote>
<h3 id="ç»“ç‚¹çš„åº¦"><a href="#ç»“ç‚¹çš„åº¦" class="headerlink" title="ç»“ç‚¹çš„åº¦"></a>ç»“ç‚¹çš„åº¦</h3><blockquote>
<p>äºŒå‰æ ‘ç»“ç‚¹çš„åº¦æŒ‡è¯¥ç»“ç‚¹åˆ†æ”¯çš„ä¸ªæ•°ï¼Œä¸€æ£µéç©ºäºŒå‰æ ‘ç»“ç‚¹çš„åº¦åªæœ‰ä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š</p>
<ul>
<li>æ²¡æœ‰åˆ†æ”¯çš„ç»“ç‚¹åº¦ä¸º0 ï¼šå¦‚ä¸‹å›¾ä¸­6ã€7ã€8ã€9ã€10</li>
<li>åªæœ‰ä¸€ä¸ªåˆ†æ”¯ï¼ˆå·¦æˆ–å³ï¼‰ç»“ç‚¹åº¦ä¸º1 ï¼šå¦‚ä¸‹å›¾ä¸­</li>
<li>æœ‰ä¸¤ä¸ªåˆ†æ”¯çš„ç»“ç‚¹åº¦ä¸º2ï¼šå¦‚ä¸‹å›¾ä¸­1ã€2ã€3ã€4</li>
</ul>
</blockquote>
<h3 id="æ ‘çš„åº¦"><a href="#æ ‘çš„åº¦" class="headerlink" title="æ ‘çš„åº¦"></a>æ ‘çš„åº¦</h3><blockquote>
<p>æ ‘ä¸­æœ€å¤§çš„ç»“ç‚¹åº¦ã€‚</p>
</blockquote>
<h3 id="å¶å­ç»“ç‚¹"><a href="#å¶å­ç»“ç‚¹" class="headerlink" title="å¶å­ç»“ç‚¹"></a>å¶å­ç»“ç‚¹</h3><blockquote>
<p>ä¹Ÿå«ç»ˆç«¯ç»“ç‚¹ï¼Œæ˜¯åº¦ä¸º 0 çš„ç»“ç‚¹ï¼›</p>
</blockquote>
<h3 id="åˆ†æç»“ç‚¹"><a href="#åˆ†æç»“ç‚¹" class="headerlink" title="åˆ†æç»“ç‚¹"></a>åˆ†æç»“ç‚¹</h3><blockquote>
<p>åº¦ä¸ä¸º0çš„ç»“ç‚¹ï¼›</p>
</blockquote>
<div align=center>
![äºŒå‰æ ‘][3]<font color=red>**äºŒå‰æ ‘ç»“ç‚¹çš„åº¦æœ€å¤§ä¸º2.**</font>
</div>

<h2 id="äºŒå‰æ ‘æ€§è´¨"><a href="#äºŒå‰æ ‘æ€§è´¨" class="headerlink" title="äºŒå‰æ ‘æ€§è´¨"></a>äºŒå‰æ ‘æ€§è´¨</h2><ol>
<li>åœ¨éç©ºäºŒå‰æ ‘ä¸­ï¼Œç¬¬<code>i</code>å±‚çš„ç»“ç‚¹æ€»æ•°ä¸è¶…è¿‡$2^{i-1}$, i&gt;=1ï¼›</li>
<li>æ·±åº¦ä¸º<code>h</code>çš„äºŒå‰æ ‘æœ€å¤š$2^h-1$æœ‰ä¸ªç»“ç‚¹_(h&gt;=1)_ï¼Œæœ€å°‘æœ‰<code>h</code>ä¸ªç»“ç‚¹</li>
<li>å¯¹äºä»»æ„ä¸€æ£µäºŒå‰æ ‘ï¼Œå¦‚æœå…¶å¶ç»“ç‚¹æ•°ä¸º<code>N0</code>ï¼Œè€Œåº¦æ•°ä¸º2çš„ç»“ç‚¹æ€»æ•°ä¸º<code>N2</code>ï¼Œåˆ™: $N0=N2+1$ï¼›</li>
<li>ç»™å®š<code>N</code>ä¸ªèŠ‚ç‚¹ï¼Œèƒ½æ„æˆh(N)ç§ä¸åŒçš„äºŒå‰æ ‘ã€‚<br><code>h(N)</code>ä¸ºå¡ç‰¹å…°æ•°çš„ç¬¬Né¡¹ã€‚$h(n)=C(2*nï¼Œn)/(n+1)$ã€‚</li>
<li>è®¾æœ‰<code>i</code>ä¸ªæç‚¹ï¼Œ<code>I</code>ä¸ºæ‰€æœ‰æç‚¹çš„é“è·¯é•¿åº¦æ€»å’Œï¼Œ<code>J</code>ä¸ºå¶çš„é“è·¯é•¿åº¦æ€»å’Œ $J=I+2i$;</li>
<li>å…·æœ‰nä¸ªç»“ç‚¹çš„å®Œå…¨äºŒå‰æ ‘çš„æ·±åº¦ä¸º$[log_2n]+1$<strong>([x] è¡¨ç¤ºä¸å¤§äºxçš„æœ€å¤§æ•´æ•°)</strong>.</li>
</ol>
<h2 id="äºŒå‰æ ‘éå†æ–¹å¼"><a href="#äºŒå‰æ ‘éå†æ–¹å¼" class="headerlink" title="äºŒå‰æ ‘éå†æ–¹å¼"></a>äºŒå‰æ ‘<font color="red">éå†</font>æ–¹å¼</h2><p>äºŒå‰æ ‘çš„åŸºæœ¬éå†æœ‰ä¸‰ç§ï¼šå‰åºéå†ã€ä¸­åºéå†å’Œååºéå†ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰åˆ†å±‚éå†ç­‰ã€‚å…¶ä¸­åŸºæœ¬éå†ä»£ç å®ç°æ—¶å¯é‡‡ç”¨é€’å½’æ–¹å¼ï¼Œå…¶è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<h3 id="å‰åºéå†"><a href="#å‰åºéå†" class="headerlink" title="å‰åºéå†"></a>å‰åºéå†</h3><ul>
<li>é¦–å…ˆè®¿é—®æ ¹ï¼Œå†å…ˆåºéå†å·¦ï¼ˆå³ï¼‰å­æ ‘ï¼Œæœ€åå…ˆåºéå†å³ï¼ˆå·¦ï¼‰å­æ ‘ï¼ŒCè¯­è¨€ä»£ç å¦‚ä¸‹ï¼š</li>
</ul>
<pre class=" language-C"><code class="language-C">void XXBL(tree*root)&#123;
//DoSomethingwithroot(å¤„ç†æ ¹èŠ‚ç‚¹)
if(root->lchild!=NULL)
XXBL(root->lchild);
if(root->rchild!=NULL)
XXBL(root->rchild);
&#125;</code></pre>
<h3 id="ä¸­åºéå†"><a href="#ä¸­åºéå†" class="headerlink" title="ä¸­åºéå†"></a>ä¸­åºéå†</h3><ul>
<li>é¦–å…ˆä¸­åºéå†å·¦ï¼ˆå³ï¼‰å­æ ‘ï¼Œå†è®¿é—®æ ¹ï¼Œæœ€åä¸­åºéå†å³ï¼ˆå·¦ï¼‰å­æ ‘ï¼ŒCè¯­è¨€ä»£ç å¦‚ä¸‹</li>
</ul>
<pre class=" language-C"><code class="language-C">voidZXBL(tree*root)
&#123;
if(root->lchild!=NULL)
ZXBL(root->lchild);
//DoSomethingwithroot(å¤„ç†æ ¹èŠ‚ç‚¹)
if(root->rchild!=NULL)
ZXBL(root->rchild);
&#125;</code></pre>
<h3 id="ååºéå†"><a href="#ååºéå†" class="headerlink" title="ååºéå†"></a>ååºéå†</h3><ul>
<li>é¦–å…ˆååºéå†å·¦ï¼ˆå³ï¼‰å­æ ‘ï¼Œå†ååºéå†å³ï¼ˆå·¦ï¼‰å­æ ‘ï¼Œæœ€åè®¿é—®æ ¹ï¼ŒCè¯­è¨€ä»£ç å¦‚ä¸‹</li>
</ul>
<pre class=" language-C"><code class="language-C">voidHXBL(tree*root)&#123;
if(root->lchild!=NULL)
HXBL(root->lchild);
if(root->rchild!=NULL)
HXBL(root->rchild);
//DoSomethingwithroot(å¤„ç†æ ¹èŠ‚ç‚¹)</code></pre>
<h3 id="å±‚æ¬¡éå†"><a href="#å±‚æ¬¡éå†" class="headerlink" title="å±‚æ¬¡éå†"></a>å±‚æ¬¡éå†</h3><ul>
<li>å³æŒ‰ç…§å±‚æ¬¡è®¿é—®ï¼Œé€šå¸¸ç”¨é˜Ÿåˆ—æ¥åšã€‚è®¿é—®æ ¹ï¼Œè®¿é—®å­å¥³ï¼Œå†è®¿é—®å­å¥³çš„å­å¥³ï¼ˆè¶Šå¾€åçš„å±‚æ¬¡è¶Šä½ï¼‰ï¼ˆä¸¤ä¸ªå­å¥³çš„çº§åˆ«ç›¸åŒï¼‰</li>
<li>åˆ†å±‚éå†ï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰ï¼šç”¨é˜Ÿåˆ—å®ç°ã€‚é˜Ÿåˆ—åˆå§‹åŒ–ï¼Œå‹å…¥æ ¹ç»“ç‚¹ï¼Œé˜Ÿåˆ—ä¸ä¸ºç©ºæ—¶ï¼Œå¼¹å‡ºä¸€ä¸ªç»“ç‚¹ï¼Œè®¿é—®ï¼Œå·¦å³å­ç»“ç‚¹ä¸ä¸ºç©ºæ—¶ï¼Œå‹å…¥å·¦å³å­ç»“ç‚¹ã€‚</li>
</ul>
<h2 id="äºŒå‰æ ‘åˆ†ç±»"><a href="#äºŒå‰æ ‘åˆ†ç±»" class="headerlink" title="äºŒå‰æ ‘åˆ†ç±»"></a>äºŒå‰æ ‘åˆ†ç±»</h2><h3 id="å®Œå…¨äºŒå‰æ ‘"><a href="#å®Œå…¨äºŒå‰æ ‘" class="headerlink" title="å®Œå…¨äºŒå‰æ ‘"></a>å®Œå…¨äºŒå‰æ ‘</h3><blockquote>
<p>è‹¥è®¾äºŒå‰æ ‘çš„é«˜åº¦ä¸ºhï¼Œé™¤ç¬¬ h å±‚å¤–ï¼Œå…¶å®ƒå„å±‚ (1-h-1) çš„ç»“ç‚¹æ•°éƒ½è¾¾åˆ°æœ€å¤§ä¸ªæ•°ï¼Œç¬¬hå±‚æœ‰å¶å­ç»“ç‚¹ï¼Œå¹¶ä¸”å¶å­ç»“ç‚¹éƒ½æ˜¯ä»å·¦åˆ°å³ä¾æ¬¡æ’å¸ƒ</p>
</blockquote>
<h3 id="æ»¡äºŒå‰æ ‘"><a href="#æ»¡äºŒå‰æ ‘" class="headerlink" title="æ»¡äºŒå‰æ ‘"></a>æ»¡äºŒå‰æ ‘</h3><blockquote>
<p>é™¤äº†å¶ç»“ç‚¹å¤–æ¯ä¸€ä¸ªç»“ç‚¹éƒ½æœ‰å·¦å³å­å¶ä¸”å¶å­ç»“ç‚¹éƒ½å¤„åœ¨æœ€åº•å±‚çš„äºŒå‰æ ‘</p>
</blockquote>
<h3 id="å¹³è¡¡äºŒå‰æ ‘-AVL"><a href="#å¹³è¡¡äºŒå‰æ ‘-AVL" class="headerlink" title="å¹³è¡¡äºŒå‰æ ‘(AVL)"></a>å¹³è¡¡äºŒå‰æ ‘(AVL)</h3><blockquote>
<p>äºŒå‰æ’åºæ ‘ï¼Œç©ºï¼Œæˆ–å·¦å­æ ‘å’Œå³å­æ ‘éƒ½æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œä¸”æ·±åº¦å·®&lt;=1</p>
</blockquote>
<div align=center>
![äºŒå‰æ ‘ç±»å‹å›¾][4]
</div>>


]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>äºŒå‰æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title>å“ˆå¤«æ›¼æ ‘&amp;å“ˆå¤«æ›¼ç¼–ç </title>
    <url>/2020/08/12/3729.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="å“ˆå¤«æ›¼æ ‘"><a href="#å“ˆå¤«æ›¼æ ‘" class="headerlink" title="å“ˆå¤«æ›¼æ ‘"></a>å“ˆå¤«æ›¼æ ‘</h2><blockquote>
<p>å“ˆå¤«æ›¼æ ‘ä¹Ÿå«æœ€ä¼˜äºŒå‰æ ‘ï¼ˆå“ˆå¤«æ›¼æ ‘ï¼‰</p>
</blockquote>
<h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>  <a href="https://baike.baidu.com/item/%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91/2305769?fr=aladdin">ç»™å®šNä¸ªæƒå€¼ä½œä¸ºNä¸ªå¶å­ç»“ç‚¹ï¼Œæ„é€ ä¸€æ£µäºŒå‰æ ‘ï¼Œè‹¥è¯¥æ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦è¾¾åˆ°æœ€å°ï¼Œç§°è¿™æ ·çš„äºŒå‰æ ‘ä¸ºæœ€ä¼˜äºŒå‰æ ‘ï¼Œä¹Ÿç§°ä¸ºå“ˆå¤«æ›¼æ ‘(Huffman Tree)ã€‚å“ˆå¤«æ›¼æ ‘æ˜¯å¸¦æƒè·¯å¾„é•¿åº¦æœ€çŸ­çš„æ ‘ï¼Œæƒå€¼è¾ƒå¤§çš„ç»“ç‚¹ç¦»æ ¹è¾ƒè¿‘ã€‚</a></p>
<h3 id="åè¯è§£é‡Š"><a href="#åè¯è§£é‡Š" class="headerlink" title="åè¯è§£é‡Š"></a>åè¯è§£é‡Š</h3><table>
<thead>
<tr>
<th align="left">åè¯</th>
<th align="left">è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td align="left">è·¯å¾„é•¿åº¦</td>
<td align="left">æ ¹ç»“ç‚¹åˆ°ç¬¬Lå±‚ç»“ç‚¹è·¯å¾„é•¿åº¦ä¸ºL-1</td>
</tr>
<tr>
<td align="left">æ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦ï¼ˆWPLï¼‰</td>
<td align="left">æ ‘ä¸­æ‰€æœ‰å¶å­ç»“ç‚¹çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¹‹å’Œ<br><img src="/images/pasted-75.png" alt="upload successful"><br>å…¶ä¸­ï¼Œnè¡¨ç¤ºå¶å­ç»“ç‚¹çš„æ•°ç›®ï¼Œwiå’Œliåˆ†åˆ«è¡¨ç¤ºå¶å­ç»“ç‚¹kiçš„æƒå€¼å’Œæ ‘æ ¹ç»“ç‚¹åˆ°å¶å­ç»“ç‚¹kiä¹‹é—´çš„è·¯å¾„é•¿åº¦ã€‚</td>
</tr>
<tr>
<td align="left"><img src="/images/pasted-76.png" alt="upload successful"></td>
<td align="left"></td>
</tr>
</tbody></table>
<p>|</p>
<h3 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><ol>
<li>å“ˆå¤«æ›¼æ ‘ä¸­æƒè¶Šå¤§çš„å¶å­ç¦»æ ¹è¶Šè¿‘(WPLæœ€å°çš„äºŒå‰æ ‘)</li>
<li>å…·æœ‰ç›¸åŒå¸¦æƒç»“ç‚¹çš„å“ˆå¤«æ›¼æ ‘ä¸æƒŸä¸€</li>
<li>å“ˆå¤«æ›¼æ ‘çš„ç»“ç‚¹çš„åº¦æ•°ä¸º 0 æˆ– 2ï¼Œ æ²¡æœ‰åº¦ä¸º 1 çš„ç»“ç‚¹ï¼›</li>
<li>åŒ…å« n ä¸ªå¶å­ç»“ç‚¹çš„å“ˆå¤«æ›¼æ ‘ä¸­å…±æœ‰ 2n â€“ 1 ä¸ªç»“ç‚¹ã€‚</li>
<li>åŒ…å« n æ£µæ ‘çš„æ£®æ—è¦ç»è¿‡ nâ€“1 æ¬¡åˆå¹¶æ‰èƒ½å½¢æˆå“ˆå¤«æ›¼æ ‘ï¼Œå…±äº§ç”Ÿ nâ€“1 ä¸ªæ–°ç»“ç‚¹</li>
</ol>
<p><img src="/images/pasted-74.png" alt="upload successful"><br><img src="/images/pasted-62.png" alt="upload successful"><br><strong>WPL æœ€å°çš„å€¼æ‰€å±çš„æ ‘å³ä¸ºå“ˆå¤«æ›¼æ ‘</strong></p>
<p><img src="/images/pasted-65.png" alt="upload successful" title="hello"><br><img src="/images/pasted-63.png" alt="upload successful"><br><img src="/images/pasted-64.png" alt="upload successful"></p>
<h2 id="å“ˆå¤«æ›¼åˆ›å»º"><a href="#å“ˆå¤«æ›¼åˆ›å»º" class="headerlink" title="å“ˆå¤«æ›¼åˆ›å»º"></a>å“ˆå¤«æ›¼åˆ›å»º</h2><p><img src="/images/pasted-66.png" alt="upload successful"><br>ä¸ºä»€ä¹ˆæ•°ç»„buffTree[2n-1] çš„å¤§å°æ˜¯2n-1,æ˜¯å› ä¸ºnä¸ªå­èŠ‚ç‚¹æ„æˆçš„æ ‘èŠ‚ç‚¹æœ€å¤šçš„ä¸ªæ•°æ˜¯2n-1ä¸ª<br><img src="/images/pasted-67.png" alt="upload successful"></p>
<p><img src="/images/pasted-68.png" alt="upload successful"></p>
<p><img src="/images/pasted-69.png" alt="upload successful"></p>
<h2 id="å“ˆå¤«æ›¼æ ‘ç¼–ç "><a href="#å“ˆå¤«æ›¼æ ‘ç¼–ç " class="headerlink" title="å“ˆå¤«æ›¼æ ‘ç¼–ç "></a>å“ˆå¤«æ›¼æ ‘ç¼–ç </h2><h3 id="å‰ç¼€ç¼–ç "><a href="#å‰ç¼€ç¼–ç " class="headerlink" title="å‰ç¼€ç¼–ç "></a>å‰ç¼€ç¼–ç </h3><p><img src="/images/pasted-70.png" alt="upload successful"></p>
<p><img src="/images/pasted-71.png" alt="upload successful"></p>
<p><img src="/images/pasted-72.png" alt="upload successful"></p>
<p>ç‰¹ç‚¹:<br>æƒå€¼è¶Šé«˜çš„å¶å­èŠ‚ç‚¹è¶Šé è¿‘æ ¹èŠ‚ç‚¹</p>
<p><img src="/images/pasted-73.png" alt="upload successful"></p>
]]></content>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºæœ¬ç®—æ³•ä¹‹ç®—æ³•å›¾è§£Book</title>
    <url>/2018/05/05/d585.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ç®—æ³•å›¾è§£"><a href="#ç®—æ³•å›¾è§£" class="headerlink" title="ç®—æ³•å›¾è§£"></a>ç®—æ³•å›¾è§£</h2><h3 id="å†…å®¹ç®€ä»‹-Â·-Â·-Â·-Â·-Â·-Â·"><a href="#å†…å®¹ç®€ä»‹-Â·-Â·-Â·-Â·-Â·-Â·" class="headerlink" title="å†…å®¹ç®€ä»‹  Â· Â· Â· Â· Â· Â·"></a><font color=#115533>å†…å®¹ç®€ä»‹  Â· Â· Â· Â· Â· Â·</font></h3><font color=#228B22>
æœ¬ä¹¦ç¤ºä¾‹ä¸°å¯Œï¼Œå›¾æ–‡å¹¶èŒ‚ï¼Œä»¥è®©äººå®¹æ˜“ç†è§£çš„æ–¹å¼é˜é‡Šäº†ç®—æ³•ï¼Œæ—¨åœ¨å¸®åŠ©ç¨‹åºå‘˜åœ¨æ—¥å¸¸é¡¹ç›®ä¸­æ›´å¥½åœ°å‘æŒ¥ç®—æ³•çš„èƒ½é‡ã€‚ä¹¦ä¸­çš„å‰ä¸‰ç« å°†å¸®åŠ©ä½ æ‰“ä¸‹åŸºç¡€ï¼Œå¸¦ä½ å­¦ä¹ äºŒåˆ†æŸ¥æ‰¾ã€å¤§Oè¡¨ç¤ºæ³•ã€ä¸¤ç§åŸºæœ¬çš„æ•°æ®ç»“æ„ä»¥åŠé€’å½’ç­‰ã€‚ä½™ä¸‹çš„ç¯‡å¹…å°†ä¸»è¦ä»‹ç»åº”ç”¨å¹¿æ³›çš„ç®—æ³•ï¼Œå…·ä½“å†…å®¹åŒ…æ‹¬ï¼šé¢å¯¹å…·ä½“é—®é¢˜æ—¶çš„è§£å†³æŠ€å·§ï¼Œæ¯”å¦‚ï¼Œä½•æ—¶é‡‡ç”¨è´ªå©ªç®—æ³•æˆ–åŠ¨æ€è§„åˆ’ï¼›æ•£åˆ—è¡¨çš„åº”ç”¨ï¼›å›¾ç®—æ³•ï¼›Kæœ€è¿‘é‚»ç®—æ³•ã€‚
</font>

<h3 id="ä½œè€…ç®€ä»‹-Â·-Â·-Â·-Â·-Â·-Â·"><a href="#ä½œè€…ç®€ä»‹-Â·-Â·-Â·-Â·-Â·-Â·" class="headerlink" title="ä½œè€…ç®€ä»‹  Â· Â· Â· Â· Â· Â·"></a><font color=#115533>ä½œè€…ç®€ä»‹  Â· Â· Â· Â· Â· Â·</font></h3><font color=#228B22>
Aditya Bhargava

<p>è½¯ä»¶å·¥ç¨‹å¸ˆï¼Œå…¼å…·è®¡ç®—æœºç§‘å­¦å’Œç¾æœ¯æ–¹é¢çš„æ•™è‚²èƒŒæ™¯ï¼Œåœ¨adit.ioæ’°å†™ç¼–ç¨‹æ–¹é¢çš„åšå®¢ã€‚<br></font></p>
<h3 id="è±†ç“£ç‚¹è¯„"><a href="#è±†ç“£ç‚¹è¯„" class="headerlink" title="è±†ç“£ç‚¹è¯„"></a><font color=#228B22><a href="https://book.douban.com/subject/26979890/">è±†ç“£ç‚¹è¯„</a></font></h3><a id="more"></a>

<h2 id="ä¹¦æœ¬"><a href="#ä¹¦æœ¬" class="headerlink" title="ä¹¦æœ¬"></a>ä¹¦æœ¬</h2><embed src="https://gitee.com/alexlin/algorithms/raw/master/doc/%E5%9B%BE%E8%A7%A3%E7%AE%97%E6%B3%95.pdf" width="100%" height="950" type="application/pdf" align=center >
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>å›¾è§£ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>å®ç”¨ç½‘ç«™</title>
    <url>/2020/04/22/6c49.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="æœç´¢ç›¸å…³"><a href="#æœç´¢ç›¸å…³" class="headerlink" title="æœç´¢ç›¸å…³"></a>æœç´¢ç›¸å…³</h2><ul>
<li><a href="https://mijisou.com/">ç§˜è¿¹æœç´¢</a><br><img src="/images/pasted-18.png" alt="upload successful"></li>
</ul>
<a id="more"></a>

<ul>
<li><a href="https://www.xiaobaipan.com/">å°ç™½ç›˜</a><br><img src="/images/pasted-19.png" alt="upload successful"></li>
<li><a href="https://www.dogedoge.com/">DogeDogeæœç´¢</a><br><img src="/images/pasted-20.png" alt="upload successful"></li>
<li><a href="https://www.gitlogs.com/">gitlogs</a> GitHubç½‘ç«™çš„å†…å®¹æœç´¢å¼•æ“<br><img src="/images/pasted-21.png" alt="upload successful"></li>
</ul>
<h2 id="PPT"><a href="#PPT" class="headerlink" title="PPT"></a>PPT</h2><ul>
<li><a href="http://www.ypppt.com/">ä¼˜å“PPT</a><br><img src="/images/pasted-22.png" alt="upload successful"></li>
<li><a href="https://www.pdfpai.com/">PDFæ´¾</a><br><img src="/images/pasted-29.png" alt="upload successful"></li>
</ul>
<h2 id="å›¾ç‰‡å¤„ç†"><a href="#å›¾ç‰‡å¤„ç†" class="headerlink" title="å›¾ç‰‡å¤„ç†"></a>å›¾ç‰‡å¤„ç†</h2><ul>
<li><a href="https://www.uupoop.com/">åœ¨çº¿PS</a><br><img src="/images/pasted-23.png" alt="upload successful"></li>
<li><a href="https://tinypng.com/">åœ¨çº¿å›¾ç‰‡å‹ç¼©</a><br><img src="/images/pasted-24.png" alt="upload successful"></li>
<li><a href="https://www.smartresize.com/zh-cn">åœ¨çº¿æ‰¹é‡è£å‰ªå›¾ç‰‡å·¥å…·</a><br><img src="/images/pasted-25.png" alt="upload successful"></li>
</ul>
<h2 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h2><ul>
<li><a href="https://visualgo.net/zh">VisuAlgo</a><br><img src="/images/pasted-26.png" alt="upload successful"></li>
</ul>
<h2 id="å¼€å‘å·¥å…·"><a href="#å¼€å‘å·¥å…·" class="headerlink" title="å¼€å‘å·¥å…·"></a>å¼€å‘å·¥å…·</h2><ul>
<li><a href="https://www.toolnb.com/">çˆ±èµ„æ–™å·¥å…·</a><br><img src="/images/pasted-27.png" alt="upload successful"></li>
<li><a href="%E8%8F%9C%E9%B8%9F%E5%B7%A5%E5%85%B7">èœé¸Ÿå·¥å…·</a><br><img src="/images/pasted-28.png" alt="upload successful"></li>
<li><a href="http://www.matools.com/#">matool</a><br><img src="/images/pasted-30.png" alt="upload successful"></li>
<li><a href="https://www.coder.work/">https://www.coder.work</a>  (é‡Œé¢æœ‰ä¸€ä¸ªåœ¨çº¿HTTP æµ‹è¯•å·¥å…·æˆ‘æ¯”è¾ƒå–œæ¬¢)<br><img src="/images/pasted-32.png" alt="upload successful"></li>
</ul>
<h2 id="ç´ æ"><a href="#ç´ æ" class="headerlink" title="ç´ æ"></a>ç´ æ</h2><p>-<a href="https://www.runoob.com/manual/Flat-UI/#">FlatUI</a><br><img src="/images/pasted-31.png" alt="upload successful"></p>
]]></content>
      <tags>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>æ ‘è“æ´¾ä¹‹Hexoç¯å¢ƒæ­å»º</title>
    <url>/2019/01/27/7c1e.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="å®‰è£…node-js-ç¯å¢ƒ"><a href="#å®‰è£…node-js-ç¯å¢ƒ" class="headerlink" title="å®‰è£…node.js ç¯å¢ƒ"></a>å®‰è£…node.js ç¯å¢ƒ</h2><pre><code>pi@raspberrypi:~/workdir/node_js $ wget -qO- https://raw.github.com/creationix/nvm/v0.33.11/install.sh | sh

=&gt; Downloading nvm from git to &#39;/home/pi/.nvm&#39;
=&gt; æ­£å…‹éš†åˆ° &#39;/home/pi/.nvm&#39;...
remote: Enumerating objects: 267, done.
remote: Counting objects: 100% (267/267), done.
remote: Compressing objects: 100% (242/242), done.
remote: Total 267 (delta 31), reused 86 (delta 15), pack-reused 0
æ¥æ”¶å¯¹è±¡ä¸­: 100% (267/267), 119.47 KiB | 7.00 KiB/s, å®Œæˆ.
å¤„ç† delta ä¸­: 100% (31/31), å®Œæˆ.
=&gt; Compressing and cleaning up git repository

=&gt; Appending nvm source string to /home/pi/.profile
=&gt; bash_completion source string already in /home/pi/.profile
=&gt; Close and reopen your terminal to start using nvm or run the following to use it now:

export NVM_DIR=&quot;$HOME/.nvm&quot;
[ -s &quot;$NVM_DIR/nvm.sh&quot; ] &amp;&amp; \. &quot;$NVM_DIR/nvm.sh&quot;  # This loads nvm</code></pre>
<a id="more"></a>

<h2 id="ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ"><a href="#ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ" class="headerlink" title="ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ"></a>ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ</h2><pre><code>source ~/.Profile</code></pre>
<h2 id="å®‰è£…-npm"><a href="#å®‰è£…-npm" class="headerlink" title="å®‰è£… npm"></a>å®‰è£… npm</h2><pre><code>pi@raspberrypi:~/workdir/node_js $ nvm install stable
Downloading and installing node v11.8.0...
Downloading https://nodejs.org/dist/v11.8.0/node-v11.8.0-linux-armv6l.tar.xz...
######################################################################## 100.0%
Computing checksum with sha256sum
Checksums matched!
Now using node v11.8.0 (npm v6.5.0)
Creating default alias: default -&gt; stable (-&gt; v11.8.0)</code></pre>
<h2 id="è®¾ç½®-npm-é•œåƒæº-ä¸ç„¶å®‰è£…å¾ˆå¿™"><a href="#è®¾ç½®-npm-é•œåƒæº-ä¸ç„¶å®‰è£…å¾ˆå¿™" class="headerlink" title="è®¾ç½® npm é•œåƒæº(ä¸ç„¶å®‰è£…å¾ˆå¿™)"></a>è®¾ç½® npm é•œåƒæº(ä¸ç„¶å®‰è£…å¾ˆå¿™)</h2><pre><code>pi@raspberrypi:~/workdir/hexo $ npm get registry
https://registry.npmjs.org/
pi@raspberrypi:~/workdir/hexo $ npm config set registry http://registry.npm.taobao.org/
pi@raspberrypi:~/workdir/hexo $ npm get registry
http://registry.npm.taobao.org/</code></pre>
<h2 id="å®‰è£…hexo-å®¢æˆ·ç«¯"><a href="#å®‰è£…hexo-å®¢æˆ·ç«¯" class="headerlink" title="å®‰è£…hexo å®¢æˆ·ç«¯"></a>å®‰è£…hexo å®¢æˆ·ç«¯</h2><pre><code>pi@raspberrypi:~/workdir/node_js $ npm install -g hexo-cli
/home/pi/.nvm/versions/node/v11.8.0/bin/hexo -&gt; /home/pi/.nvm/versions/node/v11.8.0/lib/node_modules/hexo-cli/bin/hexo
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.7 (node_modules/hexo-cli/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.7: wanted &#123;&quot;os&quot;:&quot;darwin&quot;,&quot;arch&quot;:&quot;any&quot;&#125; (current: &#123;&quot;os&quot;:&quot;linux&quot;,&quot;arch&quot;:&quot;arm&quot;&#125;)

+ hexo-cli@1.1.0
added 225 packages from 431 contributors in 181.245s</code></pre>
]]></content>
      <tags>
        <tag>hexo</tag>
        <tag>Linux</tag>
        <tag>raspberry</tag>
      </tags>
  </entry>
  <entry>
    <title>å¾®ä¿¡å¼€å‘</title>
    <url>/2017/04/06/1051.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="http://iot.weixin.qq.com/wiki/new/index.html?page=2-1">å¾®ä¿¡ç¡¬ä»¶å¹³å°</a><br><a href="https://mp.weixin.qq.com/debug/wxadoc/introduction/index.html?t=2017118">å°ç¨‹åº</a></p>
<p>è›‹ç–¼çš„ä¸€å¤©</p>
]]></content>
      <tags>
        <tag>å¾®ä¿¡</tag>
        <tag>ç¡¬ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>æ±‰æ«ç³»åˆ—-LPT230ç¯å¢ƒæ­å»º</title>
    <url>/2018/04/17/97d9.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="MAC-ä¸‹ç¼–è¯‘å™¨ä¸‹è½½"><a href="#MAC-ä¸‹ç¼–è¯‘å™¨ä¸‹è½½" class="headerlink" title="MAC ä¸‹ç¼–è¯‘å™¨ä¸‹è½½"></a>MAC ä¸‹ç¼–è¯‘å™¨ä¸‹è½½</h2><blockquote>
<p>Linux ç¯å¢ƒç±»ä¼¼ï¼›</p>
</blockquote>
<ul>
<li><a href="https://developer.arm.com/open-source/gnu-toolchain/gnu-rm/downloads">https://developer.arm.com/open-source/gnu-toolchain/gnu-rm/downloads</a></li>
</ul>
]]></content>
      <categories>
        <category>æ±‰æ«</category>
      </categories>
      <tags>
        <tag>lpt230</tag>
        <tag>gcc</tag>
      </tags>
  </entry>
  <entry>
    <title>æ´»æˆè‡ªå·±çš„æ ·å­</title>
    <url>/2888/03/28/dbbb.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr>
<blockquote>
<p>æˆ‘ä»¬æ€»æ˜¯æ‹¼å°½å…¨åŠ›â€¦ æƒ³æ´»æˆå¤§å®¶æ‰€æœŸå¾…çš„æ ·å­ï¼Œä»¥ä¸ºé‚£æ ·å°±æ˜¯æœ€å®Œç¾çš„ã€‚ä½†å…¶å®ï¼ŒçœŸæ­£çš„æˆåŠŸï¼Œæˆ–è®¸æ˜¯ä¸è¢«ä»–äººç»‘æ¶è‡ªå·±çš„æ¢¦æƒ³ï¼Œå…¨ç„¶æŒ‰ç…§è‡ªå·±çš„æ„æ„¿è¿‡å¥½è¿™ä¸€ç”Ÿã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/ilxj/ilxj.github.io@master/images/pasted-15.png" alt="1"></p>
<pre class=" language-sh"><code class="language-sh">==============================================================================================

                                            _ooOoo_
                                           o8888888o
                                           88" . "88
                                           (| -_- |)
                                            O\ = /O
                                        ____/`---'\____
                                        .' \\|   |// `.
                                       / \\||| : |||// \
                                     / _||||| -:- |||||- \
                                       | | \\\ - /// | |
                                     | \_| ''\---/'' | |
                                      \ .-\__ `-` ___/-. /
                                   ___`. .' /--.--\ `. . __
                                . '< `.___\_<|>_/___.' >'.
                               | | : `- \`.;`\ _ /`;.`/ - ` : | |
                                 \ \ `-. \_ __\ /__ _/ .-` / /
                         ======`-.____`-.___\_____/___.-`____.-'======
                                            `=---='
                         .............................................
                            !Write the code!       Change the world!
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</code></pre>
<iframe frameborder="no" border="0" autoPlay=true marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=28285910&auto=0&height=66"></iframe>

<a id="more"></a>

<p><embed src="http://player.hunantv.com/mgtv_v5_main/main.swf?play_type=1&video_id=3954767" autostart=false allowFullScreen="true" quality="high" width="900" height="498" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash"></embed></p>
<!-- <div id="dplayer0" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer0"),"theme":"#FADFA3","loop":true,"video":{"url":"http://devtest.qiniudn.com/è‹¥èƒ½ç»½æ”¾å…‰èŠ’.mp4","pic":"http://devtest.qiniudn.com/è‹¥èƒ½ç»½æ”¾å…‰èŠ’.png"},"danmaku":{"id":"9E2E3368B56CDBB4","api":"http://dplayer.daoapp.io","token":"tokendemo"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script> -->


]]></content>
      <categories>
        <category>æ–°å¥‡</category>
      </categories>
      <tags>
        <tag>æ–°å¥‡</tag>
        <tag>éŸ³ä¹</tag>
        <tag>ğŸµ</tag>
      </tags>
  </entry>
  <entry>
    <title>çº¢å¤–é¥æ§å™¨åˆ¶ä½œ</title>
    <url>/2020/05/10/3418.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ä¸€ã€èƒŒæ™¯"><a href="#ä¸€ã€èƒŒæ™¯" class="headerlink" title="ä¸€ã€èƒŒæ™¯"></a>ä¸€ã€èƒŒæ™¯</h2><p> &emsp;&emsp;ç«¯åˆèŠ‚æœŸé—´ï¼Œå¹¿å·çš„å¤©æ°”çœŸçš„å¥½çƒ­ï¼Œæ¨ä¸å¾—æ•´ä½“æ³¡åœ¨ç©ºè°ƒæˆ¿é‡Œã€‚è¿™è®©æˆ‘æƒ³èµ·äº†åœ¨å…¬å¸ä¸Šç­çš„æ—¶å€™ï¼Œå¤©æ°”ç‚çƒ­ï¼Œæƒ³å¼€ç©ºè°ƒï¼Œå´å‘ç°ç©ºè°ƒé¥æ§å™¨å¥½åƒååè·Ÿæˆ‘ä»¬ç©æ‰è¿·è—ä¼¼çš„ï¼Œæ‰¾ä¹Ÿæ‰¾ä¸åˆ°ï¼Œåªèƒ½çœ‹ç€ç©ºè°ƒå¹²å·´å·´åœ°æµæ±—ã€‚ä¹Ÿå¸¸å¸¸ç¢°è§ï¼Œå…¬å¸çš„ç©ºè°ƒä¸Šç­çš„æ—¶å€™éƒ½å¼€ç€ï¼Œç„¶åæœ€åä¸€ä½åŒäº‹èµ°çš„æ—¶å€™ï¼Œæƒ³å…³ç©ºè°ƒï¼Œæ­¤æ—¶é¥æ§å™¨ä¹Ÿä¸ç¿¼è€Œé£ï¼Œäºæ˜¯å„ç§é—®åŒäº‹ï¼Œå¤§ä¼™çŸ¥é“ç©ºè°ƒé¥æ§å™¨åœ¨å“ªå—ï¼Ÿè¿™ç§ç±»ä¼¼çš„â€œé—®å€™â€ç­‰ç­‰ã€‚å¦å¤–ï¼Œå…¬å¸ç©ºè°ƒæ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œèµ°çš„æ—¶å€™éœ€è¦ä¸€ä¸ªç©ºè°ƒä¸€ä¸ªç©ºè°ƒæ£€æµ‹æœ‰æ²¡æœ‰å…³äº†ï¼Œä¸ç„¶å°±ä¼šé€ æˆæµªè´¹çš„æƒ…å†µã€‚æ€»ä¹‹å¯¹æˆ‘æ¥è¯´ï¼Œç©ºè°ƒé¥æ§å™¨å°±æ˜¯ä¸€ä¸ªç¥å¥‡çš„ä¸œè¥¿ï¼Œä½ æƒ³æ‰¾çš„æ—¶å€™ï¼Œå°±ååæ‰¾ä¸åˆ°ã€‚<br><br>&emsp;&emsp;åŸºäºä»¥ä¸Šçš„ç§ç§æƒ…å†µï¼Œäºæ˜¯æˆ‘èŒå‘äº†è¦åšä¸€ä¸ªæ–¹ä¾¿ç®¡ç†çš„ç©ºè°ƒæ§åˆ¶å™¨ï¼Œè¿™ä¸ªæ§åˆ¶å™¨æœ‰ä»¥ä¸‹2ä¸ªç‰¹ç‚¹ï¼›</p>
<ol>
<li>å¿…é¡»è®©æ¯ä¸ªåŒäº‹éƒ½èƒ½è½»æ˜“çš„å¯¹æ¯ä¸ªç©ºè°ƒè¿›è¡Œæ§åˆ¶(é‚£å°±æ˜¯ç”¨æ‰‹æœºæ§åˆ¶å•¦ï¼Œå¤§å®¶éƒ½æœ‰æ‰‹æœº~)ï¼›</li>
<li>å¿…é¡»æ»¡è¶³è¿œç¨‹å…³é—­ç©ºè°ƒï¼Œå› ä¸ºå¦‚æœå½“æˆ‘ä»¬ç¦»å¼€å…¬å¸çš„æ—¶å€™ï¼Œå‘ç°ç©ºè°ƒæ²¡å…³ï¼Œå¯ä»¥è¿œç¨‹å…³é—­ï¼›</li>
</ol>
<a id="more"></a>

<h2 id="äºŒã€æ–¹æ¡ˆé€‰æ‹©"><a href="#äºŒã€æ–¹æ¡ˆé€‰æ‹©" class="headerlink" title="äºŒã€æ–¹æ¡ˆé€‰æ‹©"></a>äºŒã€æ–¹æ¡ˆé€‰æ‹©</h2><p>&emsp;&emsp;åŸºäºç©ºè°ƒé¥æ§å™¨çš„ç‰¹ç‚¹ï¼Œæˆ‘æƒ³åˆ°äº†æœºæ™ºäº‘çš„Gokitï¼Œæ­é…æœºæ™ºäº‘çš„å¹³å°ï¼Œèƒ½å¤Ÿæ»¡è¶³æˆ‘çš„éœ€æ±‚ï¼Œ(ä¸»è¦æ˜¯æ‰‹å¤´åˆšå¥½æœ‰å‡ ä¸ªGokitå“ˆå“ˆ~)ï¼›<br><br>&emsp;&emsp;é‚£ä¹ˆæ€ä¹ˆæ¥åšå‘¢ï¼Ÿæ ¹æ®ç»éªŒæ‰€å¾—ï¼Œéœ€è¦å¯¹è¿™ä¸ªå·¥ä½œæ‹†åˆ†ä¸ºå‡ éƒ¨åˆ†</p>
<ol>
<li>æœºæ™ºäº‘å¹³å°æ•°æ®ç‚¹å®šä¹‰(å•¥æ˜¯æ•°æ®ç‚¹ï¼Œè¯·åˆ°æœºæ™ºäº‘å®˜ç½‘æŸ¥çœ‹);è¿™é‡Œæˆ‘è®¢äº†ä¸¤ä¸ªæ ¸å¿ƒåŠŸèƒ½ï¼Œä¸€ä¸ªæ˜¯å¼€å…³ï¼Œä¸€ä¸ªæ˜¯æ¸©åº¦è°ƒèŠ‚;(å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥å®šä¹‰æ›´å¤šçš„æ•°æ®ç‚¹ï¼Œå¦‚ï¼Œæ¨¡å¼ï¼Œé£å‘ç­‰ç­‰)ï¼›</li>
<li>MCUå¼€å‘ï¼ŒMCUå¼€å‘éœ€è¦ç»†åˆ†ä¸ºçº¢å¤–é¥æ§å™¨çš„åè®®è§£ç å’Œç¼–ç ï¼›<strong>è§£ç </strong> ç®€å•æ¥è¯´å°±æ˜¯éœ€è¦é€šè¿‡å·¥å…·ï¼Œæ¥åˆ†æé¥æ§å™¨å‘å‡ºæ¥çš„çº¢å¤–æ³¢å½¢ï¼Œä»€ä¹ˆæ³¢å½¢å¯¹åº”ç€å¼€ï¼Œä»€ä¹ˆæ³¢å½¢å¯¹åº”ç€å…‰å’Œæ¸©åº¦è®¾ç½®ã€‚<strong>ç¼–ç </strong> å°±æ˜¯è¦æŠŠæˆ‘ä»¬ä¸‹å‘çš„å‘½ä»¤è½¬æ¢æˆå’Œç©ºè°ƒèƒ½è¯†åˆ«çš„çº¢å¤–æ³¢å½¢ï¼›</li>
</ol>
<h2 id="ä¸‰ã€æ–¹æ¡ˆå®æ–½"><a href="#ä¸‰ã€æ–¹æ¡ˆå®æ–½" class="headerlink" title="ä¸‰ã€æ–¹æ¡ˆå®æ–½"></a>ä¸‰ã€æ–¹æ¡ˆå®æ–½</h2><h3 id="1-æ•°æ®ç‚¹å®šä¹‰"><a href="#1-æ•°æ®ç‚¹å®šä¹‰" class="headerlink" title="1. æ•°æ®ç‚¹å®šä¹‰"></a>1. æ•°æ®ç‚¹å®šä¹‰</h3><p>&emsp;&emsp;å¾ˆç®€å•ï¼Œä¸¤ä¸ªæ•°æ®ç‚¹ï¼Œæ¸©åº¦è®¾ç½®å’Œç©ºè°ƒå¼€å…³ï¼Œå¦‚ä¸‹å›¾ï¼›</p>
<p><img src="/images/pasted-47.png" alt="upload successful"></p>
<h3 id="2-çº¢å¤–è§£ç "><a href="#2-çº¢å¤–è§£ç " class="headerlink" title="2. çº¢å¤–è§£ç "></a>2. çº¢å¤–è§£ç </h3><p>&emsp;&emsp; å¯¹äºçº¢å¤–è§£ç ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯æ‰¾åˆ°ç©ºè°ƒå‚å•†çš„çº¢å¤–åè®®ï¼Œç„¶åæ ¹æ®çº¢å¤–åè®®ï¼Œç›´æ¥ç¼–å†™å°±å¯ä»¥äº†ï¼Œä¸è¿‡å¾ˆä¸å¹¸çš„æ˜¯ï¼Œæˆ‘æ‰‹å¤´è¿™æ¬¾ç©ºè°ƒï¼Œæˆ‘æ‰¾äº†å¾ˆä¹…éƒ½æ²¡æ‰¾åˆ°å¯¹åº”çš„ç©ºè°ƒåè®®ï¼Œäºæ˜¯åªèƒ½å¦è¾Ÿé€”å¾„ã€‚ä¹Ÿå°±æ˜¯ç¬¬äºŒç§æ–¹æ³•ï¼Œçº¢å¤–æ³¢å½¢æ‹·è´ã€‚<br><br>&emsp;&emsp; é‚£ä¹ˆæ³¢å½¢æ‹·è´æˆ‘é‡‡ç”¨çš„æ˜¯ï¼Œç”¨é€»è¾‘åˆ†æä»ªå¯¹é¥æ§å™¨è¿›è¡Œæ³¢å½¢åˆ†æï¼Œç„¶åä½¿ç”¨çº¢å¤–æ³¢å½¢æ‹·è´çš„æ–¹æ³•ï¼ŒæŠŠå¯¹åº”åŠŸèƒ½çš„æ³¢å½¢æ‹·è´ä¸‹æ¥ã€‚</p>
<p>&emsp;&emsp;å†³å®šäº†ä½¿ç”¨çº¢å¤–æ³¢å½¢æ‹·è´ï¼Œé‚£ä¹ˆå°±éœ€è¦å…ˆè¦æ­å»ºæ³¢å½¢æ•æ‰ç”µè·¯ï¼Œç¿»å¼€äº†å‹ç®±åº•å¤šå¹´çš„çº¢å¤–æ¢å¤´æ¥æ”¶å™¨å’Œé¢æ¿(â„(â„ â„â€¢â„Ï‰â„â€¢â„ â„)â„)ï¼Œæ­¥éª¤å¦‚ä¸‹ã€‚</p>
<h4 id="2-1-ç¡¬ä»¶ç¯å¢ƒæ­å»º"><a href="#2-1-ç¡¬ä»¶ç¯å¢ƒæ­å»º" class="headerlink" title="2.1 ç¡¬ä»¶ç¯å¢ƒæ­å»º"></a>2.1 ç¡¬ä»¶ç¯å¢ƒæ­å»º</h4><h5 id="çº¢å¤–æ¥æ”¶å¤´å‹å·-HS0038B"><a href="#çº¢å¤–æ¥æ”¶å¤´å‹å·-HS0038B" class="headerlink" title="çº¢å¤–æ¥æ”¶å¤´å‹å· HS0038B"></a>çº¢å¤–æ¥æ”¶å¤´å‹å· <strong>HS0038B</strong></h5><p><img src="/images/pasted-33.png" alt="upload successful"></p>
<h5 id="HS0038B-ç”µè·¯å›¾æ­å»º"><a href="#HS0038B-ç”µè·¯å›¾æ­å»º" class="headerlink" title="HS0038B ç”µè·¯å›¾æ­å»º"></a>HS0038B ç”µè·¯å›¾æ­å»º</h5><ul>
<li>åŸç†å›¾<br><img src="/images/pasted-40.png" alt="upload successful"></li>
<li>é¢åŒ…æ¿æ­å»ºå®ç‰©å›¾<br><img src="/images/pasted-41.png" alt="upload successful"><br><img src="/images/pasted-42.png" alt="upload successful"></li>
</ul>
<h5 id="æŠ“æ³¢å½¢"><a href="#æŠ“æ³¢å½¢" class="headerlink" title="æŠ“æ³¢å½¢"></a>æŠ“æ³¢å½¢</h5><ul>
<li>çœŸå®æŠ“åŒ…çº¢å¤–ç å›¾<br><img src="/images/pasted-34.png" alt="upload successful"></li>
<li><ul>
<li>å…³<br><img src="/images/pasted-35.png" alt="upload successful"></li>
</ul>
</li>
<li><ul>
<li>å¼€<br><img src="/images/pasted-36.png" alt="upload successful"></li>
</ul>
</li>
<li><ul>
<li>20åº¦<br><img src="/images/pasted-37.png" alt="upload successful"></li>
</ul>
</li>
<li><ul>
<li>21åº¦<br><img src="/images/pasted-38.png" alt="upload successful"></li>
</ul>
</li>
<li><ul>
<li>22åº¦<br><img src="/images/pasted-39.png" alt="upload successful"></li>
</ul>
</li>
</ul>
<h5 id="çº¢å¤–è§£ç ç¨‹åºç¼–å†™"><a href="#çº¢å¤–è§£ç ç¨‹åºç¼–å†™" class="headerlink" title="çº¢å¤–è§£ç ç¨‹åºç¼–å†™"></a>çº¢å¤–è§£ç ç¨‹åºç¼–å†™</h5><p>&emsp;&emsp;å¯¹çº¢å¤–æ³¢å½¢æœ‰ä¸€ä¸ªå¤§æ¦‚çš„è®¤è¯†ä¹‹åï¼Œå°±è¦ç¼–å†™MCUç«¯çš„ä»£ç ï¼ŒæŠŠæ³¢å½¢è½¬æˆçº¢å¤–ç ã€‚è¿™é‡Œæˆ‘çš„æ€è·¯æ˜¯ï¼Œå¯¹STM32çš„æŸä¸ªIOï¼Œè®¾ç½®ä¸ºè¾“å…¥ä¸‹é™æ²¿æ•æ‰ï¼Œç„¶åé€šè¿‡è®¡ç®—æ¯ä¸€ä¸ªé«˜ä½ç”µå¹³çš„æŒç»­æ—¶é—´ï¼Œè¿›è€ŒæŠŠæ³¢å½¢è½¬æˆæ•°ç»„ï¼›å…·ä½“çš„å®ç°å¯ä»¥çœ‹ä»£ç ,<strong>Talk is cheap, show me the code.ï¼ˆä¸»è¦æ˜¯æ‡’(<em>/Ï‰ï¼¼</em>)~ï¼‰</strong></p>
<h3 id="3-çº¢å¤–ç¼–ç "><a href="#3-çº¢å¤–ç¼–ç " class="headerlink" title="3. çº¢å¤–ç¼–ç "></a>3. çº¢å¤–ç¼–ç </h3><p>&emsp;&emsp;è¿›è¿‡å‰é¢çš„çº¢å¤–æ‹·è´ä¹‹åï¼Œæˆ‘å­˜å‚¨äº†ï¼Œå‡ ä¸ªåŠŸèƒ½ç‚¹çš„çº¢å¤–ç ï¼Œåˆ†åˆ«ä½å¼€å…³ï¼Œå’Œæ¸©åº¦è®¾ç½®(16åº¦åˆ°27åº¦)ï¼›<br>è¿™é‡Œç®€å•è¯´ä¸€ä¸‹ï¼Œçº¢å¤–çš„å‘é€åŸç†(ä¸»è¦æ˜¯ç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šè¿™æ–¹é¢çš„æ•™ç¨‹äº†)ï¼Œé¦–å…ˆä¸Šé¢æŠ“åˆ°çš„çº¢å¤–æ³¢å½¢ï¼Œå¹¶ä¸æ˜¯çº¢å¤–å‘é€å™¨çœŸæ­£å‘é€çš„æ³¢å½¢ï¼Œçº¢å¤–å‘é€çš„æ³¢å½¢ä¸€èˆ¬æ˜¯è¦å‘é€çš„å‘½ä»¤â€œåŠ â€åœ¨ä¸€ä¸ª38K çš„ä¸€ä¸ªæ³¢å½¢ä¸Šï¼›å› ä¸ºæ¥æ”¶ç«¯æœ‰ä¸€ä¸ªæ³¢å½¢è¿‡æ»¤å™¨ï¼Œå¦‚æœä¸æ˜¯38Kçº¢å¤–æ³¢å½¢èŒƒå›´å†…ä¼šè¢«è¿‡æ»¤æ‰ã€‚æ‰€ä»¥ä¸€èˆ¬ä¼šä»¥38Kçš„PWMä½œä¸ºä¸€ä¸ªçº¢å¤–è½½æ³¢ï¼›<br>&emsp;&emsp;é‚£ä¹ˆå‘é€çš„æ—¶å€™ï¼Œæˆ‘å¯¹STM32çš„PA5å¼•è„šåšä¸ºè¾“å‡ºPWMä¸º38Kçš„å¼•è„šï¼Œç„¶ååæ ¹æ®æœºæ™ºäº‘å®šä¹‰å¥½çš„æ•°æ®ç‚¹ï¼Œæ‹¿åˆ°å¯¹åº”çš„ä¸²å£åè®®æ–‡æ¡£ï¼Œè¿›è¡Œå‘½ä»¤æå‰ï¼Œä¸»è¦æ˜¯APPæ§åˆ¶å’ŒMCUçŠ¶æ€ä¸ŠæŠ¥ï¼Œè¿™ä¸¤æ¡åè®®ï¼Œ(<strong>å½“ç„¶è¿˜æœ‰è¿›å…¥WiFié…ç½‘å’Œä¸²å£æ¡æ‰‹ç­‰ï¼Œä¸è¿‡è¿™äº›åœ¨MCUä»£ç è‡ªåŠ¨ç”Ÿæˆçš„æ—¶å€™å·²ç»å¸®æˆ‘ä»¬å®ç°å¥½äº†</strong>)ä¸²å£åè®®æ ¼å¼å¦‚ä¸‹å›¾</p>
<p><img src="/images/pasted-48.png" alt="upload successful"><br><img src="/images/pasted-49.png" alt="upload successful"><br>é‚£ä¹ˆåé¢çš„å°±æ˜¯æ ¹æ®åè®®ç¼–ç¨‹äº†ã€‚</p>
<p>è¿™é‡Œæ’æ’­ä¸€æ¡ï¼Œæˆ‘å®ç°å‘é€çš„æ—¶å€™ï¼Œå¼€å§‹æˆ‘æƒ³ä½¿ç”¨gokitä¸Šçš„çº¢å¤–æ¥ä½œä¸ºå‘é€ï¼Œä¸è¿‡åé¢å‘ç°å‘é€çš„è·ç¦»æ¯”è¾ƒçŸ­ï¼Œåé¢å°±è‡ªå·±ç„Šæ¥äº†çº¢å¤–å‘å°„å¤´ï¼›<br>å½“æ—¶æˆ‘å¯¹Gokitçš„æ”¹é€ å¦‚ä¸‹ï¼Œå¦‚æœå°ä¼™ä¼´è¦æ§åˆ¶çš„è·ç¦»ä¸è¿œçš„è¯ï¼Œæˆ‘æƒ³æ˜¯å¯ä»¥çš„ï¼Œå…·ä½“æˆ‘çš„æ”¹é€ å¦‚ä¸‹:</p>
<p><strong>Gokitå¼•è„šä¿®æ”¹</strong></p>
<p><img src="/images/pasted-43.png" alt="upload successful"><br><img src="/images/pasted-44.png" alt="upload successful"><br><img src="/images/pasted-45.png" alt="upload successful"><br><img src="/images/pasted-46.png" alt="upload successful"></p>
<p><strong>æˆ‘æœ€åçœŸå®çš„çº¢å¤–å‘é€æ­å»ºå¦‚ä¸‹</strong><br><img src="/images/pasted-50.png" alt="upload successful"><br><img src="/images/pasted-51.png" alt="upload successful"></p>
<h3 id="å®Œæˆ"><a href="#å®Œæˆ" class="headerlink" title="å®Œæˆ"></a>å®Œæˆ</h3><p>æœ€åï¼Œæˆ‘æŠŠæ‰‹å¤´å‡ ä¸ªGokit éƒ½æ¥ä¸Šäº†çº¢å¤–ï¼Œè¿™æ ·å°±èƒ½å¼€å¼€å¿ƒå¿ƒå¼€ç©ºè°ƒå»å•¦~~~</p>
<p><img src="/images/pasted-54.png" alt="upload successful"><br><img src="/images/pasted-52.png" alt="upload successful"><br><img src="/images/pasted-53.png" alt="upload successful"><br><img src="/images/pasted-55.png" alt="upload successful"></p>
<h3 id="æ¼”ç¤ºè§†é¢‘"><a href="#æ¼”ç¤ºè§†é¢‘" class="headerlink" title="æ¼”ç¤ºè§†é¢‘"></a>æ¼”ç¤ºè§†é¢‘</h3><ul>
<li>è§†é¢‘: <a href="https://www.bilibili.com/video/BV1WK4y1s7DA/">https://www.bilibili.com/video/BV1WK4y1s7DA/</a></li>
</ul>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul>
<li><a href="https://blog.csdn.net/qq_39690917/article/details/86713809">https://blog.csdn.net/qq_39690917/article/details/86713809</a></li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>ESP8266ç³»åˆ—-å¦‚ä½•æ­å»ºè‡ªå·±å¹³å°çš„ç¼–è¯‘å™¨</title>
    <url>/2017/07/31/e7ff.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr>
<h3 id="ä¸ºä»€ä¹ˆè¦æ­å»ºè‡ªå·±å¹³å°çš„ç¼–è¯‘å™¨"><a href="#ä¸ºä»€ä¹ˆè¦æ­å»ºè‡ªå·±å¹³å°çš„ç¼–è¯‘å™¨" class="headerlink" title="ä¸ºä»€ä¹ˆè¦æ­å»ºè‡ªå·±å¹³å°çš„ç¼–è¯‘å™¨"></a>ä¸ºä»€ä¹ˆè¦æ­å»ºè‡ªå·±å¹³å°çš„ç¼–è¯‘å™¨</h3><p>åœ¨ä¹é‘«çš„å®˜ç½‘ä¸Šå·²ç»æœ‰å…¬å¸ƒäº†ç¼–è¯‘å¥½çš„ç¼–è¯‘å™¨ï¼Œ:<a href="http://bbs.espressif.com/viewtopic.php?f=57&amp;t=2">http://bbs.espressif.com/viewtopic.php?f=57&amp;t=2</a><br>ä½†æ˜¯è¿™é‡Œçš„ç¼–è¯‘å™¨åªæ˜¯é€‚åˆ32ä½ç³»ç»Ÿä¸Šçš„ï¼›<br><img src="http://static.zybuluo.com/AlexLin/vp3gfy4adgs6ipmc6gftuaj2/image.png" alt="image.png-39.4kB"><br>è‹¥ä½ çš„ç³»ç»Ÿæ˜¯64ä½çš„ï¼Œæˆ–è€…ä½ åœ¨å…¶ä»–çš„å¹³å°ä¸Šï¼Œé‚£ä¹ˆå°±å¾—è‡ªå·±ç¼–è¯‘ç”Ÿæˆå¯¹åº”å¹³å°çš„ç¼–è¯‘å™¨äº†ï¼›<br>ä¸‹é¢ä»¥64ä½Ubuntuç³»ç»Ÿä¸ºä¾‹å­ï¼Œæ¼”ç¤ºå¦‚ä½•ç¼–è¯‘è‡ªå·±å¹³å°çš„esp8266ç¼–è¯‘å™¨;</p>
<a id="more"></a>

<h3 id="Ubuntu-åŸºæœ¬ä¿¡æ¯"><a href="#Ubuntu-åŸºæœ¬ä¿¡æ¯" class="headerlink" title="Ubuntu åŸºæœ¬ä¿¡æ¯"></a>Ubuntu åŸºæœ¬ä¿¡æ¯</h3><pre class=" language-sh"><code class="language-sh">alex@alex-virtual-machine:/$ uname -a
Linux alex-virtual-machine 3.16.0-30-generic #40~14.04.1-Ubuntu SMP Thu Jan 15 17:43:14 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux
alex@alex-virtual-machine:/$ gcc -v
Using built-in specs.
COLLECT_GCC=gcc
COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-linux-gnu/4.8/lto-wrapper
Target: x86_64-linux-gnu
Configured with: ../src/configure -v --with-pkgversion='Ubuntu 4.8.4-2ubuntu1~14.04.3' --with-bugurl=file:///usr/share/doc/gcc-4.8/README.Bugs --enable-languages=c,c++,java,go,d,fortran,objc,obj-c++ --prefix=/usr --program-suffix=-4.8 --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --with-gxx-include-dir=/usr/include/c++/4.8 --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --enable-gnu-unique-object --disable-libmudflap --enable-plugin --with-system-zlib --disable-browser-plugin --enable-java-awt=gtk --enable-gtk-cairo --with-java-home=/usr/lib/jvm/java-1.5.0-gcj-4.8-amd64/jre --enable-java-home --with-jvm-root-dir=/usr/lib/jvm/java-1.5.0-gcj-4.8-amd64 --with-jvm-jar-dir=/usr/lib/jvm-exports/java-1.5.0-gcj-4.8-amd64 --with-arch-directory=amd64 --with-ecj-jar=/usr/share/java/eclipse-ecj.jar --enable-objc-gc --enable-multiarch --disable-werror --with-arch-32=i686 --with-abi=m64 --with-multilib-list=m32,m64,mx32 --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu
Thread model: posix
gcc version 4.8.4 (Ubuntu 4.8.4-2ubuntu1~14.04.3)</code></pre>
<h3 id="ç¬¬ä¸€æ­¥ï¼Œå®‰è£…ç¼–è¯‘éœ€è¦çš„è½¯ä»¶åŒ…"><a href="#ç¬¬ä¸€æ­¥ï¼Œå®‰è£…ç¼–è¯‘éœ€è¦çš„è½¯ä»¶åŒ…" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼Œå®‰è£…ç¼–è¯‘éœ€è¦çš„è½¯ä»¶åŒ…"></a>ç¬¬ä¸€æ­¥ï¼Œå®‰è£…ç¼–è¯‘éœ€è¦çš„è½¯ä»¶åŒ…</h3><pre class=" language-sh"><code class="language-sh">sudo apt-get install git autoconf build-essential gperf bison flex texinfo libtool libncurses5-dev wget gawk libc6-dev-amd64 python-serial libexpat-dev</code></pre>
<h3 id="ç¬¬äºŒæ­¥ï¼Œä¸‹è½½ç¼–è¯‘å™¨æºç "><a href="#ç¬¬äºŒæ­¥ï¼Œä¸‹è½½ç¼–è¯‘å™¨æºç " class="headerlink" title="ç¬¬äºŒæ­¥ï¼Œä¸‹è½½ç¼–è¯‘å™¨æºç "></a>ç¬¬äºŒæ­¥ï¼Œä¸‹è½½ç¼–è¯‘å™¨æºç </h3><pre class=" language-sh"><code class="language-sh"># åˆ›å»ºæºç ç›®å½•
cd ~/
mkdir esptool/buildTool
cd esptool/buildTool
# ä¸‹è½½æºç 
git clone -b lx106 git://github.com/jcmvbkbc/crosstool-NG.git</code></pre>
<blockquote>
<p><strong>ä¸€å®šè¦æ³¨æ„ä¸‹è½½çš„æ˜¯ lx106 åˆ†æ”¯çš„ä»£ç ï¼Œå› ä¸ºESP8266å†…ç½®Tensilical L106 32bitå¾®å¤„ç†å™¨</strong></p>
</blockquote>
<h3 id="ç¬¬ä¸‰éƒ¨ï¼Œç”Ÿæˆé…ç½®æ–‡ä»¶"><a href="#ç¬¬ä¸‰éƒ¨ï¼Œç”Ÿæˆé…ç½®æ–‡ä»¶" class="headerlink" title="ç¬¬ä¸‰éƒ¨ï¼Œç”Ÿæˆé…ç½®æ–‡ä»¶"></a>ç¬¬ä¸‰éƒ¨ï¼Œç”Ÿæˆé…ç½®æ–‡ä»¶</h3><pre class=" language-sh"><code class="language-sh">cd crosstool-NG
#ç”Ÿæˆ.configure
./bootstrap
#å°†æ£€æŸ¥ä¾èµ–æ–‡ä»¶åŒ…ï¼Œå¹¶é€šè¿‡--prefixé…ç½®å®‰è£…è·¯å¾„ä¸ºå½“å‰ç›®å½•
#è‹¥æœ‰æç¤ºç¡®å®çš„ä¾èµ–æ–‡ä»¶ï¼Œè§£å†³æ–¹æ³•ï¼šsudo apt-get install libtool
./configure --prefix=`pwd`
make
make install
./ct-ng xtensa-lx106-elf</code></pre>
<p>è¿è¡Œè¿‡ç¨‹æ—¥å¿—</p>
<pre class=" language-sh"><code class="language-sh">alex@alex-virtual-machine:~/esptool/buildTool/crosstool-NG$ ./bootstrap
Running autoconf...
Done. You may now run:
    ./configure
alex@alex-virtual-machine:~/esptool/buildTool/crosstool-NG$ ./configure --prefix=`pwd`
checking build system type... x86_64-unknown-linux-gnu
checking host system type... x86_64-unknown-linux-gnu
checking for a BSD-compatible install... /usr/bin/install -c
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for a sed that does not truncate output... /bin/sed
checking whether sed understands -r -i -e... yes
checking whether ln -s works... yes
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables...
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking how to run the C preprocessor... gcc -E
checking for ranlib... ranlib
checking for gobjcopy... no
checking for objcopy... objcopy
checking for absolute path to objcopy... /usr/bin/objcopy
checking for gobjdump... no
checking for objdump... objdump
checking for absolute path to objdump... /usr/bin/objdump
checking for greadelf... no
checking for readelf... readelf
checking for absolute path to readelf... /usr/bin/readelf
checking for gperf... gperf
checking for absolute path to gperf... /usr/bin/gperf
checking for bison... bison
checking for flex... flex
checking for makeinfo... makeinfo
checking for cut... cut
checking for stat... stat
checking for readlink... readlink
checking for wget... wget
checking for tar... tar
checking for gzip... gzip
checking for bzip2... bzip2
checking for patch... /usr/bin/patch
checking for bash >= 3.1... /bin/bash
checking for GNU awk... /usr/bin/gawk
checking for GNU make >= 3.80... /usr/bin/make
checking whether /usr/bin/make sets $(MAKE)... yes
checking for make 3.81... yes
checking for GNU libtool >= 1.5.26... /usr/bin/libtool
checking for GNU libtool >= 1.5.26... /usr/bin/libtool
checking for GNU libtoolize >= 1.5.26... /usr/bin/libtoolize
checking for GNU automake >= 1.10... /usr/bin/automake
checking for xz... xz
checking for cvs... no
checking for svn... no
checking for inline... inline
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking for stdlib.h... (cached) yes
checking for GNU libc compatible malloc... yes
checking for stdlib.h... (cached) yes
checking for GNU libc compatible realloc... yes
checking for size_t... yes
checking for working alloca.h... yes
checking for alloca... yes
checking libintl.h usability... yes
checking libintl.h presence... yes
checking for libintl.h... yes
checking whether gettext is declared... yes
checking ncurses/ncurses.h usability... no
checking ncurses/ncurses.h presence... no
checking for ncurses/ncurses.h... no
checking ncurses/curses.h usability... no
checking ncurses/curses.h presence... no
checking for ncurses/curses.h... no
checking ncursesw/curses.h usability... no
checking ncursesw/curses.h presence... no
checking for ncursesw/curses.h... no
checking ncurses.h usability... yes
checking ncurses.h presence... yes
checking for ncurses.h... yes
checking for library containing initscr... -lncurses
configure: creating ./config.status
config.status: creating Makefile
alex@alex-virtual-machine:~/esptool/buildTool/crosstool-NG$ make
  SED    'ct-ng'
  SED    'scripts/crosstool-NG.sh'
  SED    'scripts/saveSample.sh'
  SED    'scripts/showTuple.sh'
  GEN    'config/configure.in'
  GEN    'paths.mk'
  GEN    'paths.sh'
  SED    'docs/ct-ng.1'
  GZIP   'docs/ct-ng.1.gz'
alex@alex-virtual-machine:~/esptool/buildTool/crosstool-NG$ make install
  GEN    'config/configure.in'
  GEN    'paths.mk'
  GEN    'paths.sh'
  INST    'ct-ng'
  INSTDIR 'config/'
  INSTDIR 'contrib/'
  INSTDIR 'patches/'
  INSTDIR 'scripts/'
  INST    'steps.mk'
  INST    'paths'
  INSTDIR 'samples/'
  INST    'kconfig/'
  INST    'docs/*.txt'
  INST    'ct-ng.1.gz'

For auto-completion, do not forget to install 'ct-ng.comp' into
your bash completion directory (usually /etc/bash_completion.d)
alex@alex-virtual-machine:~/esptool/buildTool/crosstool-NG$ ./ct-ng xtensa-lx106-elf
  CONF  config/config.in
#
# configuration saved
#

***********************************************************

Initially reported by: Max Filippov <jcmvbkbc@gmail.com>
URL: http://www.esp8266.com/viewtopic.php?f=9&t=224

***********************************************************

WARNING! This sample may enable experimental features.
         Please be sure to review the configuration prior
         to building and using your toolchain!
Now, you have been warned!

***********************************************************

Now configured for "xtensa-lx106-elf"</code></pre>
<h3 id="ç¬¬å››æ­¥ï¼Œä¿®æ”¹crosstool-NGé…ç½®-amp-ç¼–è¯‘"><a href="#ç¬¬å››æ­¥ï¼Œä¿®æ”¹crosstool-NGé…ç½®-amp-ç¼–è¯‘" class="headerlink" title="ç¬¬å››æ­¥ï¼Œä¿®æ”¹crosstool_NGé…ç½®&amp;ç¼–è¯‘"></a>ç¬¬å››æ­¥ï¼Œä¿®æ”¹crosstool_NGé…ç½®&amp;ç¼–è¯‘</h3><ul>
<li>åœ¨crosstool-NGç›®å½•ä¸‹æ‰§è¡Œ./ct-ng menuconfigè¿›è¡Œé…ç½®</li>
</ul>
<pre class=" language-sh"><code class="language-sh">./ct-ng menuconfig</code></pre>
<p><img src="http://static.zybuluo.com/AlexLin/ulwtccvkik8a6t1m8861g9kt/image.png" alt="image.png-87.3kB"></p>
<ul>
<li> é…ç½®å¤šçº¿ç¨‹ç¼–è¯‘<br>â€œPaths and misc optionsâ€-&gt;â€œNumber of parallel jobsâ€</li>
</ul>
<p><img src="http://static.zybuluo.com/AlexLin/kayiaw7ks1gph5eebwfv6i2w/image.png" alt="image.png-128.4kB"></p>
<ul>
<li>ä¿å­˜ç¼–è¯‘ä¸­é—´æ­¥éª¤<br>â€œPaths and misc optionsâ€-&gt;â€œDebug crosstool-NGâ€-&gt;â€œSave intermediate stepsâ€</li>
</ul>
<p><img src="http://static.zybuluo.com/AlexLin/6f1aygjx6rtuolnell8m8g1b/image.png" alt="image.png-141.1kB"></p>
<ul>
<li>ç¼–è¯‘äº¤å‰ç¼–è¯‘å·¥å…·(<strong>è¿™ä¸ªè¿‡ç¨‹æ¯”è¾ƒä¹…ï¼Œæˆ‘ç¼–è¯‘äº†33åˆ†é’Ÿï¼Œè¦è€å¿ƒç­‰å¾…~~~</strong>)</li>
</ul>
<pre class=" language-sh"><code class="language-sh">./ct-ng build</code></pre>
<p>è¿è¡Œæ—¥å¿—</p>
<pre class=" language-sh"><code class="language-sh">alex@alex-virtual-machine:~/esptool/buildTool/crosstool-NG$ ./ct-ng build
[INFO ]  Performing some trivial sanity checks
[INFO ]  Build started 20170730.163954
[INFO ]  Building environment variables
[INFO ]  =================================================================
[INFO ]  Retrieving needed toolchain components' tarballs
[INFO ]  Retrieving needed toolchain components' tarballs: done in 0.15s (at 00:17)
[INFO ]  =================================================================
[INFO ]  Extracting and patching toolchain components
[INFO ]  Extracting and patching toolchain components: done in 0.88s (at 00:18)
[INFO ]  Saving state to restart at step 'libc_check_config'...
[INFO ]  Saving state to restart at step 'companion_libs_for_build'...
[INFO ]  Saving state to restart at step 'binutils_for_build'...
[INFO ]  Saving state to restart at step 'companion_libs_for_host'...
[INFO ]  =================================================================
[INFO ]  Installing GMP for host
[INFO ]  Installing GMP for host: done in 139.49s (at 02:38)
[INFO ]  =================================================================
[INFO ]  Installing MPFR for host
[INFO ]  Installing MPFR for host: done in 51.10s (at 03:29)
[INFO ]  =================================================================
[INFO ]  Installing ISL for host
[INFO ]  Installing ISL for host: done in 109.78s (at 05:19)
[INFO ]  =================================================================
[INFO ]  Installing CLooG for host
[INFO ]  Installing CLooG for host: done in 19.59s (at 05:39)
[INFO ]  =================================================================
[INFO ]  Installing MPC for host
[INFO ]  Installing MPC for host: done in 21.96s (at 06:01)
[INFO ]  Saving state to restart at step 'binutils_for_host'...
[INFO ]  =================================================================
[INFO ]  Installing binutils for host
[INFO ]  Installing binutils for host: done in 209.94s (at 09:32)
[INFO ]  Saving state to restart at step 'cc_core_pass_1'...
[INFO ]  Saving state to restart at step 'kernel_headers'...
[INFO ]  Saving state to restart at step 'libc_start_files'...
[INFO ]  Saving state to restart at step 'cc_core_pass_2'...
[INFO ]  Saving state to restart at step 'libc'...
[INFO ]  Saving state to restart at step 'cc_for_build'...
[INFO ]  Saving state to restart at step 'cc_for_host'...
[INFO ]  =================================================================
[INFO ]  Installing final compiler
[INFO ]  Installing final compiler: done in 965.90s (at 26:12)
[INFO ]  Saving state to restart at step 'libelf_for_target'...
[INFO ]  Saving state to restart at step 'binutils_for_target'...
[INFO ]  Saving state to restart at step 'debug'...
[INFO ]  =================================================================
[INFO ]  Installing cross-gdb
[INFO ]  Installing cross-gdb: done in 336.23s (at 32:36)
[INFO ]  Saving state to restart at step 'test_suite'...
[INFO ]  Saving state to restart at step 'finish'...
[INFO ]  =================================================================
[INFO ]  Cleaning-up the toolchain's directory
[INFO ]    Stripping all toolchain executables
[INFO ]  Cleaning-up the toolchain's directory: done in 2.31s (at 33:07)
[INFO ]  Build completed at 20170730.171300
[INFO ]  (elapsed: 33:06.05)
[INFO ]  Finishing installation (may take a few seconds)...
[33:07] / alex@alex-virtual-machine:~/esptool/buildTool/crosstool-NG$</code></pre>
<p><strong>ç¼–è¯‘ç”Ÿæˆæ–‡ä»¶åœ¨æ ¹ç›®å½•ä¸‹çš„buildsä¸‹ï¼Œæ–‡ä»¶åä¸ºxtensa-lx106-elf</strong></p>
<pre class=" language-sh"><code class="language-sh">alex@alex-virtual-machine:~/esptool/buildTool/crosstool-NG/builds$ ls
xtensa-lx106-elf</code></pre>
<h3 id="ç¬¬äº”æ­¥ï¼Œæ·»åŠ esp8266-ä¾èµ–å¤´æ–‡ä»¶"><a href="#ç¬¬äº”æ­¥ï¼Œæ·»åŠ esp8266-ä¾èµ–å¤´æ–‡ä»¶" class="headerlink" title="ç¬¬äº”æ­¥ï¼Œæ·»åŠ esp8266 ä¾èµ–å¤´æ–‡ä»¶"></a>ç¬¬äº”æ­¥ï¼Œæ·»åŠ esp8266 ä¾èµ–å¤´æ–‡ä»¶</h3><pre class=" language-sh"><code class="language-sh">#ç¼–è¯‘ESP8266å¿…é¡»æ·»åŠ ä»¥ä¸‹åº“æ–‡ä»¶ï¼Œä¸ç„¶å°±ä¼šæŠ¥æ‰¾ä¸åˆ°ç›¸åº”åº“ï¼ˆå¦‚ï¼š xtensa-lx106-elf/bin/../lib/gcc/xtensa-lx106-elf/4.8.2/../../../../xtensa-lx106-elf/bin/ld: cannot find -lhalï¼‰
wget https://github.com/esp8266/esp8266-wiki/raw/master/libs/libc.a
wget https://github.com/esp8266/esp8266-wiki/raw/master/libs/libhal.a
wget https://github.com/esp8266/esp8266-wiki/raw/master/include.tgz
## è®¾ç½®å¯è¯»å¯å†™å¯æ‰§è¡Œæƒé™
sudo chmod -R u+x+r+w xtensa-lx106-elf/
sudo chmod 777 libc.a libhal.a
cp libc.a libhal.a xtensa-lx106-elf/xtensa-lx106-elf/sysroot/lib/
tar -xvf include.tgz
sudo chmod 777 include/*
sudo cp -rf include xtensa-lx106-elf/xtensa-lx106-elf/</code></pre>
<p>è¿‡ç¨‹æ—¥å¿—</p>
<pre class=" language-sh"><code class="language-sh">alex@alex-virtual-machine:~/esptool/buildTool/crosstool-NG/builds$ wget https://github.com/esp8266/esp8266-wiki/raw/master/libs/libc.a
--2017-07-30 17:19:01--  https://github.com/esp8266/esp8266-wiki/raw/master/libs/libc.a
Resolving github.com (github.com)... 192.30.255.113, 192.30.255.112
Connecting to github.com (github.com)|192.30.255.113|:443... connected.
HTTP request sent, awaiting response... 302 Found
Location: https://raw.githubusercontent.com/esp8266/esp8266-wiki/master/libs/libc.a [following]
--2017-07-30 17:19:02--  https://raw.githubusercontent.com/esp8266/esp8266-wiki/master/libs/libc.a
Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 151.101.72.133
Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|151.101.72.133|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 2754022 (2.6M) [application/octet-stream]
Saving to: â€˜libc.aâ€™

100%[=====================================================================================================>] 2,754,022   4.78KB/s   in 7m 38s

2017-07-30 17:26:41 (5.87 KB/s) - â€˜libc.aâ€™ saved [2754022/2754022]

alex@alex-virtual-machine:~/esptool/buildTool/crosstool-NG/builds$ wget https://github.com/esp8266/esp8266-wiki/raw/master/libs/libhal.a
--2017-07-30 17:27:29--  https://github.com/esp8266/esp8266-wiki/raw/master/libs/libhal.a
Resolving github.com (github.com)... 192.30.255.112, 192.30.255.113
Connecting to github.com (github.com)|192.30.255.112|:443... connected.
HTTP request sent, awaiting response... 302 Found
Location: https://raw.githubusercontent.com/esp8266/esp8266-wiki/master/libs/libhal.a [following]
--2017-07-30 17:27:30--  https://raw.githubusercontent.com/esp8266/esp8266-wiki/master/libs/libhal.a
Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 151.101.72.133
Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|151.101.72.133|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 347624 (339K) [application/octet-stream]
Saving to: â€˜libhal.aâ€™

100%[=====================================================================================================>] 347,624     15.1KB/s   in 24s

2017-07-30 17:27:57 (13.9 KB/s) - â€˜libhal.aâ€™ saved [347624/347624]

alex@alex-virtual-machine:~/esptool/buildTool/crosstool-NG/builds$ wget https://github.com/esp8266/esp8266-wiki/raw/master/include.tgz
--2017-07-30 17:28:07--  https://github.com/esp8266/esp8266-wiki/raw/master/include.tgz
Resolving github.com (github.com)... 192.30.255.112, 192.30.255.113
Connecting to github.com (github.com)|192.30.255.112|:443... connected.
HTTP request sent, awaiting response... 302 Found
Location: https://raw.githubusercontent.com/esp8266/esp8266-wiki/master/include.tgz [following]
--2017-07-30 17:28:08--  https://raw.githubusercontent.com/esp8266/esp8266-wiki/master/include.tgz
Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 151.101.72.133
Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|151.101.72.133|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 979111 (956K) [application/octet-stream]
Saving to: â€˜include.tgzâ€™

100%[=====================================================================================================>] 979,111     75.2KB/s   in 10s

2017-07-30 17:28:19 (93.5 KB/s) - â€˜include.tgzâ€™ saved [979111/979111]
alex@alex-virtual-machine:~/esptool/buildTool/crosstool-NG/builds$ ls
include.tgz  libc.a  libhal.a  xtensa-lx106-elf
alex@alex-virtual-machine:~/esptool/buildTool/crosstool-NG/builds$ sudo chmod -R u+x+r+w xtensa-lx106-elf/
alex@alex-virtual-machine:~/esptool/buildTool/crosstool-NG/builds$ cp libc.a libhal.a xtensa-lx106-elf/xtensa-lx106-elf/sysroot/lib/
alex@alex-virtual-machine:~/esptool/buildTool/crosstool-NG/builds$ sudo chmod 777 include/*
alex@alex-virtual-machine:~/esptool/buildTool/crosstool-NG/builds$ sudo cp -rf include xtensa-lx106-elf/xtensa-lx106-elf/</code></pre>
<h3 id="ç¬¬å…­æ­¥ï¼Œæ·»åŠ ç¼–è¯‘å·¥å…·åˆ°ç¯å¢ƒå˜é‡"><a href="#ç¬¬å…­æ­¥ï¼Œæ·»åŠ ç¼–è¯‘å·¥å…·åˆ°ç¯å¢ƒå˜é‡" class="headerlink" title="ç¬¬å…­æ­¥ï¼Œæ·»åŠ ç¼–è¯‘å·¥å…·åˆ°ç¯å¢ƒå˜é‡"></a>ç¬¬å…­æ­¥ï¼Œæ·»åŠ ç¼–è¯‘å·¥å…·åˆ°ç¯å¢ƒå˜é‡</h3><ul>
<li>æŠŠç”Ÿæˆçš„ç¼–è¯‘å™¨å·¥å…·ä¸‹çš„binè·¯å¾„æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­</li>
</ul>
<pre class=" language-sh"><code class="language-sh">alex@alex-virtual-machine:~/esptool/buildTool/crosstool-NG/builds$ ls
include  include.tgz  libc.a  libhal.a  xtensa-lx106-elf
alex@alex-virtual-machine:~/esptool/buildTool/crosstool-NG/builds$ echo "export PATH=~/esptool/buildTool/crosstool-NG/builds/xtensa-lx106-elf/bin:$PATH" >>~/.profile
alex@alex-virtual-machine:~/esptool/buildTool/crosstool-NG/builds$ source ~/.profile</code></pre>
<h3 id="ç¼–è¯‘éªŒè¯"><a href="#ç¼–è¯‘éªŒè¯" class="headerlink" title="ç¼–è¯‘éªŒè¯"></a>ç¼–è¯‘éªŒè¯</h3><p>æˆåŠŸ~<br><img src="http://static.zybuluo.com/AlexLin/j8khwtatkzace5rfnt527r7l/image.png" alt="image.png-67.8kB"></p>
<h3 id="ç¼–è¯‘å¥½ç¼–è¯‘å·¥å…·"><a href="#ç¼–è¯‘å¥½ç¼–è¯‘å·¥å…·" class="headerlink" title="ç¼–è¯‘å¥½ç¼–è¯‘å·¥å…·"></a>ç¼–è¯‘å¥½ç¼–è¯‘å·¥å…·</h3><p>å¦‚æœä½ ä¸æƒ³èµ°ä»¥ä¸Šçš„æµç¨‹ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨æˆ‘ç¼–è¯‘å¥½çš„ï¼Œè¿™ä¸ªç¼–è¯‘å™¨å¯ä»¥åœ¨64ä½æ˜¯Ubuntu1402ä¸Šè¿è¡Œã€‚</p>
<p>ä¸‹è½½é“¾æ¥ï¼š<a href="http://pan.baidu.com/s/1jHLNQTo">http://pan.baidu.com/s/1jHLNQTo</a> å¯†ç ï¼šs70o</p>
<p>ä¸‹è½½å®Œæˆä¹‹åï¼Œå‚è€ƒ<strong>ç¬¬å…­æ­¥</strong>ï¼ŒæŠŠå·¥å…·æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­å»ã€‚</p>
<p><strong>hope you like it~<br>by AlexLin</strong></p>
]]></content>
      <categories>
        <category>esp8266</category>
      </categories>
      <tags>
        <tag>esp8266</tag>
        <tag>gcc</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¼–è¾‘å™¨ä»‹ç»</title>
    <url>/2017/06/07/f348.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Sublime"><a href="#Sublime" class="headerlink" title="Sublime"></a>Sublime</h1><hr>
<h2 id="Sublime-Textä¸»é¢˜æ¨èï¼šSeti-UI"><a href="#Sublime-Textä¸»é¢˜æ¨èï¼šSeti-UI" class="headerlink" title="Sublime Textä¸»é¢˜æ¨èï¼šSeti_UI"></a>Sublime Textä¸»é¢˜æ¨èï¼šSeti_UI</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><hr>
<p>Seti_UI è¿™æ¬¾ä¸»é¢˜æœ€å¤§çš„ç‰¹ç‚¹æ˜¯èƒ½å¤Ÿæ˜¾ç¤ºå„ç§æ–‡ä»¶ç±»å‹çš„å›¾æ ‡ï¼Œå°å›¾æ ‡ä¸ä»…çœ‹èµ·æ¥æ¼‚äº®ï¼Œè€Œä¸”å¤§å¤§å¢åŠ äº†è¾¨è¯†åº¦ï¼Œèƒ½å¤Ÿè½»æ¾çš„æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶ã€‚</p>
<a id="more"></a>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><hr>
<p><strong>1. å®‰è£…</strong><br>åœ¨ Package Control å®‰è£…åŒ…å‘½ä»¤è¡Œè¾“å…¥ Seti_UI å›è½¦å³å¯ã€‚</p>
<p><strong>2. æ‰‹åŠ¨å®‰è£…</strong></p>
<ul>
<li><a href="https://github.com/ctf0/Seti_ST3/archive/master.zip">Download the .zip</a>.</li>
<li>Unzip and rename the folder toÂ Seti_UI</li>
<li>Copy the folder intoÂ Packages directory, which you can find using the menu itemÂ Preferences -&gt; Browse Packagesâ€¦ in Sublime Text.</li>
</ul>
<p><strong>3. å¯ç”¨</strong><br>åœ¨ Preferences -&gt; Settings -&gt; User ä¸­åŠ å…¥ï¼š</p>
<pre><code>&quot;theme&quot;: &quot;Seti.sublime-theme&quot;</code></pre>
<p>æˆ–è€…</p>
<pre><code>&quot;theme&quot;: &quot;Seti_orig.sublime-theme&quot;</code></pre>
]]></content>
      <tags>
        <tag>å·¥å…·</tag>
        <tag>IDE</tag>
      </tags>
  </entry>
  <entry>
    <title>é£è¿‡ç•™ç—•ï¼Œé›è¿‡ç•™å£°</title>
    <url>/2017/08/06/23d1.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="æˆ‘ä¸æƒ³è®©ä½ çŸ¥é“"><a href="#æˆ‘ä¸æƒ³è®©ä½ çŸ¥é“" class="headerlink" title="æˆ‘ä¸æƒ³è®©ä½ çŸ¥é“"></a>æˆ‘ä¸æƒ³è®©ä½ çŸ¥é“</h2><p>å°±ä¸æƒ³è®©ä½ çŸ¥é“~~</p>
]]></content>
      <categories>
        <category>ä¸ªäºº</category>
      </categories>
      <tags>
        <tag>ä¸ªäºº</tag>
      </tags>
  </entry>
  <entry>
    <title>CC1101ç¬”è®°</title>
    <url>/2017/03/26/dd22.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><hr>
<h1 id="äº§å“æè¿°"><a href="#äº§å“æè¿°" class="headerlink" title="äº§å“æè¿°"></a>äº§å“æè¿°</h1><h2 id="å·¥ä½œé¢‘æ®µ"><a href="#å·¥ä½œé¢‘æ®µ" class="headerlink" title="å·¥ä½œé¢‘æ®µ"></a>å·¥ä½œé¢‘æ®µ</h2><p><strong>CC1100:Â **400-464Â MHzÂ andÂ 800-928MHzÂ <br>**CC1101:</strong>Â 387-464Â MHzÂ andÂ 779-928MHz</p>
<h2 id="èŠ¯ç‰‡å¼•è„š"><a href="#èŠ¯ç‰‡å¼•è„š" class="headerlink" title="èŠ¯ç‰‡å¼•è„š"></a>èŠ¯ç‰‡å¼•è„š</h2><p><img src="http://upload-images.jianshu.io/upload_images/1736256-bf9e764fcd560a78.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="cc1101å¼•è„š"></p>
<a id="more"></a>
<h3 id="å¼•è„šè¯´æ˜"><a href="#å¼•è„šè¯´æ˜" class="headerlink" title="å¼•è„šè¯´æ˜"></a>å¼•è„šè¯´æ˜</h3><hr>
<table>
<thead>
<tr>
<th>å¼•è„šç¼–å·</th>
<th>å¼•è„šå</th>
<th>å¼•è„šç±»å‹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>SCLK</td>
<td>æ•°å­—è¾“å…¥</td>
<td>è¿ç»­é…ç½®æ¥å£ï¼Œæ—¶é’Ÿè¾“å…¥</td>
</tr>
<tr>
<td>2</td>
<td>SO(GD01)</td>
<td>æ•°å­—è¾“å‡º</td>
<td>è¿ç»­é…ç½®æ¥å£ï¼Œæ•°æ®è¾“å‡ºå½“ CSn ä¸ºé«˜æ—¶ä¸ºå¯é€‰çš„ä¸€èˆ¬è¾“å‡ºè„š</td>
</tr>
<tr>
<td>3</td>
<td>GDO2</td>
<td>æ•°å­—è¾“å‡º</td>
<td>ä¸€èˆ¬ç”¨é€”çš„æ•°å­—è¾“å‡ºè„šï¼š<strong>1&gt;**æµ‹è¯•ä¿¡å·ï¼›</strong>2&gt;**FIFO çŠ¶æ€ä¿¡å·;**3&gt;**æ—¶é’Ÿè¾“å‡ºï¼Œä» XOSC å‘ä¸‹åˆ†å‰²;**4&gt;**è¿ç»­è¾“å…¥ TX æ•°æ®</td>
</tr>
<tr>
<td>4</td>
<td>DVDD</td>
<td>åŠŸç‡ï¼ˆæ•°å­—ï¼‰</td>
<td>æ•°å­— I/O å’Œæ•°å­—ä¸­å¿ƒç”µå‹è°ƒèŠ‚å™¨çš„ 1.8V-3.6V æ•°å­—åŠŸç‡ä¾›ç»™è¾“å‡º</td>
</tr>
<tr>
<td>5</td>
<td>DCOUPL</td>
<td>åŠŸç‡ï¼ˆæ•°å­—ï¼‰</td>
<td>å¯¹é€€è€¦çš„ 1.6V-2.0V æ•°å­—åŠŸç‡ä¾›ç»™è¾“å‡º;<strong>æ³¨æ„ï¼šè¿™ä¸ªå¼•è„šåªå¯¹ CC2500 ä½¿ç”¨ã€‚ä¸èƒ½ç”¨æ¥å¯¹å…¶ä»–è®¾å¤‡æä¾›ä¾›ç»™ç”µå‹</strong></td>
</tr>
<tr>
<td>6</td>
<td>GDO0(ATEST)</td>
<td>æ•°å­— I/O</td>
<td>ä¸€èˆ¬ç”¨é€”çš„æ•°å­—è¾“å‡ºè„šï¼š<strong>1&gt;</strong> æµ‹è¯•ä¿¡å·;**2&gt;**FIFO çŠ¶æ€ä¿¡å·;**3&gt;**æ—¶é’Ÿè¾“å‡ºï¼Œä» XOSC å‘ä¸‹åˆ†å‰²;**4&gt;**è¿ç»­è¾“å…¥ TX æ•°æ®;**5&gt;**ä¹Ÿç”¨ä½œåŸå‹/äº§å“æµ‹è¯•çš„æ¨¡æ‹Ÿæµ‹è¯• I/O</td>
</tr>
<tr>
<td>7</td>
<td>CSn</td>
<td>æ•°å­—è¾“å…¥</td>
<td>è¿ç»­é…ç½®æ¥å£ï¼ŒèŠ¯ç‰‡é€‰æ‹©</td>
</tr>
<tr>
<td>8</td>
<td>XOSC_Q1</td>
<td>æ¨¡æ‹Ÿ I/O</td>
<td>æ™¶ä½“æŒ¯è¡å™¨è„š 1ï¼Œæˆ–å¤–éƒ¨æ—¶é’Ÿè¾“å…¥</td>
</tr>
<tr>
<td>9</td>
<td>AVDD</td>
<td>åŠŸç‡ï¼ˆæ¨¡æ‹Ÿï¼‰</td>
<td>1.8V-3.6V æ¨¡æ‹ŸåŠŸç‡ä¾›ç»™è¿æ¥</td>
</tr>
<tr>
<td>10</td>
<td>XOSC_Q2</td>
<td>æ¨¡æ‹Ÿ I/O</td>
<td>æ™¶ä½“æŒ¯è¡å™¨è„š</td>
</tr>
<tr>
<td>11</td>
<td>AVDD</td>
<td>åŠŸç‡ï¼ˆæ¨¡æ‹Ÿï¼‰</td>
<td>1.8V-3.6V æ¨¡æ‹ŸåŠŸç‡ä¾›ç»™è¿æ¥</td>
</tr>
<tr>
<td>12</td>
<td>RF_P</td>
<td>RF I/O</td>
<td>æ¥æ”¶æ¨¡å¼ä¸‹å¯¹ LNA çš„æ­£ RF è¾“å…¥ä¿¡å·å‘é€æ¨¡å¼ä¸‹å¯¹ LNA çš„æ­£ RF è¾“å‡ºä¿¡å·</td>
</tr>
<tr>
<td>13</td>
<td>AVDD</td>
<td>RF I/O</td>
<td>æ¥æ”¶æ¨¡å¼ä¸‹å¯¹ LNA çš„è´Ÿ RF è¾“å…¥ä¿¡å·å‘é€æ¨¡å¼ä¸‹å¯¹ LNA çš„è´Ÿ RF è¾“å‡ºä¿¡å·</td>
</tr>
<tr>
<td>14</td>
<td>AVDD</td>
<td>åŠŸç‡ï¼ˆæ¨¡æ‹Ÿï¼‰</td>
<td>1.8V-3.6V æ¨¡æ‹ŸåŠŸç‡ä¾›ç»™è¿æ¥</td>
</tr>
<tr>
<td>15</td>
<td>AVDD</td>
<td>åŠŸç‡ï¼ˆæ¨¡æ‹Ÿï¼‰</td>
<td>1.8V-3.6V æ¨¡æ‹ŸåŠŸç‡ä¾›ç»™è¿æ¥</td>
</tr>
<tr>
<td>16</td>
<td>GND</td>
<td>åœ°(æ¨¡æ‹Ÿ)</td>
<td>æ¨¡æ‹Ÿæ¥åœ°</td>
</tr>
<tr>
<td>17</td>
<td>RBIAS</td>
<td>æ¨¡æ‹Ÿ I/O</td>
<td>å‚è€ƒç”µæµçš„å¤–éƒ¨åé˜»å™¨</td>
</tr>
<tr>
<td>18</td>
<td>DGUARD</td>
<td>åŠŸç‡ï¼ˆæ•°å­—ï¼‰</td>
<td>å¯¹æ•°å­—å™ªå£°éš”ç¦»çš„åŠŸç‡ä¾›ç»™è¿æ¥</td>
</tr>
<tr>
<td>19</td>
<td>GND</td>
<td>åœ°ï¼ˆæ•°å­—ï¼‰</td>
<td>æ•°å­—å™ªå£°éš”ç¦»çš„æ¥åœ°</td>
</tr>
<tr>
<td>20</td>
<td>SI</td>
<td>æ•°å­—è¾“å…¥</td>
<td>è¿ç»­é…ç½®æ¥å£ï¼Œæ•°æ®è¾“å…¥</td>
</tr>
</tbody></table>
<h2 id="é€šè®¯æ–¹å¼ä»¥åŠé…ç½®æ–¹å¼â€”SPI"><a href="#é€šè®¯æ–¹å¼ä»¥åŠé…ç½®æ–¹å¼â€”SPI" class="headerlink" title="é€šè®¯æ–¹å¼ä»¥åŠé…ç½®æ–¹å¼â€”SPI"></a>é€šè®¯æ–¹å¼ä»¥åŠé…ç½®æ–¹å¼â€”SPI</h2><ul>
<li>CC1101é€šè¿‡4çº¿SPIå…¼å®¹æ¥å£ï¼ˆMOSI,MISO,SCLKå’ŒCSnï¼‰è¿›è¡Œé…ç½®ï¼Œ<strong>CC1101ä½œä¸ºä»è®¾å¤‡</strong>ã€‚<br>è¿™ä¸ªæ¥å£åŒæ—¶ç”¨ä½œè¯»å†™ç¼“å†²å™¨æ•°æ®ã€‚<br>SPIæ¥å£ä¸Šæ‰€æœ‰çš„æ•°æ®ä¼ é€éƒ½æ˜¯å…ˆä¼ é€ <strong>MSB</strong></li>
</ul>
<blockquote>
<p><strong>æ‹“å±•çŸ¥è¯†:</strong><br><strong>MSB:**é«˜ä½å‰å¯¼<br>**LSB:**ä½ä½å‰å¯¼ã€‚<br>**big endianï¼ˆå¤§ç«¯ï¼‰</strong>æ˜¯æŒ‡ä½åœ°å€å­˜æ”¾æœ€é«˜æœ‰æ•ˆå­—èŠ‚ï¼ˆMSBï¼‰ï¼Œ<br><strong>little endianï¼ˆå°ç«¯ï¼‰</strong>åˆ™æ˜¯ä½åœ°å€å­˜æ”¾æœ€ä½æœ‰æ•ˆå­—èŠ‚ï¼ˆLSBï¼‰</p>
</blockquote>
<h3 id="SPI-è¯»å†™æ³¨æ„äº‹é¡¹"><a href="#SPI-è¯»å†™æ³¨æ„äº‹é¡¹" class="headerlink" title="SPI è¯»å†™æ³¨æ„äº‹é¡¹"></a>SPI è¯»å†™æ³¨æ„äº‹é¡¹</h3><ul>
<li>SPIæ¥å£ä¸Šçš„æ‰€æœ‰ä¼ é€éƒ½æ˜¯ä»¥ä¸€ä¸ªå¤´å­—èŠ‚ï¼ˆheaderÂ byteï¼‰å¼€å§‹åŒ…å«ä»¥ä¸‹ï¼š</li>
<li>ä¸€ä¸ª<strong>è¯»å†™ä½(R/W)ï¼š</strong>åœ¨è¯»æ“ä½œä¸­è¯¥ä½ç½®1ï¼Œåœ¨å†™æ“ä½œä¸­è¯¥ä½ç½®0ï¼›</li>
<li>ä¸€ä¸ª**(çªå‘(burstÂ access)è®¿é—®ä½(B)**</li>
<li>**6ä½åœ°å€ä½(A5~A0)**ã€‚</li>
<li>åœ¨SPIæ€»çº¿ä¸Šä¼ è¾“æ•°æ®æ—¶ï¼ŒCSnè„šå¿…é¡»ä¿æŒä½ç”µå¹³ã€‚å¦‚æœåœ¨å‘é€å¤´å­—èŠ‚æˆ–è€…è¯»å†™å¯„å­˜å™¨æ—¶CSnæ‹‰é«˜ï¼Œä¼ é€å°†è¢«å–æ¶ˆ</li>
<li>å½“ CSn å˜ä½ï¼Œåœ¨å¼€å§‹è½¬æ¢å¤´å­—èŠ‚ä¹‹å‰ï¼ŒMCUå¿…é¡»ç­‰å¾…ï¼Œç›´åˆ° MISO è„šå˜ä½ã€‚è¿™è¡¨æ˜ç”µå‹è°ƒåˆ¶å™¨å·²ç»ç¨³å®šï¼Œæ™¶ä½“æ­£åœ¨è¿ä½œä¸­ã€‚é™¤éèŠ¯ç‰‡å¤„åœ¨ SLEEP æˆ– XOFF çŠ¶æ€ï¼ŒMISO è„šåœ¨ CSnå˜ä½ä¹‹åæ€»ä¼šç«‹å³å˜ä½ã€‚</li>
</ul>
<h4 id="èŠ¯ç‰‡çŠ¶æ€å­—èŠ‚"><a href="#èŠ¯ç‰‡çŠ¶æ€å­—èŠ‚" class="headerlink" title="èŠ¯ç‰‡çŠ¶æ€å­—èŠ‚"></a><strong>èŠ¯ç‰‡çŠ¶æ€å­—èŠ‚</strong></h4><ul>
<li> å½“å¤´å­—èŠ‚åœ¨ SPI æ¥å£ä¸Šè¢«å†™å…¥æ—¶ï¼ŒèŠ¯ç‰‡çŠ¶æ€å­—èŠ‚åœ¨ MISO è„šä¸Šè¢« CC1100 å†™å…¥ã€‚çŠ¶æ€å­—èŠ‚<br>åŒ…å«å…³é”®çŠ¶æ€ä¿¡å·ï¼Œå¯¹ MCU æ˜¯æœ‰ç”¨çš„ã€‚**(7)ä½**æ˜¯ CHIP_RDYn ä¿¡å·ã€‚åœ¨ SCLK çš„åœ¨ç¬¬ä¸€ä¸ªæ­£è¾¹ç¼˜ä¹‹å‰ï¼Œè¿™ä¸ªä¿¡å·å¿…é¡»å˜ä½ã€‚CHIP_RDYn ä¿¡å·è¡¨æ˜æ™¶ä½“æ­£å¤„äºå·¥ä½œä¸­ï¼Œè°ƒèŠ‚æ•°å­—ä¾›ç»™ç”µå‹æ˜¯ç¨³å®šçš„ã€‚</li>
<li>çŠ¶æ€å­—èŠ‚ä¸­çš„**(6:4 )**ä½ç”±çŠ¶æ€å€¼ç»„æˆã€‚è¿™ä¸ªå€¼åæ˜ äº†èŠ¯ç‰‡çš„çŠ¶æ€ã€‚å½“ä½¿ XOSC ç©ºé—²å¹¶ä½¿æ•°å­—ä¸­å¿ƒçš„èƒ½é‡å¼€å¯ï¼Œæ‰€æœ‰å…¶ä»–æ¨¡å—å¤„äºåŠŸç‡é™ä½çŠ¶æ€ã€‚åªæœ‰èŠ¯ç‰‡å¤„äºæ­¤çŠ¶æ€æ—¶ï¼Œé¢‘ç‡å’Œä¿¡é“é…ç½®æ‰èƒ½è¢«æ›´æ–°ã€‚å½“èŠ¯ç‰‡å¤„äºæ¥æ”¶æ¨¡å¼æ—¶ï¼ŒRXçŠ¶æ€æ˜¯æ´»åŠ¨çš„ã€‚åŒæ ·åœ°ï¼Œå½“èŠ¯ç‰‡å¤„äºä¼ è¾“æ¨¡å¼æ—¶ï¼ŒTX çŠ¶æ€æ˜¯æ´»åŠ¨çš„ã€‚</li>
<li>çŠ¶æ€å­—èŠ‚ä¸­çš„åå››ä½**(3:0)**åŒ…å«FIFO_BYTES_AVAILABLEã€‚ä¸ºäº†è¿›è¡Œè¯»æ“ä½œï¼Œè¿™ä¸ªåŒºåŸŸåŒ…å«å¯ä» RX FIFO è¯»å–çš„å­—èŠ‚æ•°ã€‚ä¸ºäº†è¿›è¡Œå†™æ“ä½œï¼Œè¿™ä¸ªåŒºåŸŸåŒ…å«å¯å†™å…¥ TX  FIFOçš„å­—å½“FIFO_BYTES_AVAILABLE=15ï¼Œ15 æˆ–è€…æ›´å¤šçš„å­—èŠ‚æ˜¯å¯ç”¨/è‡ªç”±çš„ã€‚<br><img src="http://upload-images.jianshu.io/upload_images/1736256-043836467cbc7d84.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="çŠ¶æ€å­—èŠ‚æ¦‚è¦"></li>
</ul>
<h3 id="å¯„å­˜å™¨è®¿é—®"><a href="#å¯„å­˜å™¨è®¿é—®" class="headerlink" title="å¯„å­˜å™¨è®¿é—®"></a>å¯„å­˜å™¨è®¿é—®</h3><ul>
<li>**CC1101 é…ç½®å¯„å­˜å™¨åœ°å€: ** 0x00åˆ°0x2E</li>
<li>æ‰€æœ‰çš„é…ç½®å¯„å­˜å™¨å‡èƒ½è¯»å’Œå†™ã€‚è¯»/å†™ä½æ§åˆ¶å¯„å­˜å™¨æ˜¯è¯»æˆ–è€…å†™ã€‚å½“å¯¹å¯„å­˜å™¨å†™æ—¶ï¼Œæ¯å½“ä¸€ä¸ªå¾…å†™å…¥çš„æ•°æ®å­—èŠ‚ä¼ è¾“åˆ° SIè„šæ—¶ï¼ŒçŠ¶æ€å­—èŠ‚å°†è¢«é€è‡³ SO è„šã€‚</li>
<li>é€šè¿‡åœ¨åœ°å€å¤´è®¾ç½®çªå‘ä½ï¼Œè¿ç»­åœ°å€çš„å¯„å­˜å™¨èƒ½é«˜æ•ˆåœ°è¢«è®¿é—®ã€‚è¿™ä¸ªåœ°å€åœ¨å†…éƒ¨è®¡æ•°å™¨å†…è®¾ç½®èµ·å§‹åœ°å€ã€‚æ¯å¢åŠ ä¸€ä¸ªæ–°çš„å­—èŠ‚ï¼ˆæ¯8 ä¸ªæ—¶é’Ÿè„‰å†²ï¼‰ï¼Œè®¡æ•°å™¨å€¼å¢åŠ  1ã€‚çªå‘è®¿é—®ï¼Œä¸ç®¡æ˜¯è¯»è®¿é—®è¿˜æ˜¯å†™è®¿é—®ï¼Œå¿…é¡»é€šè¿‡è®¾ç½®CSn ä¸ºé«˜æ¥ç»ˆæ­¢ã€‚</li>
<li>å¯¹ 0x30-0x3D é—´çš„åœ°å€æ¥è¯´ï¼Œçªå‘ä½ç”¨ä»¥åœ¨<strong>çŠ¶æ€å¯„å­˜å™¨</strong>å’Œ<strong>å‘½ä»¤é€‰é€š</strong>é—´é€‰æ‹©ã€‚çŠ¶æ€å¯„å­˜å™¨åªè¯»ã€‚çªå‘è¯»å–å¯¹çŠ¶æ€å¯„å­˜å™¨æ˜¯ä¸å¯å–çš„ï¼Œæ•…å®ƒä»¬æ¯æ¬¡åªèƒ½è¢«è¯»ä¸€ä¸ªã€‚</li>
</ul>
<p><strong>burstä½ç½®1ï¼š</strong>é€‰æ‹©çŠ¶æ€å¯„å­˜å™¨ï¼›<br><strong>burstç½®0ï¼š</strong>é€‰æ‹©å‘½ä»¤é€‰é€šï¼ˆcommandÂ strobesï¼‰;</p>
<h3 id="å‘½ä»¤é€‰é€š-command-strobes"><a href="#å‘½ä»¤é€‰é€š-command-strobes" class="headerlink" title="å‘½ä»¤é€‰é€š(commandÂ strobes)"></a>å‘½ä»¤é€‰é€š(commandÂ strobes)</h3><ul>
<li> å‘½ä»¤é€‰é€šå¯ä»¥çœ‹åšæ˜¯CC1101çš„ä¸€ä¸ªå•å­—èŠ‚æŒ‡ä»¤ã€‚<br>é€šè¿‡å¯»å€ä¸€ä¸ªå‘½ä»¤é€‰é€šå¯„å­˜å™¨ï¼Œå°†å¯åŠ¨å†…éƒ¨åºåˆ—ã€‚<br>è¿™äº›å‘½ä»¤ç”¨æ¥<strong>ç¦æ­¢æ™¶æŒ¯</strong>ï¼Œ<strong>ä½¿èƒ½æ¥æ”¶</strong>ï¼Œ<strong>ä½¿èƒ½æ— çº¿å”¤é†’</strong> ç­‰ï¼›</li>
<li>å‘½ä»¤é€‰é€šå¯„å­˜å™¨çš„è®¿é—®å’Œä¸€ä¸ªå¯„å­˜å™¨çš„å†™æ“ä½œä¸€æ ·ï¼Œä½†æ²¡æœ‰æ•°æ®è¢«ä¼ è¾“ã€‚å°±æ˜¯è¯´ï¼Œåªæœ‰ R/W ä½ï¼ˆç½®ä¸º 0ï¼‰çªå‘è®¿é—®ï¼ˆç½®ä¸º 0ï¼‰å’Œå…­ä¸ªåœ°å€ä½ï¼ˆ0x30 å’Œ 0x3D ä¹‹é—´ï¼‰è¢«å†™ã€‚ä¸€ä¸ªå‘½ä»¤æ»¤æ³¢å¯èƒ½åœ¨ä»»ä½•å…¶ä»– SPI è®¿é—®ä¹‹åï¼Œè€Œä¸éœ€è¦å°† CSn æ‹‰è‡³é«˜ç”µå¹³ã€‚å‘½ä»¤é€‰é€šç«‹å³è¢«æ‰§è¡Œï¼Œå½“ CSn é«˜æ—¶ SPWD å’Œ SXOFF å‘½ä»¤è¢«æ‰§è¡Œæ˜¯ä¾‹å¤–ã€‚</li>
</ul>
<h3 id="FIFOè®¿é—®"><a href="#FIFOè®¿é—®" class="headerlink" title="FIFOè®¿é—®"></a>FIFOè®¿é—®</h3><ul>
<li>64 å­—èŠ‚ TX FIFO å’Œ 64 å­—èŠ‚ RX FIFO é€šè¿‡0x3F è¢«è®¿é—®ã€‚</li>
<li>è¯»/å†™ä½ä¸º 0 æ—¶ï¼ŒTX FIFOè¢«è®¿é—®ã€‚</li>
<li>è¯»/å†™ä½ä¸º 1 æ—¶ï¼ŒRX FIFO è¢«è®¿é—®ã€‚</li>
<li>TX FIFO æ˜¯åªå†™çš„ï¼Œè€Œ RX FIFO æ˜¯åªè¯»çš„ã€‚</li>
<li>çªå‘ä½ç”¨æ¥å†³å®š FIFO è®¿é—®æ˜¯å•å­—èŠ‚è¿˜æ˜¯çªå‘è®¿é—®ã€‚</li>
<li>å•å­—èŠ‚è®¿é—®æ–¹å¼æœŸæœ›åœ°å€çš„çªå‘ä½ä¸º 0 çš„å¤´å­—èŠ‚å’Œä¸€ä¸ªæ•°æ®å­—èŠ‚ã€‚åœ¨æ•°æ®å­—èŠ‚ä¹‹åè·Ÿéšä¸€ä¸ªæ–°çš„å¤´å­—èŠ‚ï¼Œå› æ­¤ï¼ŒCSn ç»§ç»­ä¿æŒä½ã€‚</li>
<li>çªå‘è®¿é—®æ–¹å¼å…è®¸ä¸€åœ°å€å­—èŠ‚ï¼Œç„¶åæ˜¯è¿ç»­çš„æ•°æ®å­—èŠ‚ï¼Œç›´åˆ°é€šè¿‡è®¾ç½® CSn ä¸ºé«˜æ¥å…³æ–­è®¿é—®ã€‚<ul>
<li> 0x3F : å•å­—èŠ‚è®¿é—® TX FIFO</li>
<li>0x7F : çªå‘è®¿é—® TX FIFO</li>
<li>0xBF : å•å­—èŠ‚è®¿é—® RX FIFO</li>
<li>0XFF : çªå‘è®¿é—® RX FIFO</li>
</ul>
</li>
</ul>
<h3 id="PATABLE-è®¿é—®"><a href="#PATABLE-è®¿é—®" class="headerlink" title="PATABLE è®¿é—®"></a>PATABLE è®¿é—®</h3><ul>
<li><strong>0x3E</strong>åœ°å€ç”¨æ¥è®¿é—® PATABLEã€‚PATABLEç”¨æ¥é€‰æ‹© PA èƒ½é‡æ§åˆ¶è®¾ç½®ã€‚åœ¨æ¥æ”¶æ­¤åœ°å€ä¹‹åï¼ŒSPI ç­‰å¾…è‡³å°‘ 8 ä¸ªå­—èŠ‚ã€‚é€šè¿‡æ§åˆ¶PATABLEï¼Œèƒ½å®ç°å¯æ§çš„ PA èƒ½é‡ä¸Šå‡å’Œä¸‹é™ï¼Œå‡å°‘çš„å¸¦å®½çš„ ASK è°ƒåˆ¶æ•´å‹ä¹Ÿå¦‚æ­¤ã€‚</li>
<li>PATABLE æ˜¯ä¸€ä¸ª 8 å­—èŠ‚è¡¨ï¼Œå®šä¹‰äº† PA æ§åˆ¶è®¾ ç½® ï¼Œ ä¸º 8 ä¸ª PA åŠŸ ç‡ å€¼ ï¼ˆ ç”±FRENDO.PA_POWER çš„ 3 ä¸ªä½çš„å€¼æ‰€é€‰æ‹©ï¼‰çš„æ¯ä¸€ä¸ªæ‰€ä½¿ç”¨ã€‚è¿™ä¸ªè¡¨ä»æœ€ä½ä½ï¼ˆ0ï¼‰åˆ°æœ€é«˜ä½ï¼ˆ7ï¼‰å¯è¯»å’Œå†™ï¼Œä¸€æ¬¡ä¸€ä½ã€‚ä¸€ä¸ªç´¢å¼•è®¡æ•°å™¨ç”¨æ¥æ§åˆ¶å¯¹è¿™ä¸ªè¡¨çš„è®¿é—®ã€‚æ¯è¯»å‡ºæˆ–å†™å…¥è¡¨ä¸­çš„ä¸€ä¸ªå­—èŠ‚ï¼Œè®¡æ•°å™¨å°±åŠ  1ã€‚å½“ CSn ä¸ºé«˜æ—¶ï¼Œè®¡æ•°å€¼ç½®ä¸ºæœ€å°å€¼ã€‚å½“è¾¾åˆ°æœ€å¤§å€¼æ—¶ï¼Œè®¡æ•°å™¨ç”±é›¶é‡æ–°å¼€å§‹è®¡æ•°ã€‚</li>
<li>å¯¹ PATABLE çš„è®¿é—®æ˜¯å•å­—èŠ‚æˆ–è€…çªå‘è®¿é—®ï¼Œç”±çªå‘ä½å†³å®šã€‚å½“ä½¿ç”¨çªå‘è®¿é—®æ—¶ï¼Œç´¢å¼•è®¡æ•°å™¨çš„å€¼å¢åŠ ï¼›è¾¾åˆ°7æ—¶é‡æ–°ä»0å¼€å§‹ã€‚è¯»/å†™ä½æ§åˆ¶è®¿é—®æ˜¯å†™è®¿é—®ï¼ˆR/W=0ï¼‰æˆ–è€…è¯»è®¿é—®(R/W=1)ã€‚</li>
<li>å¦‚æœä¸€å­—èŠ‚è¢«å†™å…¥ PATABLEï¼Œä¸”è¿™ä¸ªå€¼å°†è¦è¢«è¯»å‡ºï¼Œé‚£ä¹ˆï¼Œä¸ºäº†è®¾ç½®ç´¢å¼•è®¡æ•°å™¨çš„å€¼é‡ä¸º 0ï¼ŒCSn å¿…é¡»åœ¨è¯»è®¿é—®ä¹‹å‰ç½®ä¸ºé«˜ã€‚æ³¨æ„ï¼Œå½“ PATABLE è¿›å…¥ä¼‘çœ çŠ¶æ€æ—¶ï¼Œæ‰€å­˜å‚¨çš„å†…å®¹ä¼šä¸¢å¤±ï¼Œç‰¹åˆ«æ˜¯ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼ˆç´¢å¼•<br>ä¸º 0ï¼‰ã€‚</li>
</ul>
<h3 id="åŸºæœ¬æ§åˆ¶å’ŒçŠ¶æ€è„š"><a href="#åŸºæœ¬æ§åˆ¶å’ŒçŠ¶æ€è„š" class="headerlink" title="åŸºæœ¬æ§åˆ¶å’ŒçŠ¶æ€è„š"></a>åŸºæœ¬æ§åˆ¶å’ŒçŠ¶æ€è„š</h3><ul>
<li>CC1101æœ‰2ä¸ªä¸“ç”¨é…ç½®è„šï¼ˆGDO0å’ŒGDO2ï¼‰å’Œä¸€ä¸ªå…±ç”¨è„šï¼ˆGDO1ï¼‰å¯ä»¥å‘æ§åˆ¶è½¯ä»¶è¾“å‡ºæœ‰ç”¨çš„å†…éƒ¨çŠ¶æ€ä¿¡æ¯ã€‚è¿™äº›è„šå¯ä»¥ç”¨æ¥å‘MCUäº§ç”Ÿä¸­æ–­ã€‚</li>
<li>GDO1å’ŒSPIçš„SOå¼•è„šå…±ç”¨ã€‚</li>
<li>GDO1/SOçš„é»˜è®¤è®¾ç½®æ—¶3æ€è¾“å‡ºã€‚é€šè¿‡é€‰æ‹©ä»»ä½•ç¼–ç¨‹é€‰é¡¹ï¼ŒGDO1/SOå°†å˜ä¸ºæ™®é€šå¼•è„šã€‚å½“CSnæ‹‰ä½ï¼Œè¯¥å¼•è„šå°†å§‹ç»ˆä½œä¸ºæ™®é€šçš„SOåŠŸèƒ½å¼•è„šã€‚</li>
<li>åœ¨åŒæ­¥å’Œå¼‚æ­¥ä¸²è¡Œæ¨¡å¼ï¼Œåœ¨å‘é€æ¨¡å¼ä¸‹ï¼ŒGDO0å¼•è„šå°†ä½œä¸ºä¸²è¡ŒTXæ•°æ®è¾“å…¥å¼•è„šã€‚</li>
<li>GDO0ä¹Ÿå¯ä»¥ç”¨ä½œç‰‡ä¸Šæ¨¡æ‹Ÿæ¸©åº¦ä¼ æ„Ÿå™¨ã€‚é€šè¿‡å¤–éƒ¨ADCæµ‹é‡GDO0è„šçš„ç”µå‹ï¼Œå¯ä»¥è®¡ç®—å‡ºæ¸©åº¦ã€‚æ¸©åº¦ä¼ æ„Ÿå™¨çš„è¯¦ç»†è¯´æ˜è§18é¡µçš„SectionÂ 4.7ã€‚é€šè¿‡é»˜è®¤çš„PTESTå¯„å­˜å™¨è®¾ç½®ï¼ˆ0x7Fï¼‰ï¼Œå¦‚æœé¢‘ç‡åˆæˆå™¨è¢«å…è®¸æ¸©åº¦ä¼ æ„Ÿå™¨çš„çš„è¾“å‡ºæ—¶å¯ç”¨çš„ã€‚ï¼ˆä¾‹å¦‚ï¼šMANCALï¼ŒFSTXONï¼ŒRXå’ŒÂ TXçŠ¶æ€ï¼‰åœ¨IDLEçŠ¶æ€å‘PTESTå¯„å­˜å™¨å†™å…¥0xBFå…è®¸æ¨¡æ‹Ÿæ¸©åº¦ä¼ æ„Ÿå™¨æ˜¯å¿…è¦çš„ã€‚ç¦»å¼€IDLEçŠ¶æ€ä¹‹å‰ï¼Œå¿…é¡»æ¢å¤PTESTå¯„å­˜å™¨ä¸ºé»˜è®¤å€¼ï¼ˆ0x7Fï¼‰ã€‚</li>
</ul>
<h3 id="æ•°æ®åŒ…å¤„ç†çš„ç¡¬ä»¶æ”¯æŒ"><a href="#æ•°æ®åŒ…å¤„ç†çš„ç¡¬ä»¶æ”¯æŒ" class="headerlink" title="æ•°æ®åŒ…å¤„ç†çš„ç¡¬ä»¶æ”¯æŒ"></a>æ•°æ®åŒ…å¤„ç†çš„ç¡¬ä»¶æ”¯æŒ</h3><h4 id="å‘é€æ¨¡å¼ä¸‹"><a href="#å‘é€æ¨¡å¼ä¸‹" class="headerlink" title="å‘é€æ¨¡å¼ä¸‹"></a>å‘é€æ¨¡å¼ä¸‹</h4><blockquote>
<p>æ•°æ®åŒ…çš„å¤„ç†è€…å¯ä»¥é…ç½®å¢åŠ ä¸‹é¢çš„å…ƒç´ åˆ°TXÂ FIFOä¸­çš„æ•°æ®åŒ…å­˜å‚¨</p>
</blockquote>
<p>-Â ä¸€ä¸ªå¯ç¼–ç¨‹æ•°é‡çš„å‰å¯¼å­—èŠ‚ï¼›</p>
<ul>
<li>Â ä¸¤å­—èŠ‚åŒæ­¥å­—ï¼Œå¯å¤åˆ¶ä¸º4å­—èŠ‚åŒæ­¥å­—ã€‚åªæ’å…¥å‰å¯¼å­—èŠ‚æˆ–è€…åŒæ­¥å­—èŠ‚æ˜¯ä¸å¯èƒ½çš„ï¼›</li>
<li>ä¸€ä¸ªè¦†ç›–æ•°æ®åŒºåŸŸçš„CRCæ ¡éªŒè®¡ç®—ã€‚Â <blockquote>
<p>æ¨èè®¾ç½®4å­—èŠ‚å‰å¯¼å’Œ4å­—èŠ‚åŒæ­¥å­—ï¼Œé™¤äº†500kæ³¢ç‰¹ç‡æ—¶æ¨èä½¿ç”¨8å­—èŠ‚å‰å¯¼ã€‚å¦å¤–ï¼Œåœ¨æ•°æ®åŒºåŸŸå’Œé™„åŠ çš„2å­—èŠ‚CRCæ ¡éªŒï¼Œä»¥ä¸‹å¯ä»¥è¢«æ‰§è¡Œ</p>
</blockquote>
</li>
<li>ä½¿ç”¨PN9åºåˆ—Whiteningæ•°æ®ã€‚Â </li>
<li>é€šè¿‡ä½¿ç”¨äº¤å‰å’Œç¼–ç æ•°æ®ï¼ˆå·ç§¯ç¼–ç ï¼‰å‰å‘çº é”™ã€‚</li>
</ul>
<h4 id="æ¥æ”¶æ¨¡å¼ä¸‹"><a href="#æ¥æ”¶æ¨¡å¼ä¸‹" class="headerlink" title="æ¥æ”¶æ¨¡å¼ä¸‹"></a>æ¥æ”¶æ¨¡å¼ä¸‹</h4><blockquote>
<p>æ•°æ®åŒ…å¤„ç†æ”¯æŒå°†æ˜¯è§£æ„æ•°æ®åŒ…ï¼Œï¼ˆå¦‚ä½¿èƒ½ï¼‰ä»¥ä¸‹å¯ä»¥è¢«æ‰§è¡Œ</p>
</blockquote>
<ul>
<li>å‰å¯¼æ£€æµ‹</li>
<li>åŒæ­¥å­—æ£€æµ‹</li>
<li>CRCè®¡ç®—å’ŒCRCæ£€æŸ¥</li>
<li>Â ä¸€ä¸ªå­—èŠ‚åœ°å€æ£€æµ‹</li>
<li>åŒ…é•¿åº¦æ£€æŸ¥ï¼ˆæ ¹æ®è®¾ç½®çš„æœ€å¤§é•¿åº¦æ£€æŸ¥é•¿åº¦å­—èŠ‚ï¼‰</li>
<li>åWhiteningï¼ˆå¦‚æœä½¿èƒ½ï¼‰</li>
<li>åäº¤å‰å’Œè§£ç ( å¦‚æœä½¿èƒ½ )<br>å¦å¤–ï¼ŒRSSIï¼ˆæ¥æ”¶ä¿¡å·å¼ºåº¦æŒ‡ç¤ºï¼‰ã€LQIï¼ˆé“¾è·¯è´¨é‡æŒ‡ç¤ºï¼‰å’ŒCRCçŠ¶æ€çš„ä¸¤ä¸ªçŠ¶æ€å­—èŠ‚å¯ä»¥é™„åŠ åœ¨RXÂ FIFO</li>
</ul>
<h3 id="æ•°æ®åŒ…æ ¼å¼"><a href="#æ•°æ®åŒ…æ ¼å¼" class="headerlink" title="æ•°æ®åŒ…æ ¼å¼Â "></a>æ•°æ®åŒ…æ ¼å¼Â </h3><p>æ•°æ®åŒ…çš„æ ¼å¼å¯ä»¥é…ç½®ä¸ºç”±ä»¥ä¸‹éƒ¨åˆ†ç»„æˆï¼šÂ <br>-Â å‰å¯¼Â nÂ åŒæ­¥å­—Â </p>
<ul>
<li>å¯é€‰çš„é•¿åº¦å­—èŠ‚Â </li>
<li>å¯é€‰çš„åœ°å€å­—èŠ‚Â </li>
<li>å‡€è·Â </li>
<li>å¯é€‰çš„2å­—èŠ‚CRC<br><img src="http://upload-images.jianshu.io/upload_images/1736256-d71997128378e0f9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ•°æ®æ ¼å¼"></li>
</ul>
<blockquote>
<p>å‰å¯¼å½¢å¼æ˜¯ä¸€ä¸ªäº¤äº’çš„0 /1 åº åˆ—ï¼ˆ01010101â€¦ï¼‰å‰å¯¼çš„æœ€å°é•¿åº¦æ˜¯å¯ç¼–ç¨‹æ§åˆ¶çš„ã€‚å½“å¯ç”¨ TX æ—¶ï¼Œè°ƒåˆ¶å™¨å¼€å§‹ä¼ é€å‰å¯¼ã€‚å½“æ§åˆ¶æ•°ç›®çš„å‰å¯¼å­—èŠ‚è¢«ä¼ é€å®Œæ¯•ï¼Œè°ƒåˆ¶å™¨å¼€å§‹å‘é€åŒæ­¥è¯æ±‡ï¼Œç„¶åä¼ é€æ¥è‡ª TX FIFOçš„å¯åˆ©ç”¨çš„æ•°æ®ã€‚è‹¥ TX FIFO ä¸ºç©ºï¼Œè°ƒåˆ¶å™¨å°†ç»§ç»­ä¼ é€å‰å¯¼å­—èŠ‚ï¼Œç›´åˆ°ç¬¬ä¸€ä¸ªå­—èŠ‚è¢«å†™å…¥ TX FIFOã€‚è°ƒåˆ¶å™¨å°†éšåä¼ é€åŒæ­¥è¯æ±‡å’Œæ•°æ®å­—èŠ‚;<br>å‰å¯¼å­—èŠ‚çš„é•¿åº¦ç”±MDMCFG1.NU_PREAMBLE å€¼æ§åˆ¶ã€‚</p>
</blockquote>
<h3 id="æ•°æ®åŒ…é•¿åº¦"><a href="#æ•°æ®åŒ…é•¿åº¦" class="headerlink" title="æ•°æ®åŒ…é•¿åº¦"></a>æ•°æ®åŒ…é•¿åº¦</h3><ul>
<li>CC1101 æ”¯æŒæ’å®šé•¿åº¦æ•°æ®åŒ…åè®®å’Œå¯å˜é•¿åº¦åè®®ã€‚</li>
<li><strong>å¯å˜</strong>æˆ–<strong>å›ºå®šæ•°æ®åŒ…</strong>é•¿åº¦æ¨¡å¼èƒ½æ”¯æŒçš„é•¿åº¦å¯è¾¾ 255 å­—èŠ‚ã€‚</li>
<li><strong>å¤§äº255ä¸ªå­—èŠ‚</strong>çš„æ•°æ®åŒ…ï¼Œå¿…é¡»ä½¿ç”¨<strong>æ— é™æ•°æ®åŒ…é•¿åº¦æ¨¡å¼</strong>ï¼›<blockquote>
<p>ä½¿ç”¨ä¸åŒé•¿åº¦çš„é…ç½®æ¥æ”¯æŒæ•°æ®åŒ…æ ¼å¼ã€‚å¿…é¡»ç¡®ä¿åœ¨å‘é€å‰åŠä¸ªæˆ–ä»»ä½•å­—èŠ‚çš„æ—¶å€™TXæ¨¡å¼ä¸è¢«å…³é—­</p>
</blockquote>
</li>
</ul>
<h4 id="å›ºå®šæ•°æ®åŒ…é•¿åº¦"><a href="#å›ºå®šæ•°æ®åŒ…é•¿åº¦" class="headerlink" title="å›ºå®šæ•°æ®åŒ…é•¿åº¦"></a>å›ºå®šæ•°æ®åŒ…é•¿åº¦</h4><ul>
<li>å›ºå®šæ•°æ®åŒ…é•¿åº¦æ¨¡å¼é€šè¿‡è®¾å®šPKTCTRL0.LENGTH_CONFIG=0æ¥é€‰æ‹©ã€‚</li>
<li>æœŸæœ›çš„æ•°æ®åŒ…é•¿åº¦é€šè¿‡PKTLENå¯„å­˜å™¨æ¥è®¾ç½®ï¼Œä¸åŒ…æ‹¬é•¿åº¦å­—èŠ‚å’Œå¯é€‰çš„CRCï¼›</li>
</ul>
<h4 id="å¯å˜æ•°æ®åŒ…é•¿åº¦"><a href="#å¯å˜æ•°æ®åŒ…é•¿åº¦" class="headerlink" title="å¯å˜æ•°æ®åŒ…é•¿åº¦"></a>å¯å˜æ•°æ®åŒ…é•¿åº¦</h4><ul>
<li>å¯å˜æ•°æ®åŒ…é•¿åº¦æ¨¡å¼ï¼ŒPKTCTRL0.LENGTH_CONFIG=1ï¼Œæ•°æ®åŒ…é•¿åº¦ç”±åŒæ­¥å­—åé¢çš„ç¬¬ä¸€ä¸ªå­—èŠ‚é…ç½®ã€‚</li>
<li>æ•°æ®åŒ…é•¿åº¦å®šä¹‰ä¸ºæœ‰æ•ˆè½½è·ï¼Œä¸åŒ…æ‹¬é•¿åº¦å­—èŠ‚å’Œå¯é€‰çš„CRCã€‚</li>
<li>PKTLENç”¨æ¥é…ç½®å…è®¸æ¥æ”¶çš„æœ€å¤§æ•°æ®åŒ…é•¿åº¦ã€‚</li>
<li>ä»»ä½•æ¥æ”¶çš„æ•°æ®åŒ…é•¿åº¦å¤§äºPKTLENçš„å€¼éƒ½å°†è¢«ä¸¢å¼ƒã€‚</li>
</ul>
<h5 id="å¯å˜é•¿æ•°æ®åŒ…æ”¶å‘é€»è¾‘"><a href="#å¯å˜é•¿æ•°æ®åŒ…æ”¶å‘é€»è¾‘" class="headerlink" title="å¯å˜é•¿æ•°æ®åŒ…æ”¶å‘é€»è¾‘"></a>å¯å˜é•¿æ•°æ®åŒ…æ”¶å‘é€»è¾‘</h5><p>æ•°æ®åŒ…é•¿åº¦å¯„å­˜å™¨PKTLENï¼Œåœ¨æ¥æ”¶å’Œå‘é€æ—¶å¯ä»¥é‡æ–°ç¼–ç¨‹ã€‚ç»“åˆå›ºå®šæ•°æ®åŒ…é•¿åº¦æ¨¡å¼(PKTCTRL0.LENGTH_CONFIG=0)ï¼Œè¿™ä½¿ä¸å˜é•¿æ•°æ®åŒ…ä¸åŒçš„é•¿åº¦é…ç½®æˆä¸ºå¯èƒ½ã€‚ï¼ˆåœ¨å¯å˜æ•°æ®åŒ…é•¿åº¦æ¨¡å¼ä¸‹é•¿åº¦å­—èŠ‚æ˜¯åŒæ­¥å­—èŠ‚åç¬¬ä¸€ä¸ªå­—èŠ‚ï¼‰åœ¨æ¥æ”¶å¼€å§‹ï¼Œæ•°æ®åŒ…é•¿åº¦è®¾ç½®ä¸ºä¸€ä¸ªå¤§çš„å€¼ã€‚MCUè¯»å–è¶³å¤Ÿå¤šçš„å­—èŠ‚æ¥è§£ææ•°æ®åŒ…ä¸­çš„é•¿åº¦åŒºåŸŸã€‚ç„¶åä¾ç…§è¿™ä¸ªå€¼å¯¹PKTLENè¿›è¡Œè®¾ç½®ã€‚å½“æ•°æ®åŒ…å¤„ç†å™¨ä¸­çš„å­—èŠ‚è®¡æ•°å™¨ç­‰äºPKTLENå¯„å­˜å™¨çš„å€¼æ—¶æ•°æ®åŒ…ç»“æŸã€‚å› æ­¤ï¼ŒMCUå¿…é¡»åœ¨å†…éƒ¨è®¡æ•°å™¨è¾¾åˆ°æ•°æ®åŒ…é•¿åº¦ä¹‹å‰ç¡®è®¤æ­£ç¡®çš„é•¿åº¦</p>
<h4 id="æ— é™æ•°æ®åŒ…é•¿åº¦æ¨¡å¼-å¤§äº255ä¸ªå­—èŠ‚"><a href="#æ— é™æ•°æ®åŒ…é•¿åº¦æ¨¡å¼-å¤§äº255ä¸ªå­—èŠ‚" class="headerlink" title="æ— é™æ•°æ®åŒ…é•¿åº¦æ¨¡å¼(å¤§äº255ä¸ªå­—èŠ‚)"></a>æ— é™æ•°æ®åŒ…é•¿åº¦æ¨¡å¼(å¤§äº255ä¸ªå­—èŠ‚)</h4><ul>
<li>PKTCTRL0.LENGTH_CONFIG=2ï¼Œæ•°æ®åŒ…é•¿åº¦å°†è®¾ç½®ä¸ºæ— é™é•¿ï¼Œå‘é€å’Œæ¥æ”¶å°†æŒç»­åˆ°æ‰‹åŠ¨å…³é—­ã€‚</li>
</ul>
<h5 id="æ— é™æ•°æ®åŒ…é•¿åº¦æ”¶å‘é€»è¾‘"><a href="#æ— é™æ•°æ®åŒ…é•¿åº¦æ”¶å‘é€»è¾‘" class="headerlink" title="æ— é™æ•°æ®åŒ…é•¿åº¦æ”¶å‘é€»è¾‘"></a>æ— é™æ•°æ®åŒ…é•¿åº¦æ”¶å‘é€»è¾‘</h5><ul>
<li>æ•°æ®åŒ…è‡ªåŠ¨æ§åˆ¶å¯„å­˜å™¨PKTCTRL0ï¼Œå¯ä»¥åœ¨TXå’ŒRXæœŸé—´é‡æ–°ç¼–ç¨‹ã€‚è¿™å°±ä½¿å‘é€å’Œæ¥æ”¶æ•°æ®åŒ…é•¿åº¦è¶…è¿‡256å­—èŠ‚å¹¶ä¸”ä»ç„¶ä½¿ç”¨æ•°æ®åŒ…å¤„ç†å™¨ç¡¬ä»¶æ”¯æŒæˆä¸ºå¯èƒ½ã€‚</li>
<li>åœ¨æ•°æ®åŒ…å¼€å§‹æ—¶ï¼Œå¿…é¡»æ¿€æ´»æ— é™æ•°æ®åŒ…é•¿åº¦æ¨¡å¼ï¼ˆPKTCTRL0.LENGTH_CONFIG=2ï¼‰ã€‚</li>
<li>åœ¨å‘é€ç«¯ï¼ŒPKTLENå¯„å­˜å™¨è®¾ç½®ä¸ºï¼šmod(é•¿åº¦,256)ã€‚</li>
<li>åœ¨æ¥æ”¶ç«¯ï¼ŒMCUè¯»å‡ºè¶³å¤Ÿé•¿åº¦çš„å­—èŠ‚æ¥è§£æå‡ºæ•°æ®åŒ…é•¿åº¦å¹¶è®¾ç½®PKTLENå¯„å­˜å™¨ä¸º:mod(é•¿åº¦,256)ã€‚</li>
<li>å½“æ•°æ®åŒ…ä¸­è¿˜æœ‰å°‘äº256å­—èŠ‚æ•°æ®ï¼ŒMCUç¦æ­¢æ•°æ®åŒ…æ— é™é•¿åº¦æ¨¡å¼å¹¶ä¸”æ¿€æ´»å›ºå®šé•¿åº¦æ¨¡å¼ã€‚</li>
<li>å½“å†…éƒ¨å­—èŠ‚è®¡æ•°å™¨åˆ°PKTLENæ—¶ï¼Œå‘é€å’Œæ¥æ”¶ç»“æŸã€‚</li>
<li>ï¼ˆæ— çº¿è¿›å…¥çš„çŠ¶æ€ç”±TXOFF_MODEÂ æˆ–Â RXOFF_MODEå†³å®šï¼‰è‡ªåŠ¨CRCæ·»åŠ /æ ¡éªŒä¹Ÿå¯ä»¥ä½¿ç”¨ï¼ˆé€šè¿‡è®¾ç½®PKTCTRL0.CRC_EN=1ï¼‰ã€‚</li>
</ul>
<blockquote>
<p>ä¾‹å­:å‘é€ä¸€ä¸ª600å­—èŠ‚çš„æ•°æ®åŒ…æ—¶ï¼ŒMCUå¿…é¡»æŒ‰ç…§ä»¥ä¸‹æ‰§è¡Œï¼š</p>
</blockquote>
<ul>
<li>è®¾ç½®PKTCTRL0.LENGTH_CONFIG=2ã€‚Â </li>
<li>Â é‡æ–°è®¾ç½®PKTLENå¯„å­˜å™¨çš„å€¼ä¸º:ï¼ˆ600ï¼Œ256ï¼‰=88.Â <strong>(600%256 = 88)</strong></li>
<li>Â è‡³å°‘å‘é€345å­—èŠ‚ï¼ˆ600-255ï¼‰ï¼Œä¾‹å¦‚é€šè¿‡å¡«å……64å­—èŠ‚Â TXÂ FIFOÂ 6æ¬¡ï¼ˆå‘é€384å­—èŠ‚ï¼‰ã€‚Â </li>
<li>è®¾ç½®PKTCTRL0.LENGTH_CONFIG=0ã€‚Â </li>
<li>å½“æ•°æ®åŒ…è®¡æ•°å™¨è¾¾åˆ°88å‘é€å®Œæˆã€‚ä¸€å…±600å­—èŠ‚è¢«å‘é€ã€‚Â <br><img src="http://upload-images.jianshu.io/upload_images/1736256-d519a90a009de7e6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="600ä¸ªå­—èŠ‚å‘é€"></li>
</ul>
<h3 id="æ¥æ”¶æ¨¡å¼ä¸‹çš„æ•°æ®åŒ…è¿‡æ»¤"><a href="#æ¥æ”¶æ¨¡å¼ä¸‹çš„æ•°æ®åŒ…è¿‡æ»¤" class="headerlink" title="æ¥æ”¶æ¨¡å¼ä¸‹çš„æ•°æ®åŒ…è¿‡æ»¤"></a>æ¥æ”¶æ¨¡å¼ä¸‹çš„æ•°æ®åŒ…è¿‡æ»¤</h3><p>CC1101æ”¯æŒä¸‰ç§ä¸åŒç±»å‹çš„æ•°æ®åŒ…è¿‡æ»¤ï¼š</p>
<ul>
<li>åœ°å€è¿‡æ»¤</li>
<li>æœ€å¤§é•¿åº¦è¿‡æ»¤</li>
<li>CRCè¿‡æ»¤</li>
</ul>
<h4 id="åœ°å€è¿‡æ»¤"><a href="#åœ°å€è¿‡æ»¤" class="headerlink" title="åœ°å€è¿‡æ»¤"></a>åœ°å€è¿‡æ»¤</h4><ul>
<li>è®¾ç½®PKTCTRL1.ADR_CHKä¸ºä»»æ„å¤§äº0çš„å€¼ä½¿èƒ½æ•°æ®åŒ…åœ°å€è¿‡æ»¤ã€‚</li>
<li>æ•°æ®åŒ…å¤„ç†å™¨å¯åŠ¨åå°†æ¯”è¾ƒæ•°æ®åŒ…ä¸­çš„ç›®æ ‡åœ°å€å­—èŠ‚å’Œåœ¨ADDRå¯„å­˜å™¨ä¸­è®¾ç½®çš„èŠ‚ç‚¹åœ°å€<br>æˆ–è€…å½“PKTCTRL1.ADR_CHK=10æ—¶çš„å¹¿æ’­åœ°å€0x00<br>ä»¥åŠPKTCTRL1.ADR_CHK=11æ—¶çš„å¹¿æ’­åœ°å€0x00å’Œ0xFFã€‚<br>å¦‚æœæ¥æ”¶çš„åœ°å€åŒ¹é…åˆ°ä¸€ä¸ªæ­£ç¡®åœ°å€ï¼Œæ•°æ®åŒ…è¢«æ¥æ”¶å¹¶å†™å…¥åˆ°RXÂ FIFOã€‚<br>å¦‚æœåœ°å€åŒ¹é…å¤±è´¥ï¼Œæ•°æ®åŒ…å°†è¢«ä¸¢å¼ƒï¼Œé‡æ–°å¯åŠ¨æ¥æ”¶æ¨¡å¼ï¼ˆä¸ç®¡MCSM1.RXOFF_MODEçš„è®¾ç½®ï¼‰ã€‚Â </li>
<li>å¦‚æœå½“æ—¶ç”¨æ— é™æ•°æ®åŒ…é•¿åº¦æ¨¡å¼å’Œä½¿èƒ½åœ°å€è¿‡æ»¤æ—¶æ¥æ”¶åœ°å€åŒ¹é…åˆ°æ­£ç¡®çš„åœ°å€ï¼Œ0xFFå°†è¢«å†™å…¥åˆ°RXÂ FIFOï¼Œå…¶æ¬¡æ˜¯åœ°å€å­—èŠ‚å’Œæœ‰æ•ˆè½½è·ã€‚</li>
</ul>
<h4 id="æœ€å¤§é•¿åº¦è¿‡æ»¤"><a href="#æœ€å¤§é•¿åº¦è¿‡æ»¤" class="headerlink" title="æœ€å¤§é•¿åº¦è¿‡æ»¤Â "></a>æœ€å¤§é•¿åº¦è¿‡æ»¤Â </h4><p>åœ¨å¯å˜æ•°æ®åŒ…æ¨¡å¼ï¼ŒPKTCTRL0.LENGTH_CONFIG=1ï¼ŒPKTLEN.PACKET_LENGTHå¯„å­˜å™¨ç”¨æ¥è®¾ç½®æœ€å¤§å…è®¸çš„æ•°æ®åŒ…é•¿åº¦ã€‚å¦‚æœæ¥æ”¶çš„é•¿åº¦å­—èŠ‚å¤§äºè¿™ä¸ªå€¼ï¼Œæ•°æ®åŒ…å°†è¢«ä¸¢å¼ƒï¼Œé‡æ–°å¯åŠ¨æ¥æ”¶æ¨¡å¼ï¼ˆä¸ç®¡MCSM1.RXOFF_MODEçš„è®¾ç½®ï¼‰ã€‚</p>
<h4 id="CRCè¿‡æ»¤"><a href="#CRCè¿‡æ»¤" class="headerlink" title="CRCè¿‡æ»¤"></a>CRCè¿‡æ»¤</h4><ul>
<li>å½“CRCæ ¡éªŒå¤±è´¥æ—¶è¿‡æ»¤æ•°æ®åŒ…ï¼Œé€šè¿‡è®¾ç½®PKTCTRL1.CRC_AUTOFLUSH=1ä½¿èƒ½ï¼›</li>
<li>CRCè‡ªåŠ¨æ¸…é™¤åŠŸèƒ½å°†åœ¨CRCæ ¡éªŒå¤±è´¥æ—¶æ¸…ç©ºæ‰€æœ‰RX FIFOï¼›</li>
<li>åœ¨è‡ªåŠ¨æ¸…ç©ºRX FIFOåï¼Œä¸‹ä¸€ä¸ªçŠ¶æ€ä¾èµ–äºMCSM1.RXOFF_MODEçš„è®¾ç½®ï¼›</li>
<li>å½“ä½¿ç”¨è‡ªåŠ¨æ¸…é™¤åŠŸèƒ½ï¼Œåœ¨å¯å˜æ•°æ®åŒ…é•¿åº¦æ¨¡å¼ä¸‹æœ€å¤§æ•°æ®åŒ…é•¿åº¦ä¸º63å­—èŠ‚ï¼Œåœ¨å®šé•¿æ•°æ®åŒ…é•¿åº¦æ¨¡å¼ä¸‹æ˜¯64å­—èŠ‚ï¼›</li>
<li>æ³¨æ„å½“PKTCTRL1.APPEND_STATUSä½¿èƒ½ï¼Œæœ€å¤§å…è®¸æ•°æ®åŒ…é•¿åº¦å°†å‡å°‘2ä¸ªå­—èŠ‚ï¼Œä»¥ç¡®ä¿åœ¨æ•°æ®åŒ…çš„ç»“å°¾é™„åŠ çš„2å­—èŠ‚çš„çŠ¶æ€å­—èŠ‚åœ¨RX FIFOä¸­å ç”¨çš„ç©ºé—´ï¼›</li>
<li>å½“CRCæ ¡éªŒé”™è¯¯ä»¥åå…¨éƒ¨RX FIFOè¢«æ¸…ç©ºï¼›</li>
<li>åœ¨æ¥æ”¶æ­£ç¡®çš„æ•°æ®åŒ…å‰ä¹‹å‰æ¥æ”¶åˆ°çš„æ•°æ®åŒ…å¿…é¡»ä»FIFOä¸­è¯»å‡ºã€‚ç›´åˆ°CRCæ ¡éªŒæ­£ç¡®MCUæ‰ä»æ­£ç¡®çš„æ•°æ®åŒ…ä¸­è¯»å–æ•°æ®ï¼›</li>
</ul>
<h3 id="å‘é€æ¨¡å¼ä¸‹çš„æ•°æ®åŒ…å¤„ç†"><a href="#å‘é€æ¨¡å¼ä¸‹çš„æ•°æ®åŒ…å¤„ç†" class="headerlink" title="å‘é€æ¨¡å¼ä¸‹çš„æ•°æ®åŒ…å¤„ç†"></a>å‘é€æ¨¡å¼ä¸‹çš„æ•°æ®åŒ…å¤„ç†</h3><ul>
<li>éœ€è¦å‘é€çš„æœ‰æ•ˆè½½è·å¿…é¡»å†™å…¥åˆ°TXÂ FIFOï¼›</li>
<li>å¦‚æœä½¿èƒ½å¯å˜æ•°æ®åŒ…é•¿åº¦ç¬¬ä¸€ä¸ªå­—èŠ‚å¿…é¡»å†™é•¿åº¦å­—èŠ‚ï¼›</li>
<li>é•¿åº¦å­—èŠ‚çš„å€¼ç­‰äºæ•°æ®åŒ…çš„æœ‰æ•ˆè½½è·ï¼ˆåŒ…å«å¯é€‰çš„åœ°å€å­—èŠ‚ï¼‰ï¼›</li>
<li>å¦‚æœåœ¨æ¥æ”¶ç«¯ä½¿èƒ½åœ°å€è¯†åˆ«ï¼Œå†™å…¥åˆ°TXÂ FIFOä¸­çš„ç¬¬äºŒä¸ªå­—èŠ‚å¿…é¡»æ˜¯åœ°å€å­—èŠ‚ï¼›</li>
<li>å¦‚æœä½¿èƒ½å›ºå®šæ•°æ®åŒ…é•¿åº¦ï¼Œå†™å…¥åˆ°TXÂ FIFOä¸­çš„ç¬¬ä¸€ä¸ªå­—èŠ‚å¿…é¡»æ˜¯åœ°å€å­—èŠ‚ï¼ˆæ¥æ”¶ç«¯ä½¿ç”¨åœ°å€è¯†åˆ«ï¼‰ï¼›</li>
<li>è°ƒåˆ¶å™¨å°†é¦–å…ˆå‘é€é¢„ç½®æ•°é‡çš„å‰å¯¼å­—èŠ‚ï¼›</li>
<li>å¦‚æœTXÂ FIFOä¸­æœ‰å¯å‘é€çš„æ•°æ®ï¼Œè°ƒåˆ¶å™¨å°†å‘é€2å­—èŠ‚ï¼ˆå¯é€‰4å­—èŠ‚ï¼‰åŒæ­¥å­—ï¼Œç´§æ¥ç€æ˜¯TXÂ FIFOä¸­çš„æœ‰æ•ˆè½½è·ï¼›</li>
<li>å¦‚æœä½¿èƒ½CRCï¼Œæ ¡éªŒæ—¶è®¡ç®—TXÂ FIFOä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œç„¶åè·Ÿéšæœ‰æ•ˆæ•°æ®å‘é€2ä¸ªé™„åŠ å­—èŠ‚ï¼›</li>
<li>å¦‚æœåœ¨å®Œæ•´çš„æ•°æ®åŒ…å‘é€å®Œæˆä¹‹å‰TXÂ FIFOå˜ä¸ºç©ºçš„ï¼Œæ— çº¿å°†è¿›å…¥TXFIFO_UNDERFLOWçŠ¶æ€ã€‚é€€å‡ºè¯¥çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯è¿è¡ŒSFTXå‘½ä»¤ï¼›</li>
<li>å‘é€ä¸‹æº¢åå†å‘TXÂ FIFOå†™å…¥æ•°æ®ä¸èƒ½é‡å¯TXæ¨¡å¼ï¼›</li>
<li>å¦‚æœwhitening(ç™½åŒ–)è¢«ä½¿èƒ½ï¼ŒåŒæ­¥å­—åé¢çš„æ‰€æœ‰å­—èŠ‚å°†è¢«whitenedã€‚è¿™å¿…é¡»åœ¨FEC/Interleaverä¹‹å‰å®Œæˆã€‚Whiteningé€šè¿‡è®¾ç½®PKTCTRL0.WHITE_DATA=1ä½¿èƒ½ï¼›</li>
<li>å¦‚æœFEC/Interleaving(äº¤é”™å™¨)è¢«ä½¿èƒ½ï¼ŒåŒæ­¥å­—åé¢çš„æ‰€æœ‰æ•°æ®åœ¨è°ƒåˆ¶ä¹‹å‰å°†è¢«interleaverÂ å’ŒÂ FECç¼–ç åŠ å¯†ã€‚FECé€šè¿‡è®¾ç½®MDMCFG1.FEC_EN=1ä½¿èƒ½ï¼›</li>
</ul>
<h3 id="æ¥æ”¶æ¨¡å¼ä¸‹çš„æ•°æ®åŒ…å¤„ç†"><a href="#æ¥æ”¶æ¨¡å¼ä¸‹çš„æ•°æ®åŒ…å¤„ç†" class="headerlink" title="æ¥æ”¶æ¨¡å¼ä¸‹çš„æ•°æ®åŒ…å¤„ç†"></a>æ¥æ”¶æ¨¡å¼ä¸‹çš„æ•°æ®åŒ…å¤„ç†</h3><ul>
<li>åœ¨æ¥æ”¶æ¨¡å¼ï¼Œè§£è°ƒå™¨å’Œæ•°æ®åŒ…å¤„ç†å™¨å°†å¯»æ‰¾ä¸€ä¸ªæœ‰æ•ˆçš„å‰å¯¼å’ŒåŒæ­¥å­—ã€‚</li>
<li>å½“æ‰¾åˆ°åï¼Œè§£è°ƒå™¨å°†è·å¾—ä½å’Œå­—èŠ‚åŒæ­¥ï¼Œå¹¶å°†æ¥æ”¶ç¬¬ä¸€ä¸ªæœ‰æ•ˆå­—èŠ‚ã€‚Â </li>
<li>å¦‚æœä½¿èƒ½FEC/Interleaverï¼ŒFECè§£ç å™¨å°†å¼€å§‹è§£ç ç¬¬ä¸€ä¸ªæœ‰æ•ˆå­—èŠ‚ã€‚Interleaverå°†åœ¨æ•°æ®è¢«å…¶ä»–ä»»ä½•å¤„ç†ä¹‹å‰è§£å¯†ã€‚Â </li>
<li>å¦‚æœä½¿èƒ½whiteningï¼Œåœ¨æ­¤åŸºç¡€ä¸Šæ•°æ®å°†è¢«de-whitening(åç™½åŒ–)ã€‚Â </li>
<li>å½“ä½¿èƒ½å¯å˜æ•°æ®åŒ…é•¿åº¦æ¨¡å¼æ—¶ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚æ˜¯é•¿åº¦å­—èŠ‚ã€‚æ•°æ®åŒ…å¤„ç†å™¨å‚¨å­˜è¯¥å€¼ä¸ºæ•°æ®åŒ…é•¿åº¦å¹¶ä¸”é€šè¿‡è¯¥é•¿åº¦å­—èŠ‚æŒ‡ç¤ºæ¥æ”¶çš„å­—èŠ‚æ•°é‡ã€‚</li>
<li>å¦‚æœä½¿ç”¨å›ºå®šæ•°æ®åŒ…é•¿åº¦æ¨¡å¼ï¼Œæ•°æ®åŒ…å¤„ç†å™¨å°†æ¥æ”¶é¢„ç½®æ•°é‡çš„å­—èŠ‚ã€‚Â </li>
<li>æ¥ä¸‹æ¥ï¼Œæ•°æ®åŒ…å¤„ç†å™¨å¯é€‰çš„æ£€æµ‹åœ°å€å¹¶ä¸”åªæœ‰åœ°å€åŒ¹é…æ‰ç»§ç»­æ¥æ”¶ã€‚</li>
<li>å¦‚æœä½¿èƒ½è‡ªåŠ¨CRCæ ¡éªŒï¼Œæ•°æ®åŒ…å¤„ç†å™¨è®¡ç®—CRCå¹¶ä¸CRCæ ¡éªŒç»“æœç›¸åŒ¹é…ã€‚Â </li>
<li>åœ¨æœ‰æ•ˆè½½è·çš„ç»“å°¾ï¼Œæ•°æ®åŒ…å¤„ç†å™¨å°†å¯é€‰çš„å†™å…¥ä¸¤ä¸ªå¤äº¤æ•°æ®åŒ…çŠ¶æ€å­—èŠ‚ï¼ŒåŒ…æ‹¬CRCçŠ¶æ€ã€LQIå’ŒRSSI</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/1736256-7786a7bdca8c6dee.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ¥æ”¶æ•°æ®åŒ…çŠ¶æ€å­—1"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1736256-116e004500c41ba0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ¥æ”¶æ•°æ®åŒ…çŠ¶æ€å­—2"></p>
<h3 id="MCUæ•°æ®åŒ…å¤„ç†"><a href="#MCUæ•°æ®åŒ…å¤„ç†" class="headerlink" title="MCUæ•°æ®åŒ…å¤„ç†"></a>MCUæ•°æ®åŒ…å¤„ç†</h3><p>å¦‚æœåœ¨å›ºä»¶ä¸­æ‰§è¡Œä¸€ä¸ªæ•°æ®åŒ…å¯¼å‘çš„æ— çº¿åè®®ï¼ŒMCUéœ€è¦çŸ¥é“ä¸€ä¸ªæ•°æ®åŒ…ä»€ä¹ˆæ—¶å€™æ”¶åˆ°/å‘é€ã€‚<br>åŠ ä¹‹ï¼Œè¶…è¿‡64å­—èŠ‚é•¿åº¦çš„æ•°æ®åŒ…ï¼Œå½“æ¥æ”¶æ—¶éœ€è¦è¯»å–RXÂ FIFOå’Œå½“å‘é€æ—¶TXÂ FIFOéœ€è¦é‡æ–°å¡«å……ã€‚<br>è¿™å°±æ„å‘³ç€MCUå¿…é¡»çŸ¥é“æœ‰å¤šå°‘ä¸ªå­—èŠ‚å¯ä»¥ä»RXÂ FIFOä¸­è¯»å–æˆ–è€…å¯ä»¥å‘TXÂ FIFOä¸­å†™å…¥ã€‚<br>æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è·å¾—å¿…è¦çš„çŠ¶æ€ä¿¡æ¯ã€‚</p>
<ul>
<li><p>ä¸­æ–­é©±åŠ¨æ–¹æ³•Â <br>å½“åŒæ­¥å­—æ¥æ”¶/å‘é€å®Œæˆæˆ–è€…å®Œæ•´çš„æ•°æ®åŒ…æ¥æ”¶/å‘é€é€šè¿‡è®¾ç½®IOCFGx.GDOx_CFG=0x06ï¼ŒGDOè„šå¯ä»¥ç”¨åœ¨RXå’ŒTXä¸­äº§ç”Ÿä¸€ä¸ªä¸­æ–­ã€‚<br>æ­¤å¤–ï¼Œ<br>IOCFGx.GDOx_CFGè¿˜æœ‰ä¸¤ä¸ªé…ç½®ç”¨æ¥äº§ç”Ÿä¸­æ–­ï¼Œæºäºæœ‰å¤šå°‘å­—èŠ‚åœ¨RXÂ FIFOæˆ–TXÂ FIFOã€‚<br>IOCFGx.GDOx_CFG=0x00å’ŒIOCFGx.GDOx_CFG=0x01ä¸ºRXÂ FIFOï¼Œ<br>IOCFGx.GDOx_CFG=0x02å’ŒIOCFGx.GDOx_CFG=0x03ä¸ºTXÂ FIFOã€‚</p>
</li>
<li><p>SPIè½®è¯¢Â <br>PKTSTATUSå¯ä»¥ä½¿ç”¨ç»™å®šçš„é€Ÿç‡æŸ¥è¯¢ä»¥è·å¾—GDO0å’ŒGDO2å½“å‰å€¼ã€‚<br>RXBYTESÂ å’ŒÂ TXBYTESå¯ä»¥ä½¿ç”¨ç»™å®šçš„é€Ÿç‡æŸ¥è¯¢ä»¥è·å¾—RXÂ FIFOæˆ–è€…TXÂ FIFOä¸­çš„å­—èŠ‚æ•°ã€‚<br>åˆäºŒä¸ºä¸€çš„ï¼ŒRXÂ FIFOå’ŒTXÂ FIFOä¸­çš„å­—èŠ‚æ•°é‡å¯ä»¥ä»æ¯æ¬¡å¤´å­—èŠ‚ã€æ•°æ®å­—èŠ‚æˆ–å‘½ä»¤é€‰é€šåœ¨SPIæ€»çº¿ä¸Šå‘é€æ—¶MISOå¼•è„šè¿”å›çš„èŠ¯ç‰‡çŠ¶æ€å­—èŠ‚è¯»å–ã€‚Â </p>
<blockquote>
<p><strong>æ¨èä½¿ç”¨ä¸­æ–­é©±åŠ¨æ–¹æ³•</strong>å› ä¸ºé«˜é€Ÿç‡SPIè½®è¯¢å°†å‡å°RXçš„çµæ•åº¦ã€‚<br>è€Œä¸”ï¼Œåœ¨Section10.3å’ŒCC1101å‹˜è¯¯è¡¨ã€4ã€‘ä¸­ï¼Œå½“ä½¿ç”¨SPIè½®è¯¢ï¼Œå•ä¸€è¯»å–PKTSTATUSã€Â RXBYTESå’ŒÂ TXBYTESæœ‰ä¸€ä¸ªå°çš„æœ‰é™çš„é”™è¯¯çš„å¯èƒ½æ€§ã€‚<br>å½“è¯»å–èŠ¯ç‰‡çŠ¶æ€å­—èŠ‚æœ‰åŒæ ·çš„é—®é¢˜ã€‚Â </p>
</blockquote>
</li>
</ul>
<h3 id="RSSI"><a href="#RSSI" class="headerlink" title="RSSI"></a>RSSI</h3><ul>
<li><p>RSSIçš„å€¼æ—¶åœ¨é€‰æ‹©çš„é€šé“ä¸­ä¿¡å·åŠŸç‡çº§åˆ«çš„ä¼°è®¡ã€‚</p>
</li>
<li><p>è¿™ä¸ªå€¼åŸºäºRXä¸­å½“å‰å¢ç›Šçš„è®¾ç½®å’Œä¿¡é“ä¸­çš„æ ‡å‡†ä¿¡å·ç­‰çº§ã€‚Â </p>
</li>
<li><p>åœ¨RXæ¨¡å¼ï¼ŒRSSIå¯ä»¥è¿ç»­çš„ä»RSSIçŠ¶æ€å¯„å­˜å™¨è¯»å–çŸ¥é“è§£è°ƒå™¨æ£€æµ‹åˆ°ä¸€ä¸ªåŒæ­¥å­—ï¼ˆå½“åŒæ­¥å­—æ£€æµ‹ä½¿èƒ½ï¼‰ã€‚æ­¤æ—¶RSSIè¯»å–çš„å€¼å°†è¢«å†»ç»“çŸ¥é“èŠ¯ç‰‡ä¸‹ä¸€æ¬¡è¿›å…¥RXçŠ¶æ€ã€‚Â </p>
<blockquote>
<p>æ³¨æ„ï¼šä»æ— çº¿è¿›å…¥RXæ¨¡å¼åˆ°åœ¨RSSIå¯„å­˜å™¨æ£€æµ‹åˆ°ä¸€ä¸ªæ­£ç¡®çš„RSSIå€¼éœ€è¦ä¸€å®šçš„æ—¶é—´ã€‚æŸ¥çœ‹DN505[15]è·å¾—RSSIå“åº”æ—¶é—´ä¼°ç®—çš„è¯¦ç»†ä¿¡æ¯ã€‚Â <br>RSSIçš„å€¼ä»¥dBmå’Œ1/2Â dBç»™å‡ºã€‚<br>RSSIæ›´æ–°é€Ÿç‡ï¼ŒfRSSIÂ ä¾èµ–äºæ¥æ”¶æ»¤æ³¢å¸¦å®½å’ŒAGCCTRL0.FILTER_LENGTHã€‚</p>
</blockquote>
</li>
<li><p>å¦‚æœä½¿èƒ½PKTCTRL1.APPEND_STATUSï¼Œæ•°æ®åŒ…æœ€åçš„RSSIå€¼è‡ªåŠ¨æ·»åŠ åˆ°æœ‰æ•ˆè½½è·åé¢çš„ç¬¬ä¸€ä¸ªé™„åŠ å­—èŠ‚ã€‚Â </p>
</li>
<li><p>ä»RSSIçŠ¶æ€å¯„å­˜å™¨è¯»å‡ºçš„RSSIå€¼æ—¶2ä¸ªè¡¥è¶³çš„æ•°å­—ã€‚ä¸‹é¢çš„ç¨‹åºå¯ä»¥å°†RSSIè½¬æ¢ä¸ºå®Œæ•´çš„åŠŸç‡çº§åˆ«ï¼ˆRSSI_dBmï¼‰ã€‚Â </p>
</li>
</ul>
<ol>
<li>è¯»å–RSSIçŠ¶æ€å¯„å­˜å™¨Â </li>
<li>å°†è¯»åˆ°çš„æ•°æ®ä»16è¿›åˆ¶æ•°è½¬æ¢åˆ°äºŒè¿›åˆ¶æ•°ï¼ˆRSSI_decï¼‰Â </li>
<li>Â å¦‚æœRSSI_decâ‰§128ï¼ŒRSSI_dBmÂ =(RSSI_decÂ -Â 256)/2Â â€“Â RSSI_offsetÂ 4ï¼‰<br>4 )  å¦‚æœRSSI_decï¼œ128ï¼ŒRSSI_dBmÂ =RSSI_decÂ /2Â â€“Â RSSI_offset</li>
</ol>
<h3 id="å‡€ä¿¡é“è¯„ä¼°ï¼ˆCCAï¼‰"><a href="#å‡€ä¿¡é“è¯„ä¼°ï¼ˆCCAï¼‰" class="headerlink" title="å‡€ä¿¡é“è¯„ä¼°ï¼ˆCCAï¼‰"></a>å‡€ä¿¡é“è¯„ä¼°ï¼ˆCCAï¼‰</h3><ul>
<li>CCAç”¨æ¥æ˜¾ç¤ºå½“å‰ä¿¡é“æ˜¯ç©ºé—²è¿˜æ˜¯ç¹å¿™ã€‚</li>
<li>é€šè¿‡è®¾å®šIOCFGx.GDOx_CFG=0x09ï¼Œå½“å‰çš„CCAçŠ¶æ€åœ¨ä»»ä½•ä¸€ä¸ªGDOå¼•è„šéƒ½å¯ä»¥æŸ¥çœ‹ã€‚Â </li>
<li>MCSM1.CCA_MODEç”¨æ¥é€‰æ‹©å½“ç¡®å®šCCAæ—¶ä½¿ç”¨çš„æ¨¡å¼ã€‚Â </li>
<li>å½“CC1101åœ¨RXçŠ¶æ€æ—¶ç»™å‡ºSTXÂ æˆ–Â SFSTXONå‘½ä»¤é€‰é€šï¼Œä»…èƒ½åœ¨å‡€ä¿¡é“æ¡ä»¶å®Œæˆæ‰èƒ½è¿›å…¥TXæˆ–FSTXONçŠ¶æ€ã€‚</li>
<li>æ­¤å¤–ï¼ŒèŠ¯ç‰‡å°†ä»å¤„äºRXçŠ¶æ€ã€‚å¦‚æœä¿¡é“æ¥ä¸‹æ¥å˜ä¸ºå¯ç”¨çš„ï¼Œåœ¨ä¸€ä¸ªæ–°çš„å‘½ä»¤é€‰é€šé€šè¿‡SPIæ¥å£å‘é€ä¹‹å‰ï¼Œæ— çº¿ä¸ä¼šè¿›å…¥TXæˆ–FSTXONçŠ¶æ€ã€‚è¿™ä¸ªç‰¹æ€§å«åš<strong>TX-if-CCA</strong>ã€‚<br>å¯ä»¥ç¼–ç¨‹è®¾ç½®4ç§CCAæ¡ä»¶ï¼š<ul>
<li>å§‹ç»ˆï¼ˆç¦æ­¢CCAï¼Œæ€»æ˜¯è¿›å…¥TXï¼‰</li>
<li>å¦‚æœRSSIä½äºé—¨é™å€¼Â </li>
<li>Â é™¤éæ­£å¸¸æ¥æ”¶ä¸€ä¸ªæ•°æ®åŒ…Â </li>
<li>Â ä»¥ä¸Šä¸¤ä¸ªï¼ˆRSSIä½äºé—¨é™å€¼å’Œæ²¡æœ‰æ­£å¸¸æ¥æ”¶ä¸€ä¸ªæ•°æ®åŒ…ï¼‰</li>
</ul>
</li>
</ul>
<h3 id="é“¾è·¯è´¨é‡æŒ‡ç¤ºï¼ˆLQIï¼‰"><a href="#é“¾è·¯è´¨é‡æŒ‡ç¤ºï¼ˆLQIï¼‰" class="headerlink" title="é“¾è·¯è´¨é‡æŒ‡ç¤ºï¼ˆLQIï¼‰"></a>é“¾è·¯è´¨é‡æŒ‡ç¤ºï¼ˆLQIï¼‰</h3><ul>
<li>ä¿¡å·é“¾è·¯è´¨é‡æŒ‡ç¤ºæ˜¯ä¸€ä¸ªå…¬åˆ¶çš„æ¥æ”¶ä¿¡å·çš„å½“å‰è´¨é‡ã€‚</li>
<li>è‹¥ PKTCTRL1.APPEND_STATUSå¯ç”¨ï¼Œåˆ™è¿™ä¸ªå€¼è‡ªåŠ¨é™„åŠ åœ¨æ¥æ”¶æ•°æ®åŒ…çš„æœ«ç«¯ã€‚</li>
<li>è¿™ä¸ªå€¼ä¹Ÿå¯ä» LQI çŠ¶æ€å¯„å­˜å™¨ä¸Šè¯»å–ã€‚<br>LQI ç”±è·ŸéšåŒæ­¥è¯æ±‡çš„ 64 ä¸ªç¬¦å·ï¼ˆå¤´ 8 ä¸ªæ•°æ®åŒ…å­—èŠ‚ï¼‰è®¡ç®—å¾—æ¥ã€‚LQI æœ€å¥½ç”¨ä½œè¿æ¥<br>è´¨é‡çš„ä¸€ä¸ªç›¸å¯¹çš„åº¦é‡ï¼Œå› ä¸ºè¿™ä¸ªå€¼å†³å®šäºè°ƒåˆ¶æ ¼å¼ã€‚</li>
</ul>
<h3 id="ä¸Šç”µå¯åŠ¨åºåˆ—"><a href="#ä¸Šç”µå¯åŠ¨åºåˆ—" class="headerlink" title="ä¸Šç”µå¯åŠ¨åºåˆ—"></a>ä¸Šç”µå¯åŠ¨åºåˆ—</h3><ul>
<li>å½“ç”µæºç»™ç”µï¼Œç³»ç»Ÿå¿…é¡»å¤ä½ã€‚</li>
<li>é€šè¿‡ä¸‹é¢æè¿°çš„2ä¸ªåºåˆ—ä¸­çš„ä¸€ä¸ªæ¥å®Œæˆï¼Œå³è‡ªåŠ¨ä¸Šç”µå¤ä½ï¼ˆPORï¼‰æˆ–è€…æ‰‹åŠ¨å¤ä½ã€‚</li>
<li>è‡ªåŠ¨ä¸Šç”µå¤ä½æˆ–æ‰‹åŠ¨å¤ä½ä¹‹åï¼Œæ¨èè½¬æ¢GDO0å¼•è„šä¸Šè¾“å‡ºçš„ä¿¡å·ã€‚</li>
<li>é»˜è®¤è®¾ç½®æ˜¯ä»¥CLK_XOSC/192çš„é¢‘ç‡è¾“å‡ºä¸€ä¸ªæ—¶é’Ÿä¿¡å·ã€‚</li>
<li>ç„¶è€Œï¼Œä¸ºäº†åœ¨TXå’ŒRXä¸­ä¼˜åŒ–æ‰§è¡Œï¼Œå¿…é¡»<strong><strong>GD0/1/2 å¼•è„šé…ç½®</strong></strong>ä¸­çš„é…ç½®æ¥é…ç½®GDOè„š</li>
</ul>
<h4 id="è‡ªåŠ¨POR"><a href="#è‡ªåŠ¨POR" class="headerlink" title="è‡ªåŠ¨POR"></a>è‡ªåŠ¨POR</h4><p>CC1101å†…éƒ¨åŒ…å«ä¸Šç”µå¤ä½ç”µè·¯ã€‚æœ€å°çš„éœ€æ±‚è§è¡¨15ï¼Œå®Œæ•´çš„ä¸Šç”µå¤ä½åŠŸèƒ½å¿…é¡»éµå¾ªã€‚å½“CHIP_RDYnå˜ä½å†…éƒ¨ä¸Šç”µåºåˆ—å®Œæˆã€‚åœ¨CSnæ‹‰ä½ååœ¨SOå¼•è„šä¸Šå¯ä»¥æŸ¥çœ‹CHIP_RDYnã€‚Â <br>å½“CC1101å¤ä½å®Œæˆï¼ŒèŠ¯ç‰‡å°†è¿›å…¥IDLEçŠ¶æ€ï¼Œæ™¶æŒ¯å¼€å§‹è¿è¡Œã€‚å¦‚æœèŠ¯ç‰‡åœ¨ä¸Šç”µä¹‹åæœ‰è¶³å¤Ÿçš„æ—¶é—´è®©æ™¶æŒ¯ç¨³å®šï¼Œåœ¨æ•è·CSnå˜ä½ä¹‹åSOå¼•è„šå°†é©¬ä¸Šå˜ä½ã€‚å¦‚æœåœ¨å¤ä½å®Œæˆä¹‹å‰CSnè¢«æ‹‰ä½ï¼ŒSOå¼•è„šå°†é¦–å…ˆå˜é«˜ï¼ŒæŒ‡ç¤ºæ™¶æŒ¯æ²¡æœ‰ç¨³å®šï¼Œå˜ä½ä¹‹å‰è§ä¸‹å›¾ã€‚<br><img src="http://upload-images.jianshu.io/upload_images/1736256-1dc0e7c8463d0096.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è‡ªåŠ¨POR"></p>
<h4 id="æ‰‹åŠ¨å¤ä½"><a href="#æ‰‹åŠ¨å¤ä½" class="headerlink" title="æ‰‹åŠ¨å¤ä½"></a>æ‰‹åŠ¨å¤ä½</h4><p>CC1101ä¸Šçš„å…¶å®ƒå…¨éƒ¨å¤ä½æ—¶ä½¿ç”¨SRESå‘½ä»¤ã€‚é€šè¿‡æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œæ‰€æœ‰å†…éƒ¨å¯„å­˜å™¨å’ŒçŠ¶æ€æ¢å¤é»˜è®¤ï¼ŒIDLEçŠ¶æ€ã€‚æ‰‹åŠ¨å¤ä½åºåˆ—å¦‚ä¸‹ï¼ˆå›¾ æ‰‹åŠ¨å¤ä½ï¼‰ï¼šÂ </p>
<ul>
<li>è®¾ç½®SCLK=1ï¼ŒSI=0ï¼Œé¿å…å¼•è„šæ§åˆ¶æ¨¡å¼å¯èƒ½å‡ºç°çš„é—®é¢˜ã€‚Â </li>
<li>Â é€‰é€šCSä½/é«˜ã€‚Â </li>
<li>Â ä¿æŒCSä¸ºä½ï¼Œç„¶åæ‹‰é«˜ï¼Œè‡³å°‘40usæ‰å¯ä»¥æ‹‰ä½Â </li>
<li>å°†CSnæ‹‰ä½ç­‰åˆ°SOæ‹‰ä½ï¼ˆCHIP_RDYnï¼‰ã€‚</li>
<li>åœ¨SIçº¿ä¸Šå‘å¸ƒSRESé€‰é€šã€‚Â </li>
<li>å½“SOå†ä¸€æ¬¡æ‹‰ä½ï¼Œå¤ä½å®Œæˆï¼ŒèŠ¯ç‰‡è¿›å…¥IDLEçŠ¶æ€<br><img src="http://upload-images.jianshu.io/upload_images/1736256-e692bc860255aa22.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ‰‹åŠ¨å¤ä½"><blockquote>
<p>æ³¨æ„ï¼šä»¥ä¸Šå¤ä½ç¨‹åºåªéœ€è¦åœ¨ç”µæºç»™ç”µä¹‹åã€‚å¦‚æœç”¨æˆ·åœ¨è¿™ä¹‹åæƒ³è¦å¤ä½CC1101ï¼Œåªéœ€è¦æ‰§è¡ŒSRESå‘½ä»¤é€‰é€š</p>
</blockquote>
</li>
</ul>
<h3 id="å¸¸è§„ç”¨é€”-æµ‹è¯•è¾“å‡ºæ§åˆ¶å¼•è„š"><a href="#å¸¸è§„ç”¨é€”-æµ‹è¯•è¾“å‡ºæ§åˆ¶å¼•è„š" class="headerlink" title="å¸¸è§„ç”¨é€”/ æµ‹è¯•è¾“å‡ºæ§åˆ¶å¼•è„š"></a>å¸¸è§„ç”¨é€”/ æµ‹è¯•è¾“å‡ºæ§åˆ¶å¼•è„š</h3><p>3 ä¸ªæ•°å­—è¾“å‡ºå¼•è„š GDO0 å’Œ GDO1 å’Œ GDO2ä¸ºå¸¸è§„æ§åˆ¶è„šã€‚å®ƒä»¬çš„åŠŸèƒ½åˆ†åˆ«ç”±</p>
<ul>
<li><strong>IOCFG0.GDO0_CFG</strong></li>
<li><strong>IOCFG1.GDO1_CFG</strong></li>
<li><strong>IOCFG2.GDO3_CFG</strong><br>æ§åˆ¶;</li>
<li>GDO1 å’Œåœ¨ SPI æ¥å£ä¸Šçš„SO è„šæ˜¯åŒä¸€è„šï¼Œå› æ­¤è¿™ä¸ªè„šä¸Šæ§åˆ¶çš„è¾“å‡ºåœ¨ CSn é«˜æ—¶æ‰æœ‰æ•ˆã€‚</li>
<li>GDO1 çš„é»˜è®¤å€¼ä¸º 3çŠ¶æ€ï¼Œå½“ SPI æ¥å£å’Œå…¶å®ƒè®¾å¤‡ä¸€èµ·ä½¿ç”¨æ—¶è¿™æ˜¯æœ‰æ•ˆçš„ã€‚</li>
<li>GOO0 çš„é»˜è®¤å€¼ä¸º125kHz-146kHzæ—¶é’Ÿè¾“å‡ºï¼ˆXOSC é¢‘ç‡é™¤ä»¥ 192ï¼‰ã€‚å½“ XOSC åœ¨é‡å¯<br>åŠŸç‡ä¸‹å¼€å¯åï¼Œä½¿ç”¨ä¸€ä¸ªæ™¶ä½“ï¼Œå®ƒå°±èƒ½ç”¨æ¥ä¸ºç³»ç»Ÿä¸­çš„ MCU è®¡æ—¶ã€‚å½“ MCU å·¥ä½œæ—¶ï¼Œé€šè¿‡ IOCFG0.GDO0_CFGï¼Œå®ƒèƒ½æ”¹å˜æ—¶é’Ÿé¢‘ç‡ã€‚ä¸ä¼šé€ æˆæ—¶é’Ÿæ³¢å½¢å¹²æ‰°ã€‚</li>
<li>å¯¹ IOCFG0.GDO0_CFG å¯„å­˜å™¨å†™å…¥å€¼ 128ï¼ˆ0x80hï¼‰ï¼ŒèŠ¯ç‰‡å†…æ¨¡æ‹Ÿæ¸©åº¦ä¼ æ„Ÿå™¨å¯ç”¨ã€‚ç„¶åï¼ŒGDO0 ä¸Šçš„ç”µå‹ä¸æ¸©åº¦æˆæ¯”ä¾‹</li>
<li>å¦‚æœIOCFGx.GDOx_CFGçš„è®¾ç½®å°äº0x20å¹¶ä¸”IOCFGx_GDOx_INVä¸º0ï¼ˆ1ï¼‰ï¼Œåœ¨SLEEPæ¨¡å¼GDO0å’ŒGDO2å°†ç”±ç¡¬ä»¶ç½®0ï¼ˆ1ï¼‰ï¼ŒGDO1å°†æœ‰ç¡¬ä»¶ç½®1ï¼ˆ0ï¼‰ã€‚è¿™äº›ä¿¡å·å°†ç”±ç¡¬ä»¶ä¿æŒçŸ¥é“CHIP_RDYnå˜ä½ã€‚Â </li>
<li>å¦‚æœIOCFGx.GDOx_CFGè®¾ç½®ä¸º0x20æˆ–æ›´é«˜ï¼ŒGDOå¼•è„šåœ¨SLEEPçŠ¶æ€ä¹Ÿå·¥ä½œåœ¨è®¾ç½®çš„çŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œå¦‚æœIOCFG1.GDO1_CFG=0x2Eï¼ŒGDO1åœ¨æ‰€æœ‰çŠ¶æ€éƒ½æ˜¯é«˜é˜»æŠ—ã€‚</li>
</ul>
<hr>
<table>
<thead>
<tr>
<th>GDO0_CFG[5:0] GDO1_CFG[5:0] GDO2_CFG[5:0]</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>0(0x00)</td>
<td>ä¸ RX FIFO å…³è”ï¼šå½“ RX FIFO åœ¨ RXFIFO_THR ä¸Šè¢«å¡«å……æ—¶å£°æ˜ã€‚å½“ RX FIFO åœ¨RXFIFO THR ä¹‹ä¸‹æ—¶è¢«åå£°æ˜</td>
</tr>
<tr>
<td>1(0x01)</td>
<td>ä¸ RX FIFO å…³è”ï¼šå½“ RX FIFO åœ¨ RXFIFO_THR ä¸Šè¢«å¡«å……æˆ–åˆ°è¾¾æ•°æ®åŒ…æœ«ç«¯æ—¶å£°æ˜ã€‚å½“RX FIFO ç©ºæ—¶è¢«åå£°æ˜</td>
</tr>
<tr>
<td>2(0x02)</td>
<td>ä¸ TX FIFO å…³è”ï¼šå½“ TX FIFO åœ¨ TXFIFO_THR ä¸Šè¢«å¡«å……æ—¶å£°æ˜ã€‚å½“ TX FIFO åœ¨TXFIFO THR ä¹‹ä¸‹æ—¶è¢«åå£°æ˜</td>
</tr>
<tr>
<td>3(0x03)</td>
<td>ä¸ TX FIFO å…³è”ï¼šå½“ TX FIFO æ»¡æ—¶å£°æ˜ã€‚å½“ TX FIFO åœ¨ TXFIFO_THR ä¹‹ä¸‹ä¸ºç©ºæ—¶è¢«åå£°æ˜</td>
</tr>
<tr>
<td>4(0x04)</td>
<td>å½“ RX FIFO å·²æº¢å‡ºæ—¶å£°æ˜ã€‚å½“ FIFO è¢«æ·¹æ²¡æ—¶è¢«åå£°æ˜</td>
</tr>
<tr>
<td>5(0x05)</td>
<td>å½“ TX FIFO å·²ä¸‹æº¢æ—¶å£°æ˜ã€‚å½“ FIFO è¢«æ·¹æ²¡æ—¶è¢«åå£°æ˜</td>
</tr>
<tr>
<td>6(0x06)</td>
<td>å½“åŒæ­¥è¯æ±‡è¢«é€å‡º/æ”¶åˆ°æ—¶å£°æ˜ï¼Œåœ¨æ•°æ®åŒ…æœ«ç«¯æ—¶åå£°æ˜ã€‚å¯¹ RXï¼Œå½“å¯é€‰åœ°å€æ£€æµ‹å¤±è´¥æˆ– RX FIFO æº¢å‡ºæ—¶ï¼Œå¼•è„šè¢«åå£°æ˜ã€‚è‹¥ TX FIFO ä¸‹æº¢ï¼Œè¿™ä¸ªå¼•è„šå°†åŒæ ·è¢«åå£°æ˜</td>
</tr>
<tr>
<td>7(0x07)</td>
<td>å½“ä¸€ä¸ªæ•°æ®åŒ…è¢« OK CRC æ”¶åˆ°æ—¶å£°æ˜ã€‚å½“ç¬¬ä¸€ä¸ªå­—èŠ‚ä» RX FIFO ä¸­è¯»å–æ—¶åå£°æ˜</td>
</tr>
<tr>
<td>8(0x08)</td>
<td>å‰å¯¼è´¨é‡è¾¾åˆ°ã€‚å½“ PQI é«˜äºæ§åˆ¶ PQT å€¼æ—¶å£°æ˜</td>
</tr>
<tr>
<td>9(0x09)</td>
<td>æ¸…ç†ä¿¡é“è¯„ä¼°ã€‚å½“ RSSI ç­‰çº§ä½äºé—¨é™æ—¶ä¸ºé«˜ï¼ˆå†³å®šäºå½“å‰ CCA MODE è®¾ç½®ï¼‰</td>
</tr>
<tr>
<td>10(0x0A)</td>
<td>é”å®šæ£€æµ‹å™¨è¾“å‡º</td>
</tr>
<tr>
<td>11(0x0B)</td>
<td>è¿ç»­æ—¶é’Ÿã€‚ä¸åŒæ­¥è¿ç»­æ¨¡å¼ä¸‹çš„æ•°æ®åŒæ­¥ã€‚æ•°æ®åœ¨ä¸‹é™æ²¿å»ºç«‹ï¼Œåœ¨ SERIAL CLK ä¸Šå‡æ²¿è¢«è¯»å–ã€‚</td>
</tr>
<tr>
<td>12(0x0C)</td>
<td>è¿ç»­åŒæ­¥æ•°æ®è¾“å‡ºã€‚åŒæ­¥è¿ç»­æ¨¡å¼æ—¶ä½¿ç”¨ã€‚åœ¨ SERIAL_CLK ä¸Šå‡æ²¿ MCU å¿…é¡»è¯» DOã€‚æ•°æ®åœ¨ä¸‹é™æ²¿ç”± CC2500 å»ºç«‹</td>
</tr>
<tr>
<td>13(0x0D)</td>
<td>è¿ç»­é€æ˜æ•°æ®è¾“å‡ºã€‚åŒæ­¥è¿ç»­æ¨¡å¼æ—¶ä½¿ç”¨ã€‚</td>
</tr>
<tr>
<td>14(0x0E)</td>
<td>è½½æ³¢æ„Ÿåº”ã€‚å½“ RSSI ç­‰çº§ä½äºé—¨é™æ—¶ä¸ºé«˜</td>
</tr>
<tr>
<td>15(0x0F)</td>
<td>CRC OKã€‚ä¸Šä¸€ä¸ª CRC å¯¹æ¯”åŒ¹é…ã€‚å½“è¿›å…¥/é‡å¯ RX æ¨¡å¼æ—¶æ¸…ç†ã€‚</td>
</tr>
<tr>
<td>16(0x10)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>17(0x11)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>18(0x12)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>19(0x13)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>20(0x14)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>21(0x15)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>22(0x16)</td>
<td>RX_HARD_DATA[1]ã€‚èƒ½åŒRX_SYMBOL_TICKä¸€èµ·ä½¿ç”¨åœ¨äº¤æ›¿è¿ç»­RXè¾“å‡ºä¸Šã€‚</td>
</tr>
<tr>
<td>23(0x17)</td>
<td>RX_HARD_DATA[1]ã€‚èƒ½åŒRX_SYMBOL_TICKä¸€èµ·ä½¿ç”¨åœ¨äº¤æ›¿è¿ç»­RXè¾“å‡ºä¸Šã€‚</td>
</tr>
<tr>
<td>24(0x18)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>25(0x19)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>26(0x1A)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>27(0x1B)</td>
<td>1 æ—¶ PA PD.PA å¼€å¯ï¼Œ0 æ—¶åŠŸç‡é™ä½ã€‚èƒ½ç”¨æ¥æ§åˆ¶å¤–éƒ¨ PA æˆ– RX/TX å¼€å…³</td>
</tr>
<tr>
<td>28(0x1C)</td>
<td>1 æ—¶ LNA PD.LNA å¼€å¯ï¼Œ0 æ—¶åŠŸç‡é™ä½ã€‚èƒ½ç”¨æ¥æ§åˆ¶å¤–éƒ¨ LNA æˆ– RX/TX å¼€å…³</td>
</tr>
<tr>
<td>29(0x1D)</td>
<td>RX_SYMBOL_TICKã€‚èƒ½åŒRX_HARD_DATAä¸€èµ·ä½¿ç”¨åœ¨äº¤æ›¿è¿ç»­RXè¾“å‡ºä¸Šã€‚</td>
</tr>
<tr>
<td>30(0x1E)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>31(0x1F)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>32(0x20)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>33(0x21)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>34(0x22)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>35(0x23)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>36(0x24)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>37(0x25)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>38(0x26)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>39(0x27)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>40(0x28)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>41(0x29)</td>
<td>CHIP RDY</td>
</tr>
<tr>
<td>42(0x2A)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>43(0x2B)</td>
<td>XOSC STABLE</td>
</tr>
<tr>
<td>44(0x2C)</td>
<td>ä¿ç•™ï¼æµ‹è¯•ç”¨</td>
</tr>
<tr>
<td>45(0x2D)</td>
<td>GDO0 Z EN Nã€‚å½“è¿™ä¸ªè¾“å‡ºä¸º 0 æ—¶ï¼ŒGDO0 é…ç½®ä¸ºè¾“å…¥ï¼ˆä¸ºè¿ç»­ TX æ•°æ®ï¼‰</td>
</tr>
<tr>
<td>46(0x2E)</td>
<td>é«˜é˜»æŠ—ï¼ˆ3-çŠ¶æ€ï¼‰</td>
</tr>
<tr>
<td>47(0x2F)</td>
<td>HW åˆ° 0ï¼ˆHW1 åŒ INV ä¿¡å·ä¸€èµ·å®Œæˆï¼‰</td>
</tr>
<tr>
<td>48(0x30)</td>
<td>CLK XOSC/1</td>
</tr>
<tr>
<td>49(0x31)</td>
<td>CLK XOSC/1.5</td>
</tr>
<tr>
<td>50(0x32)</td>
<td>CLK XOSC/2</td>
</tr>
<tr>
<td>51(0x33)</td>
<td>CLK XOSC/3</td>
</tr>
<tr>
<td>52(0x34)</td>
<td>CLK XOSC/4</td>
</tr>
<tr>
<td>53(0x35)</td>
<td>CLK XOSC/6</td>
</tr>
<tr>
<td>54(0x36)</td>
<td>CLK XOSC/8</td>
</tr>
<tr>
<td>55(0x37)</td>
<td>CLK XOSC/12</td>
</tr>
<tr>
<td>56(0x38)</td>
<td>CLK XOSC/16</td>
</tr>
<tr>
<td>57(0x39)</td>
<td>CLK XOSC/24</td>
</tr>
<tr>
<td>58(0x3A)</td>
<td>CLK XOSC/32</td>
</tr>
<tr>
<td>59(0x3B)</td>
<td>CLK XOSC/48</td>
</tr>
<tr>
<td>60(0x3C)</td>
<td>CLK XOSC/64</td>
</tr>
<tr>
<td>61(0x3D)</td>
<td>CLK XOSC/96</td>
</tr>
<tr>
<td>62(0x3E)</td>
<td>CLK XOSC/128</td>
</tr>
<tr>
<td>63(0x3F)</td>
<td>CLK XOSC/192</td>
</tr>
</tbody></table>
<h3 id="å¯„å­˜å™¨é…ç½®"><a href="#å¯„å­˜å™¨é…ç½®" class="headerlink" title="å¯„å­˜å™¨é…ç½®"></a>å¯„å­˜å™¨é…ç½®</h3><p>CC1101çš„é…ç½®é€šè¿‡ç¼–ç¨‹8ä½å¯„å­˜å™¨æ¥å®ç°</p>
<h4 id="å‘½ä»¤å¯„å­˜å™¨-12ä¸ª"><a href="#å‘½ä»¤å¯„å­˜å™¨-12ä¸ª" class="headerlink" title="å‘½ä»¤å¯„å­˜å™¨(12ä¸ª)"></a>å‘½ä»¤å¯„å­˜å™¨(12ä¸ª)</h4><p>è®¿é—®è¿™äº›å¯„å­˜å™¨å°†ä¼šå‘èµ·å†…éƒ¨çŠ¶æ€æˆ–æ¨¡å¼çš„æ”¹å˜</p>
<hr>
<table>
<thead>
<tr>
<th>åœ°å€</th>
<th>åç§°</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>0x30</td>
<td>SRES</td>
<td>å¤ä½èŠ¯ç‰‡</td>
</tr>
<tr>
<td>0x31</td>
<td>SFSTXON</td>
<td>ä½¿èƒ½å’Œæ ¡å‡†é¢‘ç‡åˆæˆå™¨ï¼ˆå¦‚æœMCSM0.FS_AUTOCAL=1ï¼‰ã€‚å¦‚æœåœ¨RX(ä½¿èƒ½CCA)ï¼Œä»…å½“åˆæˆå™¨è¿è¡Œæ—¶è½¬åˆ°ç­‰å¾…çŠ¶æ€ï¼ˆRX/TXå¿«é€Ÿè½¬æ¢ï¼‰</td>
</tr>
<tr>
<td>0x32</td>
<td>SXOFF</td>
<td>å…³é—­æ™¶æŒ¯</td>
</tr>
<tr>
<td>0x33</td>
<td>SCAL</td>
<td>æ ¡å‡†é¢‘ç‡åˆæˆå™¨å¹¶å…³é—­ã€‚SCALå¯ä»¥ä»IDLEæ¨¡å¼æ‰§è¡Œè€Œä¸éœ€è¦è®¾ç½®æ”¶åˆ°æ ¡å‡†æ¨¡å¼ï¼ˆMCSM0.FS_AUTOCAL=0ï¼‰ã€‚</td>
</tr>
<tr>
<td>0x34</td>
<td>SRX</td>
<td>ä½¿èƒ½RXã€‚å¦‚æœæ¥è‡ªIDLEçŠ¶æ€å¹¶ä¸”MCSM0.FS_AUTOCAL=1é¦–å…ˆæ‰§è¡Œæ ¡å‡†ã€‚</td>
</tr>
<tr>
<td>0x35</td>
<td>STX</td>
<td>åœ¨IDLEçŠ¶æ€ï¼šä½¿èƒ½TXã€‚å¦‚æœMCSM0.FS_AUTOCAL=1é¦–å…ˆæ‰§è¡Œæ ¡å‡†ã€‚å¦‚æœåœ¨RXçŠ¶æ€å¹¶ä½¿èƒ½CCAä»…åœ¨ä¿¡é“ä¸ºç©ºæ—¶è½¬åˆ°TXã€‚</td>
</tr>
<tr>
<td>0x36</td>
<td>SIDLE</td>
<td>ç¦»å¼€RX/TXæ¨¡å¼ï¼Œå…³é—­é¢‘ç‡åˆæˆå™¨ï¼Œå¦‚æœå¯ç”¨ç¦»å¼€WORã€‚</td>
</tr>
<tr>
<td>0x38</td>
<td>SWOR</td>
<td>å¦‚æœWORCTRL.RC_PD=0åƒSection19.5çš„æè¿°ä¸€æ ·å¼€å§‹è‡ªåŠ¨RXè½®è¯¢åºåˆ—ï¼ˆWORï¼‰ã€‚</td>
</tr>
<tr>
<td>0x39</td>
<td>SPWD</td>
<td>å½“CSnæ‹‰é«˜è¿›å…¥æ‰ç”µæ¨¡å¼ã€‚</td>
</tr>
<tr>
<td>0x3A</td>
<td>SFRX</td>
<td>æ¸…é™¤RXÂ FIFOç¼“å†²å™¨ã€‚åªåœ¨IDLEÂ æˆ–Â RXFIFO_OVERFLOWçŠ¶æ€è¿è¡ŒSFRXã€‚</td>
</tr>
<tr>
<td>0x3B</td>
<td>SFTX</td>
<td>æ¸…é™¤TXÂ FIFOç¼“å†²å™¨ã€‚åªåœ¨IDLEÂ æˆ–Â TXFIFO_UNDERFLOWçŠ¶æ€è¿è¡ŒSFTXã€‚</td>
</tr>
<tr>
<td>0x3C</td>
<td>SWORRST</td>
<td>å¤ä½å®æ—¶æ—¶é’Ÿåˆ°Event1å€¼ã€‚</td>
</tr>
<tr>
<td>0x3D</td>
<td>SMOP</td>
<td>æ— æ“ä½œï¼Œå¯ä»¥ç”¨æ¥è®¿é—®è·å–èŠ¯ç‰‡çŠ¶æ€å­—èŠ‚ã€‚</td>
</tr>
</tbody></table>
<h4 id="é…ç½®å¯„å­˜å™¨"><a href="#é…ç½®å¯„å­˜å™¨" class="headerlink" title="é…ç½®å¯„å­˜å™¨"></a>é…ç½®å¯„å­˜å™¨</h4><hr>
<table>
<thead>
<tr>
<th>åœ°å€</th>
<th>å¯„å­˜å™¨</th>
<th>æè¿°</th>
<th>ä¿æŒåœ¨ä¼‘çœ çŠ¶æ€ä¸­</th>
</tr>
</thead>
<tbody><tr>
<td>0x00</td>
<td>IOCFG2</td>
<td>GDO2è¾“å‡ºå¼•è„šé…ç½®</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x01</td>
<td>IOCFG1</td>
<td>GDO1è¾“å‡ºå¼•è„šé…ç½®</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x02</td>
<td>IOCFG0</td>
<td>GDO0è¾“å‡ºå¼•è„šé…ç½®</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x03</td>
<td>FIFOTHR</td>
<td>RXÂ FIFOå’ŒTXÂ FIFOé—¨é™</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x04</td>
<td>SYNC1</td>
<td>åŒæ­¥å­—ï¼Œé«˜å­—èŠ‚</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x05</td>
<td>SYNC0</td>
<td>åŒæ­¥å­—ï¼Œä½å­—èŠ‚</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x06</td>
<td>PKTLEN</td>
<td>æ•°æ®åŒ…é•¿åº¦</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x07</td>
<td>PKTCTRL1</td>
<td>æ•°æ®åŒ…è‡ªåŠ¨æ§åˆ¶</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x08</td>
<td>PKTCTRL0</td>
<td>æ•°æ®åŒ…è‡ªåŠ¨æ§åˆ¶</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x09</td>
<td>ADDR</td>
<td>è®¾å¤‡åœ°å€</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x0A</td>
<td>CHANNR</td>
<td>ä¿¡é“å·</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x0B</td>
<td>FSCTRL1</td>
<td>é¢‘ç‡åˆæˆå™¨æ§åˆ¶</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x0C</td>
<td>FSCTRL0</td>
<td>é¢‘ç‡åˆæˆå™¨æ§åˆ¶</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x0D</td>
<td>FREQ2</td>
<td>é¢‘ç‡æ§åˆ¶å­—ï¼Œé«˜å­—èŠ‚</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x0E</td>
<td>FREQ1</td>
<td>é¢‘ç‡æ§åˆ¶å­—ï¼Œä¸­é—´å­—èŠ‚</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x0F</td>
<td>FREQ0</td>
<td>é¢‘ç‡æ§åˆ¶å­—ï¼Œä½å­—èŠ‚</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x10</td>
<td>MDMCFG4</td>
<td>Modemé…ç½®</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x11</td>
<td>MDMCFG3</td>
<td>Modemé…ç½®</td>
<td>æ˜¯Â ã€</td>
</tr>
<tr>
<td>0x12</td>
<td>MDMCFG2</td>
<td>Modemé…ç½®</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x13</td>
<td>MDMCFG1</td>
<td>Modemé…ç½®</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x14</td>
<td>MDMCFG0</td>
<td>Modemé…ç½®</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x15</td>
<td>DEVIATN</td>
<td>ModemèƒŒç¦»è®¾å®š</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x16</td>
<td>MCSM2</td>
<td>ä¸»æ— çº¿æ§åˆ¶çŠ¶æ€æœºé…ç½®</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x17</td>
<td>MCSM1</td>
<td>ä¸»æ— çº¿æ§åˆ¶çŠ¶æ€æœºé…ç½®</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x18</td>
<td>MCSM0</td>
<td>ä¸»æ— çº¿æ§åˆ¶çŠ¶æ€æœºé…ç½®</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x19</td>
<td>FOCCFG</td>
<td>é¢‘ç‡åç§»è¡¥å¿é…ç½®</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x1A</td>
<td>BSCFG</td>
<td>ä½åŒæ­¥é…ç½®</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x1B</td>
<td>AGCTRL2</td>
<td>AGCæ§åˆ¶</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x1C</td>
<td>AGCTRL1</td>
<td>AGCæ§åˆ¶</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x1D</td>
<td>AGCTRL0</td>
<td>AGCæ§åˆ¶</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x1E</td>
<td>WOREVT1</td>
<td>äº‹ä»¶0è¶…æ—¶é«˜å­—èŠ‚</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x1F</td>
<td>WOREVT0</td>
<td>äº‹ä»¶0è¶…æ—¶ä½å­—èŠ‚</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x20</td>
<td>WORCTRL</td>
<td>WORæ§åˆ¶</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x21</td>
<td>FREND1</td>
<td>å‰ç«¯RXé…ç½®</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x22</td>
<td>FREND0</td>
<td>å‰ç«¯TXé…ç½®</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x23</td>
<td>FSCAL3</td>
<td>é¢‘ç‡åˆæˆå™¨æ ¡å‡†</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x24</td>
<td>SCAL2</td>
<td>é¢‘ç‡åˆæˆå™¨æ ¡å‡†</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x25</td>
<td>SCAL1</td>
<td>é¢‘ç‡åˆæˆå™¨æ ¡å‡†</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x26</td>
<td>SCAL0</td>
<td>é¢‘ç‡åˆæˆå™¨æ ¡å‡†</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x27</td>
<td>RCCTRL1</td>
<td>RCæŒ¯è¡å™¨é…ç½®</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x28</td>
<td>RCCTRL0</td>
<td>RCæŒ¯è¡å™¨é…ç½®</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>0x29</td>
<td>FSTEST</td>
<td>é¢‘ç‡åˆæˆå™¨æ ¡å‡†æ§åˆ¶</td>
<td>å¦</td>
</tr>
<tr>
<td>0x2A</td>
<td>PTEST</td>
<td>äº§å“æµ‹è¯•</td>
<td>å¦</td>
</tr>
<tr>
<td>0x2B</td>
<td>AGCTEST</td>
<td>AGCæµ‹è¯•</td>
<td>å¦</td>
</tr>
<tr>
<td>0x2C</td>
<td>TEST2</td>
<td>å„æ–¹é¢æµ‹è¯•è®¾å®š</td>
<td>å¦</td>
</tr>
<tr>
<td>0x2D</td>
<td>TEST1</td>
<td>å„æ–¹é¢æµ‹è¯•è®¾å®š</td>
<td>å¦</td>
</tr>
<tr>
<td>0x2E</td>
<td>TEST0</td>
<td>å„æ–¹é¢æµ‹è¯•è®¾å®š</td>
<td>å¦</td>
</tr>
</tbody></table>
<h4 id="çŠ¶æ€å¯„å­˜å™¨æ€»è§ˆ"><a href="#çŠ¶æ€å¯„å­˜å™¨æ€»è§ˆ" class="headerlink" title="çŠ¶æ€å¯„å­˜å™¨æ€»è§ˆ"></a>çŠ¶æ€å¯„å­˜å™¨æ€»è§ˆ</h4><hr>
<table>
<thead>
<tr>
<th>åœ°å€</th>
<th>å¯„å­˜å™¨</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>0x30ï¼ˆ0xF0ï¼‰</td>
<td>PARTNUM</td>
<td>CC1101é›¶ä»¶å·</td>
</tr>
<tr>
<td>0x31ï¼ˆ0xF1ï¼‰</td>
<td>VERSION</td>
<td>å½“å‰ç‰ˆæœ¬å·</td>
</tr>
<tr>
<td>0x32ï¼ˆ0xF2ï¼‰</td>
<td>FREQEST</td>
<td>é¢‘ç‡åç§»è¯„ä¼°</td>
</tr>
<tr>
<td>0x33ï¼ˆ0xF3ï¼‰</td>
<td>LQI</td>
<td>è§£è°ƒå™¨é“¾è·¯è´¨é‡ä¼°è®¡</td>
</tr>
<tr>
<td>0x34ï¼ˆ0xF4ï¼‰</td>
<td>RSSI</td>
<td>æ¥æ”¶ä¿¡å·å¼ºåº¦æŒ‡ç¤º</td>
</tr>
<tr>
<td>0x35ï¼ˆ0xF5ï¼‰</td>
<td>MARCSTATE</td>
<td>æ§åˆ¶çŠ¶æ€æœºçŠ¶æ€</td>
</tr>
<tr>
<td>0x36ï¼ˆ0xF6ï¼‰</td>
<td>WORTIME1</td>
<td>WORå®šæ—¶å™¨é«˜å­—èŠ‚</td>
</tr>
<tr>
<td>0x37ï¼ˆ0xF7ï¼‰</td>
<td>WORTIME0</td>
<td>WORå®šæ—¶å™¨ä½å­—èŠ‚</td>
</tr>
<tr>
<td>0x38ï¼ˆ0xF8ï¼‰</td>
<td>PKTSTATUS</td>
<td>å½“å‰GDOxçŠ¶æ€å’Œæ•°æ®åŒ…çŠ¶æ€</td>
</tr>
<tr>
<td>0x39ï¼ˆ0xF9ï¼‰</td>
<td>VCO_VC_DAC</td>
<td>PLLæ ¡å‡†æ¨¡å—çš„å½“å‰è®¾ç½®</td>
</tr>
<tr>
<td>0x3Aï¼ˆ0xFAï¼‰</td>
<td>TXBYTES</td>
<td>ä¸‹æº¢å’ŒTXÂ FIFOä¸­çš„å­—èŠ‚æ•°</td>
</tr>
<tr>
<td>0x3Bï¼ˆ0xFBï¼‰</td>
<td>RXBYTES</td>
<td>ä¸Šæº¢å’ŒRXÂ FIFOä¸­çš„å­—èŠ‚æ•°</td>
</tr>
<tr>
<td>0x3Cï¼ˆ0xFCï¼‰</td>
<td>RCCTRL1_STATUS</td>
<td>ä¸Šä¸€æ¬¡RCæŒ¯è¡å™¨æ ¡å‡†ç»“æœ</td>
</tr>
<tr>
<td>0x3Dï¼ˆ0xFDï¼‰</td>
<td>RCCTRL0_STATUS</td>
<td>ä¸Šä¸€æ¬¡RCæŒ¯è¡å™¨æ ¡å‡†ç»“æœ</td>
</tr>
<tr>
<td><img src="http://upload-images.jianshu.io/upload_images/1736256-32d8e78d15cce521.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å¯„å­˜å™¨æ€»å›¾"></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>å‚è€ƒï¼š<a href="https://wenku.baidu.com/view/c2b0081b227916888486d769.html">https://wenku.baidu.com/view/c2b0081b227916888486d769.html</a></p>
]]></content>
      <categories>
        <category>å°„é¢‘</category>
      </categories>
      <tags>
        <tag>433MHZ</tag>
        <tag>æ— çº¿</tag>
        <tag>cc1101</tag>
      </tags>
  </entry>
  <entry>
    <title>æ ‘è“æ´¾ä¹‹Zero-W-01</title>
    <url>/2018/09/02/b2a5.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="WiFi-ç›¸å…³"><a href="#WiFi-ç›¸å…³" class="headerlink" title="WiFi ç›¸å…³"></a>WiFi ç›¸å…³</h2><h3 id="iwlist-å‘½ä»¤"><a href="#iwlist-å‘½ä»¤" class="headerlink" title="iwlist å‘½ä»¤"></a>iwlist å‘½ä»¤</h3><hr>
<blockquote>
<p><strong>iwlist å‘½ä»¤ï¼šç”¨äºå¯¹/proc/net/wirelessæ–‡ä»¶è¿›è¡Œåˆ†æï¼Œå¾—å‡ºæ— çº¿ç½‘å¡ç›¸å…³ä¿¡æ¯</strong></p>
</blockquote>
<h4 id="çƒ­ç‚¹æ‰«æ"><a href="#çƒ­ç‚¹æ‰«æ" class="headerlink" title="çƒ­ç‚¹æ‰«æ"></a>çƒ­ç‚¹æ‰«æ</h4><pre class=" language-shell"><code class="language-shell"> sudo iwlist wlan0 scan</code></pre>
<a id="more"></a>

<pre class=" language-shell"><code class="language-shell">pi@raspberrypi:~$ sudo iwlist --help
Usage: iwlist [interface] scanning [essid NNN] [last]
              [interface] frequency
              [interface] channel
              [interface] bitrate
              [interface] rate
              [interface] encryption
              [interface] keys
              [interface] power
              [interface] txpower
              [interface] retry
              [interface] ap
              [interface] accesspoints
              [interface] peers
              [interface] event
              [interface] auth
              [interface] wpakeys
              [interface] genie
              [interface] modulation</code></pre>
<p><strong>è§£è¯´</strong></p>
<pre class=" language-shell"><code class="language-shell"># iwlist wlan0 scanning   æœç´¢å½“å‰æ— çº¿ç½‘ç»œ
# iwlist wlan0 frequency  æ˜¾ç¤ºé¢‘é“ä¿¡æ¯
# iwlist wlan0 rate       æ˜¾ç¤ºè¿æ¥é€Ÿåº¦
# iwlist wlan0 power      æ˜¾ç¤ºç”µæºæ¨¡å¼
# iwlist wlan0 txpower    æ˜¾ç¤ºåŠŸè€—
# iwlist wlan0 retry      æ˜¾ç¤ºé‡è¯•è¿æ¥æ¬¡æ•°(ç½‘ç»œä¸ç¨³å®šæŸ¥çœ‹)
# iwlist wlan0 ap         æ˜¾ç¤ºçƒ­ç‚¹ä¿¡æ¯
# iwlist --help           æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
# iwlist --version        æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯</code></pre>
<h3 id="iwconfig-å‘½ä»¤"><a href="#iwconfig-å‘½ä»¤" class="headerlink" title="iwconfig å‘½ä»¤"></a>iwconfig å‘½ä»¤</h3><hr>
<blockquote>
<p>iwconfig ç³»ç»Ÿé…ç½®æ— çº¿ç½‘ç»œè®¾å¤‡æˆ–æ˜¾ç¤ºæ— çº¿ç½‘ç»œè®¾å¤‡ä¿¡æ¯ã€‚iwconfig å‘½ä»¤ç±»ä¼¼äºifconfigå‘½ä»¤ï¼Œä½†æ˜¯ä»–é…ç½®å¯¹è±¡æ˜¯æ— çº¿ç½‘å¡ï¼Œå®ƒå¯¹ç½‘ç»œè®¾å¤‡è¿›è¡Œæ— çº¿æ“ä½œï¼Œå¦‚è®¾ç½®æ— çº¿é€šä¿¡é¢‘æ®µ</p>
</blockquote>
<pre><code>pi@raspberrypi:~$ iwconfig --help
Usage: iwconfig [interface]
                interface essid &#123;NNN|any|on|off&#125;
                interface mode &#123;managed|ad-hoc|master|...&#125;
                interface freq N.NNN[k|M|G]
                interface channel N
                interface bit &#123;N[k|M|G]|auto|fixed&#125;
                interface rate &#123;N[k|M|G]|auto|fixed&#125;
                interface enc &#123;NNNN-NNNN|off&#125;
                interface key &#123;NNNN-NNNN|off&#125;
                interface power &#123;period N|timeout N|saving N|off&#125;
                interface nickname NNN
                interface nwid &#123;NN|on|off&#125;
                interface ap &#123;N|off|auto&#125;
                interface txpower &#123;NmW|NdBm|off|auto&#125;
                interface sens N
                interface retry &#123;limit N|lifetime N&#125;
                interface rts &#123;N|auto|fixed|off&#125;
                interface frag &#123;N|auto|fixed|off&#125;
                interface modulation &#123;11g|11a|CCK|OFDMg|...&#125;
                interface commit
       Check man pages for more details.</code></pre>
<p><strong>è§£é”</strong></p>
<pre><code>auto        è‡ªåŠ¨æ¨¡å¼
essid       è®¾ç½®ESSID
nwid        è®¾ç½®ç½‘ç»œID
freq        è®¾ç½®æ— çº¿ç½‘ç»œé€šä¿¡é¢‘æ®µ
channel     è®¾ç½®æ— çº¿ç½‘ç»œé€šä¿¡é¢‘æ®µ
sens        è®¾ç½®æ— çº¿ç½‘ç»œè®¾å¤‡çš„æ„ŸçŸ¥é˜€å€¼
mode        è®¾ç½®æ— çº¿ç½‘ç»œè®¾å¤‡çš„é€šä¿¡è®¾å¤‡
ap          å¼ºè¿«æ— çº¿ç½‘å¡å‘ç»™å®šåœ°å€çš„æ¥å…¥ç‚¹æ³¨å†Œ
nick&lt;åå­—&gt;   ä¸ºç½‘å¡è®¾å®šåˆ«å
rate&lt;é€Ÿç‡&gt;   è®¾å®šæ— çº¿ç½‘å¡çš„é€Ÿç‡
rts&lt;é˜€å€¼&gt;    åœ¨ä¼ è¾“æ•°æ®åŒ…ä¹‹å‰å¢åŠ ä¸€æ¬¡æ¡æ‰‹ï¼Œç¡®ä¿¡ä¿¡é“åœ¨æ­£å¸¸çš„
power       æ— çº¿ç½‘å¡çš„åŠŸç‡è®¾ç½®</code></pre>
<h3 id="iw-å‘½ä»¤"><a href="#iw-å‘½ä»¤" class="headerlink" title="iw å‘½ä»¤"></a>iw å‘½ä»¤</h3><hr>
<blockquote>
<p>iw æ˜¯ä¸€ç§æ–°çš„åŸºäº nl80211 çš„ç”¨äºæ— çº¿è®¾å¤‡çš„CLIé…ç½®å®ç”¨ç¨‹åºã€‚å®ƒæ”¯æŒæœ€è¿‘å·²æ·»åŠ åˆ°å†…æ ¸æ‰€æœ‰æ–°çš„é©±åŠ¨ç¨‹åºã€‚é‡‡ç”¨æ— çº¿æ‰©å±•æ¥å£çš„æ—§å·¥å…·iwconfigå·²è¢«åºŸå¼ƒï¼Œå¼ºçƒˆå»ºè®®åˆ‡æ¢åˆ° iw å’Œ nl80211ã€‚</p>
</blockquote>
<pre><code>pi@raspberrypi:~$ iw --help
Usage:  iw [options] command
Options:
        --debug         enable netlink debugging
        --version       show version (4.9)
Commands:
        help [command]
                Print usage for all or a specific command, e.g.
                &quot;help wowlan&quot; or &quot;help wowlan enable&quot;.

        event [-t|-r] [-f]
                Monitor events from the kernel.
                -t - print timestamp
                -r - print relative timstamp
                -f - print full frame for auth/assoc etc.

        features


        commands
                list all known commands and their decimal &amp; hex value

        phy
        list
                List all wireless devices and their capabilities.

        phy &lt;phyname&gt; info
                Show capabilities for the specified wireless device.

        phy &lt;phyname&gt; channels
                Show available channels.

        dev
                List all network interfaces for wireless hardware.

        dev &lt;devname&gt; info
                Show information for this interface.

        dev &lt;devname&gt; del
                Remove this virtual interface

        dev &lt;devname&gt; interface add &lt;name&gt; type &lt;type&gt; [mesh_id &lt;meshid&gt;] [4addr on|off] [flags &lt;flag&gt;*] [addr &lt;mac-addr&gt;]
        phy &lt;phyname&gt; interface add &lt;name&gt; type &lt;type&gt; [mesh_id &lt;meshid&gt;] [4addr on|off] [flags &lt;flag&gt;*] [addr &lt;mac-addr&gt;]
                Add a new virtual interface with the given configuration.
                Valid interface types are: managed, ibss, monitor, mesh, wds.

                The flags are only used for monitor interfaces, valid flags are:
                none:     no special flags
                fcsfail:  show frames with FCS errors
                control:  show control frames
                otherbss: show frames from other BSSes
                cook:     use cooked mode
                active:   use active mode (ACK incoming unicast packets)
                mumimo-groupid &lt;GROUP_ID&gt;: use MUMIMO according to a group id
                mumimo-follow-mac &lt;MAC_ADDRESS&gt;: use MUMIMO according to a MAC address

                The mesh_id is used only for mesh mode.

        dev &lt;devname&gt; ibss join &lt;SSID&gt; &lt;freq in MHz&gt; [NOHT|HT20|HT40+|HT40-|5MHz|10MHz|80MHz] [fixed-freq] [&lt;fixed bssid&gt;] [beacon-interval &lt;TU&gt;] [basic-rates &lt;rate in Mbps,rate2,...&gt;] [mcast-rate &lt;rate in Mbps&gt;] [key d:0:abcde]
                Join the IBSS cell with the given SSID, if it doesn&#39;t exist create
                it on the given frequency. When fixed frequency is requested, don&#39;t
                join/create a cell on a different frequency. When a fixed BSSID is
                requested use that BSSID and do not adopt another cell&#39;s BSSID even
                if it has higher TSF and the same SSID. If an IBSS is created, create
                it with the specified basic-rates, multicast-rate and beacon-interval.

        dev &lt;devname&gt; ibss leave
                Leave the current IBSS cell.

        dev &lt;devname&gt; station set &lt;MAC address&gt; plink_action &lt;open|block&gt;
                Set mesh peer link action for this station (peer).

        dev &lt;devname&gt; station set &lt;MAC address&gt; vlan &lt;ifindex&gt;
                Set an AP VLAN for this station.

        dev &lt;devname&gt; station set &lt;MAC address&gt; mesh_power_mode &lt;active|light|deep&gt;
                Set link-specific mesh power mode for this station

        dev &lt;devname&gt; station dump [-v]
                List all stations known, e.g. the AP on managed interfaces

        dev &lt;devname&gt; station del &lt;MAC address&gt; [subtype &lt;subtype&gt;] [reason-code &lt;code&gt;]
                Remove the given station entry (use with caution!)
                Example subtype values: 0xA (disassociation), 0xC (deauthentication)

        dev &lt;devname&gt; station get &lt;MAC address&gt;
                Get information for a specific station.

        dev &lt;devname&gt; survey dump
                List all gathered channel survey data

        dev &lt;devname&gt; ocb leave
                Leave the OCB mode network.

        dev &lt;devname&gt; ocb join &lt;freq in MHz&gt; &lt;5MHz|10MHz&gt;
                Join the OCB mode network.

        dev &lt;devname&gt; mesh leave
                Leave a mesh.

        dev &lt;devname&gt; mesh join &lt;mesh ID&gt; [[freq &lt;freq in MHz&gt; &lt;NOHT|HT20|HT40+|HT40-|80MHz&gt;] [basic-rates &lt;rate in Mbps,rate2,...&gt;]], [mcast-rate &lt;rate in Mbps&gt;] [beacon-interval &lt;time in TUs&gt;] [dtim-period &lt;value&gt;] [vendor_sync on|off] [&lt;param&gt;=&lt;value&gt;]*
                Join a mesh with the given mesh ID with frequency, basic-rates,
                mcast-rate and mesh parameters. Basic-rates are applied only if
                frequency is provided.

        dev &lt;devname&gt; mpath dump
                List known mesh paths.

        dev &lt;devname&gt; mpath set &lt;destination MAC address&gt; next_hop &lt;next hop MAC address&gt;
                Set an existing mesh path&#39;s next hop.

        dev &lt;devname&gt; mpath new &lt;destination MAC address&gt; next_hop &lt;next hop MAC address&gt;
                Create a new mesh path (instead of relying on automatic discovery).

        dev &lt;devname&gt; mpath del &lt;MAC address&gt;
                Remove the mesh path to the given node.

        dev &lt;devname&gt; mpath get &lt;MAC address&gt;
                Get information on mesh path to the given node.

        dev &lt;devname&gt; mpp dump
                List known mesh proxy paths.

        dev &lt;devname&gt; mpp get &lt;MAC address&gt;
                Get information on mesh proxy path to the given node.

        dev &lt;devname&gt; scan [-u] [freq &lt;freq&gt;*] [ies &lt;hex as 00:11:..&gt;] [meshid &lt;meshid&gt;] [lowpri,flush,ap-force] [randomise[=&lt;addr&gt;/&lt;mask&gt;]] [ssid &lt;ssid&gt;*|passive]
                Scan on the given frequencies and probe for the given SSIDs
                (or wildcard if not given) unless passive scanning is requested.
                If -u is specified print unknown data in the scan results.
                Specified (vendor) IEs must be well-formed.

        dev &lt;devname&gt; scan sched_stop
                Stop an ongoing scheduled scan.

        dev &lt;devname&gt; scan sched_start [interval &lt;in_msecs&gt; | scan_plans [&lt;interval_secs:iterations&gt;*] &lt;interval_secs&gt;] [delay &lt;in_secs&gt;] [freqs &lt;freq&gt;+] [matches [ssid &lt;ssid&gt;]+]] [active [ssid &lt;ssid&gt;]+|passive] [randomise[=&lt;addr&gt;/&lt;mask&gt;]]
                Start a scheduled scan at the specified interval on the given frequencies
                with probing for the given SSIDs (or wildcard if not given) unless passive
                scanning is requested.  If matches are specified, only matching results
                will be returned.

        dev &lt;devname&gt; scan abort
                Abort ongoing scan

        dev &lt;devname&gt; scan trigger [freq &lt;freq&gt;*] [ies &lt;hex as 00:11:..&gt;] [meshid &lt;meshid&gt;] [lowpri,flush,ap-force] [randomise[=&lt;addr&gt;/&lt;mask&gt;]] [ssid &lt;ssid&gt;*|passive]
                Trigger a scan on the given frequencies with probing for the given
                SSIDs (or wildcard if not given) unless passive scanning is requested.

        dev &lt;devname&gt; scan dump [-u]
                Dump the current scan results. If -u is specified, print unknown
                data in scan results.

        phy &lt;phyname&gt; reg get
                Print out the devices&#39; current regulatory domain information.

        reg get
                Print out the kernel&#39;s current regulatory domain information.

        reg set &lt;ISO/IEC 3166-1 alpha2&gt;
                Notify the kernel about the current regulatory domain.

        dev &lt;devname&gt; auth &lt;SSID&gt; &lt;bssid&gt; &lt;type:open|shared&gt; &lt;freq in MHz&gt; [key 0:abcde d:1:6162636465]
                Authenticate with the given network.


        dev &lt;devname&gt; connect [-w] &lt;SSID&gt; [&lt;freq in MHz&gt;] [&lt;bssid&gt;] [key 0:abcde d:1:6162636465]
                Join the network with the given SSID (and frequency, BSSID).
                With -w, wait for the connect to finish or fail.

        dev &lt;devname&gt; disconnect
                Disconnect from the current network.

        dev &lt;devname&gt; link
                Print information about the current link, if any.

        dev &lt;devname&gt; offchannel &lt;freq&gt; &lt;duration&gt;
                Leave operating channel and go to the given channel for a while.

        dev &lt;devname&gt; cqm rssi &lt;threshold|off&gt; [&lt;hysteresis&gt;]
                Set connection quality monitor RSSI threshold.


        phy &lt;phyname&gt; wowlan show
                Show WoWLAN status.

        phy &lt;phyname&gt; wowlan disable
                Disable WoWLAN.

        phy &lt;phyname&gt; wowlan enable [any] [disconnect] [magic-packet] [gtk-rekey-failure] [eap-identity-request] [4way-handshake] [rfkill-release] [net-detect [interval &lt;in_msecs&gt; | scan_plans [&lt;interval_secs:iterations&gt;*] &lt;interval_secs&gt;] [delay &lt;in_secs&gt;] [freqs &lt;freq&gt;+] [matches [ssid &lt;ssid&gt;]+]] [active [ssid &lt;ssid&gt;]+|passive] [randomise[=&lt;addr&gt;/&lt;mask&gt;]]] [tcp &lt;config-file&gt;] [patterns [offset1+]&lt;pattern1&gt; ...]
                Enable WoWLAN with the given triggers.
                Each pattern is given as a bytestring with &#39;-&#39; in places where any byte
                may be present, e.g. 00:11:22:-:44 will match 00:11:22:33:44 and
                00:11:22:33:ff:44 etc.
                Offset and pattern should be separated by &#39;+&#39;, e.g. 18+43:34:00:12 will match &#39;43:34:00:12&#39; after 18 bytes of offset in Rx packet.

                The TCP configuration file contains:
                  source=ip[:port]
                  dest=ip:port@mac
                  data=&lt;hex data packet&gt;
                  data.interval=seconds
                  [wake=&lt;hex packet with masked out bytes indicated by &#39;-&#39;&gt;]
                  [data.seq=len,offset[,start]]
                  [data.tok=len,offset,&lt;token stream&gt;]

                Net-detect configuration example:
                 iw phy0 wowlan enable net-detect interval 5000 delay 30 freqs 2412 2422 matches ssid foo ssid bar

        phy &lt;phyname&gt; coalesce show
                Show coalesce status.

        phy &lt;phyname&gt; coalesce disable
                Disable coalesce.

        phy &lt;phyname&gt; coalesce enable &lt;config-file&gt;
                Enable coalesce with given configuration.
                The configuration file contains coalesce rules:
                  delay=&lt;delay&gt;
                  condition=&lt;condition&gt;
                  patterns=&lt;[offset1+]&lt;pattern1&gt;,&lt;[offset2+]&lt;pattern2&gt;,...&gt;
                  delay=&lt;delay&gt;
                  condition=&lt;condition&gt;
                  patterns=&lt;[offset1+]&lt;pattern1&gt;,&lt;[offset2+]&lt;pattern2&gt;,...&gt;
                  ...
                delay: maximum coalescing delay in msec.
                condition: 1/0 i.e. &#39;not match&#39;/&#39;match&#39; the patterns
                patterns: each pattern is given as a bytestring with &#39;-&#39; in
                places where any byte may be present, e.g. 00:11:22:-:44 will
                match 00:11:22:33:44 and 00:11:22:33:ff:44 etc. Offset and
                pattern should be separated by &#39;+&#39;, e.g. 18+43:34:00:12 will
                match &#39;43:34:00:12&#39; after 18 bytes of offset in Rx packet.


        dev &lt;devname&gt; roc start &lt;freq&gt; &lt;time in ms&gt;


        wdev &lt;idx&gt; p2p stop


        wdev &lt;idx&gt; p2p start


        dev &lt;devname&gt; vendor recvbin &lt;oui&gt; &lt;subcmd&gt; &lt;filename|-|hex data&gt;


        dev &lt;devname&gt; vendor recv &lt;oui&gt; &lt;subcmd&gt; &lt;filename|-|hex data&gt;


        dev &lt;devname&gt; vendor send &lt;oui&gt; &lt;subcmd&gt; &lt;filename|-|hex data&gt;


        phy &lt;phyname&gt; set antenna &lt;bitmap&gt; | all | &lt;tx bitmap&gt; &lt;rx bitmap&gt;
                Set a bitmap of allowed antennas to use for TX and RX.
                The driver may reject antenna configurations it cannot support.

        dev &lt;devname&gt; set txpower &lt;auto|fixed|limit&gt; [&lt;tx power in mBm&gt;]
                Specify transmit power level and setting type.

        phy &lt;phyname&gt; set txpower &lt;auto|fixed|limit&gt; [&lt;tx power in mBm&gt;]
                Specify transmit power level and setting type.

        phy &lt;phyname&gt; set distance &lt;auto|distance&gt;
                Enable ACK timeout estimation algorithm (dynack) or set appropriate
                coverage class for given link distance in meters.
                To disable dynack set valid value for coverage class.
                Valid values: 0 - 114750

        phy &lt;phyname&gt; set coverage &lt;coverage class&gt;
                Set coverage class (1 for every 3 usec of air propagation time).
                Valid values: 0 - 255.

        phy &lt;phyname&gt; set netns &#123; &lt;pid&gt; | name &lt;nsname&gt; &#125;
                Put this wireless device into a different network namespace:
                    &lt;pid&gt;    - change network namespace by process id
                    &lt;nsname&gt; - change network namespace by name from /run/netns
                               or by absolute path (man ip-netns)


        phy &lt;phyname&gt; set retry [short &lt;limit&gt;] [long &lt;limit&gt;]
                Set retry limit.

        phy &lt;phyname&gt; set rts &lt;rts threshold|off&gt;
                Set rts threshold.

        phy &lt;phyname&gt; set frag &lt;fragmentation threshold|off&gt;
                Set fragmentation threshold.

        dev &lt;devname&gt; set channel &lt;channel&gt; [HT20|HT40+|HT40-]
        phy &lt;phyname&gt; set channel &lt;channel&gt; [HT20|HT40+|HT40-]
        dev &lt;devname&gt; set freq &lt;freq&gt; [HT20|HT40+|HT40-]
        dev &lt;devname&gt; set freq &lt;control freq&gt; [20|40|80|80+80|160] [&lt;center freq 1&gt;] [&lt;center freq 2&gt;]
        phy &lt;phyname&gt; set freq &lt;freq&gt; [HT20|HT40+|HT40-]
                Set frequency/channel the hardware is using, including HT
                configuration.

        phy &lt;phyname&gt; set name &lt;new name&gt;
                Rename this wireless device.

        dev &lt;devname&gt; set mcast_rate &lt;rate in Mbps&gt;
                Set the multicast bitrate.

        dev &lt;devname&gt; set peer &lt;MAC address&gt;
                Set interface WDS peer.

        dev &lt;devname&gt; set noack_map &lt;map&gt;
                Set the NoAck map for the TIDs. (0x0009 = BE, 0x0006 = BK, 0x0030 = VI, 0x00C0 = VO)

        dev &lt;devname&gt; set 4addr &lt;on|off&gt;
                Set interface 4addr (WDS) mode.

        dev &lt;devname&gt; set type &lt;type&gt;
                Set interface type/mode.
                Valid interface types are: managed, ibss, monitor, mesh, wds.

        dev &lt;devname&gt; set meshid &lt;meshid&gt;
        dev &lt;devname&gt; set monitor &lt;flag&gt;*
                Set monitor flags. Valid flags are:
                none:     no special flags
                fcsfail:  show frames with FCS errors
                control:  show control frames
                otherbss: show frames from other BSSes
                cook:     use cooked mode
                active:   use active mode (ACK incoming unicast packets)
                mumimo-groupid &lt;GROUP_ID&gt;: use MUMIMO according to a group id
                mumimo-follow-mac &lt;MAC_ADDRESS&gt;: use MUMIMO according to a MAC address

        dev &lt;devname&gt; set mesh_param &lt;param&gt;=&lt;value&gt; [&lt;param&gt;=&lt;value&gt;]*
                Set mesh parameter (run command without any to see available ones).

        dev &lt;devname&gt; set power_save &lt;on|off&gt;
                Set power save state to on or off.

        dev &lt;devname&gt; set bitrates [legacy-&lt;2.4|5&gt; &lt;legacy rate in Mbps&gt;*] [ht-mcs-&lt;2.4|5&gt; &lt;MCS index&gt;*] [vht-mcs-&lt;2.4|5&gt; &lt;NSS:MCSx,MCSy... | NSS:MCSx-MCSy&gt;*] [sgi-2.4|lgi-2.4] [sgi-5|lgi-5]
                Sets up the specified rate masks.
                Not passing any arguments would clear the existing mask (if any).

        dev &lt;devname&gt; get mesh_param [&lt;param&gt;]
                Retrieve mesh parameter (run command without any to see available ones).

        dev &lt;devname&gt; get power_save &lt;param&gt;
                Retrieve power save state.


Commands that use the netdev (&#39;dev&#39;) can also be given the
&#39;wdev&#39; instead to identify the device.

You can omit the &#39;phy&#39; or &#39;dev&#39; if the identification is unique,
e.g. &quot;iw wlan0 info&quot; or &quot;iw phy0 info&quot;. (Don&#39;t when scripting.)

Do NOT screenscrape this tool, we don&#39;t consider its output stable.</code></pre>
<p><strong>è§£è¯´</strong></p>
<pre><code># iw list                 # è·å¾—æ‰€æœ‰è®¾å¤‡çš„åŠŸèƒ½ï¼Œå¦‚å¸¦å®½ä¿¡æ¯ï¼ˆ2.4GHzï¼Œå’Œ5GHzï¼‰ï¼Œå’Œ802.11nçš„ä¿¡æ¯
# iw dev wlan0 scan       # æ‰«æ
# iw event                # ç›‘å¬äº‹ä»¶
# iw dev wlan0 link       # è·å¾—é“¾è·¯çŠ¶æ€
# iw wlan0 connect foo    # è¿æ¥åˆ°å·²ç¦ç”¨åŠ å¯†çš„APï¼Œè¿™é‡Œå®ƒçš„SSIDæ˜¯foo
# iw wlan0 connect foo 2432  # å‡è®¾ä½ æœ‰ä¸¤ä¸ªAP SSID éƒ½æ˜¯ foo ï¼Œä½ çŸ¥é“ä½ è¦è¿æ¥çš„æ˜¯åœ¨ 2432 é¢‘é“
# iw wlan0 connect foo keys 0:abcde d:1:0011223344    # è¿æ¥åˆ°ä½¿ç”¨WEPçš„AP
# iw dev wlan1 station dump    # è·å–station çš„ç»Ÿè®¡ä¿¡æ¯
# iw dev wlan1 station get     # è·å¾—stationå¯¹åº”çš„peerç»Ÿè®¡ä¿¡æ¯
# iw wlan0 set bitrates legacy-2.4 12 18 24    # ä¿®æ”¹ä¼ è¾“æ¯”ç‰¹ç‡
# iw dev wlan0 set bitrates mcs-5 4    # ä¿®æ”¹tx HT MCSçš„æ¯”ç‰¹ç‡</code></pre>
<h3 id="WiFi-è¿æ¥è®¾ç½®"><a href="#WiFi-è¿æ¥è®¾ç½®" class="headerlink" title="WiFi è¿æ¥è®¾ç½®"></a>WiFi è¿æ¥è®¾ç½®</h3><hr>
<h4 id="æ–¹æ³•ä¸€ã€-ä¿®æ”¹WiFiè¿æ¥é…ç½®æ–‡ä»¶"><a href="#æ–¹æ³•ä¸€ã€-ä¿®æ”¹WiFiè¿æ¥é…ç½®æ–‡ä»¶" class="headerlink" title="æ–¹æ³•ä¸€ã€ ä¿®æ”¹WiFiè¿æ¥é…ç½®æ–‡ä»¶"></a>æ–¹æ³•ä¸€ã€ ä¿®æ”¹WiFiè¿æ¥é…ç½®æ–‡ä»¶</h4><ul>
<li><p>ä¿®æ”¹ /etc/network/interfaces æ–‡ä»¶(è¿™ä¸ªæ–‡ä»¶æ˜¯å®šä¹‰ç½‘ç»œé…ç½®çš„)</p>
<pre><code>    sudo nano /etc/network/interfaces</code></pre>
<p>ä¿®æ”¹åæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre class=" language-C"><code class="language-C">    auto lo
    iface lo inet loopback
    iface eth0 inet dhcp

    auto wlan0
    allow-hotplug wlan0
    iface wlan0 inet dhcp
    wpa-ssid "JoStudio"
    wpa-psk "password"</code></pre>
</li>
</ul>
<p><strong>è¯´æ˜:</strong><br>    <code>C     auto lo  //è¡¨ç¤ºä½¿ç”¨localhost     iface eth0 inet dhcp  //è¡¨ç¤ºå¦‚æœæœ‰ç½‘å¡ech0, åˆ™ç”¨dhcpè·å¾—IPåœ°å€ (è¿™ä¸ªç½‘å¡æ˜¯æœ¬æœºçš„ç½‘å¡ï¼Œè€Œä¸æ˜¯WIFIç½‘å¡)     auto wlan0   //è¡¨ç¤ºå¦‚æœæœ‰wlanè®¾å¤‡ï¼Œä½¿ç”¨wlan0è®¾å¤‡å     allow-hotplug wlan0 //è¡¨ç¤ºwlanè®¾å¤‡å¯ä»¥çƒ­æ’æ‹¨     iface wlan0 inet dhcp //è¡¨ç¤ºå¦‚æœæœ‰WLANç½‘å¡wlan0 (å°±æ˜¯WIFIç½‘å¡), åˆ™ç”¨dhcpè·å¾—IPåœ°å€     wpa-ssid &quot;JoStudio&quot;  //è¡¨ç¤ºè¿æ¥SSIDåä¸º JoStudioçš„WIFIç½‘ç»œã€‚  JoStudioæ˜¯æˆ‘çš„WIFIç½‘SSIDåç§°ï¼Œå¦‚æœæ˜¯åˆ«çš„ï¼Œè¯·æ›´æ”¹     wpa-psk &quot;password&quot; //è¡¨ç¤ºè¿æ¥WIFIç½‘ç»œæ—¶ï¼Œä½¿ç”¨wpa-pskè®¤è¯æ–¹å¼ï¼Œè®¤è¯å¯†ç æ˜¯passwordã€‚å¦‚æœæ˜¯åˆ«çš„å¯†ç ï¼Œè¯·æ›´æ”¹     </code></p>
<p>ã€€ã€€&gt;ä¸Šè¿°å®šä¹‰åï¼Œå¦‚æœæœ‰ç½‘çº¿è¿æ¥ï¼Œåˆ™é‡‡å–DHCPè‡ªåŠ¨è¿æ¥ã€‚å¦‚æœæœ‰åä¸ºJoStudioçš„WIFIç½‘ç»œï¼Œåˆ™è‡ªåŠ¨è¿å…¥ï¼Œé‡‡å–DHCPè·å¾—åœ°å€ã€‚</p>
<ul>
<li>ç«‹å³è¿æ¥WIFIç½‘ç»œ</li>
</ul>
<p>ã€€ã€€ä½¿ç”¨å‘½ä»¤<br>    <code>ã€€ã€€     sudo /etc/init.d/networking restart    </code><br>ã€€ã€€æˆåŠŸåï¼Œç”¨ ifconfig å‘½ä»¤å¯ä»¥çœ‹åˆ° wlan0 è®¾å¤‡ï¼Œä¸”æœ‰äº†IPåœ°å€(å·²è¿æ¥)</p>
<ul>
<li>ä»¥åæ¯æ¬¡å¯åŠ¨ï¼Œç³»ç»Ÿéƒ½å°†è‡ªåŠ¨è¿æ¥åˆ°åä¸ºJoStudioçš„WIFIç½‘ç»œ</li>
</ul>
<h4 id="æ–¹æ³•äºŒã€-wpa-cliå‘½ä»¤"><a href="#æ–¹æ³•äºŒã€-wpa-cliå‘½ä»¤" class="headerlink" title="æ–¹æ³•äºŒã€ wpa_cliå‘½ä»¤"></a>æ–¹æ³•äºŒã€ wpa_cliå‘½ä»¤</h4><p>å‚è€ƒ: <a href="http://shumeipai.nxez.com/2013/09/30/use-wpa-cli-command-line-to-configure-wi-fi-wireless-lan.html">http://shumeipai.nxez.com/2013/09/30/use-wpa-cli-command-line-to-configure-wi-fi-wireless-lan.html</a></p>
<blockquote>
<p>wpa_cliæ˜¯å‘½ä»¤è¡Œç•Œé¢ä¸‹çš„æ— çº¿ç½‘è¿æ¥å·¥å…·ã€‚<br>é€šè¿‡wpa_cliç®¡ç†å¤‡é€‰çš„ç½‘ç»œåˆ—è¡¨ã€‚åœ¨å¤‡é€‰ç½‘ç»œä¸­å¯ç”¨çš„ç½‘ç»œï¼Œæ ‘è“æ´¾ä¼šè‡ªåŠ¨è¯•å›¾è¿æ¥ã€‚</p>
</blockquote>
<ol>
<li><p>å¯åŠ¨wpa_cli å‘½ä»¤ç•Œé¢</p>
<pre><code>    sudo wpa_cli</code></pre>
</li>
<li><p>å¸¸ç”¨å‘½ä»¤</p>
</li>
</ol>
<hr>
<table>
<thead>
<tr>
<th align="left">å‘½ä»¤</th>
<th align="left">å‘½ä»¤ç¼©å†™</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">status</td>
<td align="left">stat</td>
<td align="left">æ˜¾ç¤ºå½“å‰è¿æ¥çš„çŠ¶æ€ä¿¡æ¯</td>
</tr>
<tr>
<td align="left">ping</td>
<td align="left"></td>
<td align="left">æµ‹è¯•æŒ‡ä»¤ï¼Œçœ‹serviceç«¯æ˜¯å¦æœ‰å“åº”</td>
</tr>
<tr>
<td align="left">mib</td>
<td align="left"></td>
<td align="left">Request a list of MIB variables (dot1x, dot11).</td>
</tr>
<tr>
<td align="left">interface</td>
<td align="left"></td>
<td align="left">æ˜¾ç¤ºå½“å‰å¯ç”¨çš„interfaceï¼Œwpa_supplicant æ”¯æŒå¤šinterface</td>
</tr>
<tr>
<td align="left">set</td>
<td align="left"></td>
<td align="left">è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œå¦‚æœä¸å¸¦å‚æ•°ï¼Œæ˜¾ç¤ºå½“å‰ç¯å¢ƒå˜é‡</td>
</tr>
<tr>
<td align="left">logon</td>
<td align="left"></td>
<td align="left">IEEE 802.1X EAPOL state machine logon</td>
</tr>
<tr>
<td align="left">logoff</td>
<td align="left"></td>
<td align="left">IEEE 802.1X EAPOL state machine logff</td>
</tr>
<tr>
<td align="left">reassociate</td>
<td align="left">reas</td>
<td align="left">è®¾ç½®è¿æ¥æ ‡ç­¾ï¼Œå¼€å¯æ‰«æï¼ŒæŸ¥æ‰¾å¯ç”¨çš„APè¿›è¡Œè¿æ¥ï¼Œå¦‚æœå½“å‰æ˜¯è¿æ¥çŠ¶æ€ï¼Œåªä¼šæ‰«æä¸€æ¬¡ã€‚</td>
</tr>
<tr>
<td align="left">preauthenticate</td>
<td align="left">pr</td>
<td align="left">é’ˆå¯¹ä¸€ä¸ªAPè¿›è¡Œé¢„è®¤è¯</td>
</tr>
<tr>
<td align="left">identity</td>
<td align="left">id</td>
<td align="left">è®¾ç½®identity</td>
</tr>
<tr>
<td align="left">password</td>
<td align="left"></td>
<td align="left">è®¾ç½®å¯†ç </td>
</tr>
<tr>
<td align="left">disconnect</td>
<td align="left">disc</td>
<td align="left">æ–­å¼€è¿æ¥ï¼Œå¹¶ä¸”ä¼šå‘ŠçŸ¥wpa_supplicant ä¸åœ¨è¿æ¥å…¶ä»–AP</td>
</tr>
<tr>
<td align="left">reconnect</td>
<td align="left">reconn</td>
<td align="left">é‡æ–°è¿æ¥ï¼Œåœ¨è¿è¡Œä¸Šé¢çš„è¿‡ç¨‹åï¼Œè¿è¡Œæ­¤å‘½ä»¤</td>
</tr>
<tr>
<td align="left">quit</td>
<td align="left">q</td>
<td align="left">exits wpa_cli</td>
</tr>
<tr>
<td align="left">terminate</td>
<td align="left">term</td>
<td align="left">kills wpa_supplicant</td>
</tr>
<tr>
<td align="left">reconfigure</td>
<td align="left">recon</td>
<td align="left">é‡æ–°å¯¼å…¥é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åœ¨è°ƒè¯•æ—¶ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶åè¿è¡Œæ­¤å‘½ä»¤ï¼Œä½¿é…ç½®æ–‡ä»¶ç”Ÿæ•ˆ</td>
</tr>
<tr>
<td align="left">scan</td>
<td align="left">scan</td>
<td align="left">æ‰«æ</td>
</tr>
<tr>
<td align="left">scan_result</td>
<td align="left">scan_r</td>
<td align="left">æ˜¾ç¤ºæ‰«æç»“æœ</td>
</tr>
<tr>
<td align="left">bss</td>
<td align="left"></td>
<td align="left">è·å–æ‰«æç»“æœ æŸä¸€ä¸ªçƒ­ç‚¹çš„å…·ä½“ä¿¡æ¯</td>
</tr>
<tr>
<td align="left">list_networks</td>
<td align="left">list_n</td>
<td align="left">å·²ç»ä¿å­˜é…ç½®æ–‡ä»¶ä¸­çš„AP</td>
</tr>
<tr>
<td align="left">bssid</td>
<td align="left"></td>
<td align="left">é…ç½®ssidçš„bssid</td>
</tr>
<tr>
<td align="left">add_network</td>
<td align="left">add_n</td>
<td align="left">æ·»åŠ ä¸€ä¸ªAPé…ç½®ï¼Œåœ¨frameworkè¿˜æ²¡è°ƒé€šä¹‹å‰ï¼Œå¯ä»¥ç”¨æ­¤å‘½ä»¤è¿›è¡Œé…ç½®</td>
</tr>
<tr>
<td align="left">set_network</td>
<td align="left">set_n</td>
<td align="left">è®¾ç½®apçš„å±æ€§ï¼Œç”¨set_network ä¸æ¥å‚æ•°ï¼Œå¯ä»¥çœ‹åˆ°æ‰€æœ‰å¯ç”¨ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td align="left">select_network</td>
<td align="left">select_n</td>
<td align="left">é€‰æ‹©ä¸€ä¸ªå·²ç»é…ç½®çš„APè¿›è¡Œè¿æ¥ï¼Œè¿™ä¸ªå‘½ä»¤ç”¨çš„æ¯”è¾ƒå¤šã€‚ä¸Šé¢set_n å‘½ä»¤è¿›è¡Œé…ç½®åï¼Œå¯ä»¥ç”¨è¿™å‘½ä»¤è¿›è¡Œè¿æ¥</td>
</tr>
<tr>
<td align="left">enable_network</td>
<td align="left">enable_n</td>
<td align="left">å°†network çš„æ ‡å¿—ä½:disable ç½®0ï¼Œè¯¥ä½ä¸º1æ—¶ï¼Œwifiåœ¨æ–­å¼€è¿æ¥çŠ¶æ€ï¼Œä¸ä¼šå»ä¸»åŠ¨è¿æ¥è¯¥çƒ­ç‚¹ã€‚å¦‚æœwifiä¸ä¸»åŠ¨è¿æ¥ä»»ä½•çƒ­ç‚¹ï¼Œå¯ä»¥æŸ¥çœ‹é…ç½®æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td align="left">disable_network</td>
<td align="left">disable_n</td>
<td align="left">å¯¹åº”ä¸Šé¢ disable_network network_id</td>
</tr>
<tr>
<td align="left">remove_network</td>
<td align="left">remove_n</td>
<td align="left">å¿˜è®°ç½‘ç»œ remove_network id ä¼šåˆ é™¤å¯¹åº”networké…ç½®</td>
</tr>
<tr>
<td align="left">get_network</td>
<td align="left">get_n</td>
<td align="left">è·å–networkçš„å±æ€§ å¯¹åº”ä¹‹å‰çš„set_network</td>
</tr>
<tr>
<td align="left">wps_pbc</td>
<td align="left"></td>
<td align="left">wps  push buttonåŠŸèƒ½</td>
</tr>
<tr>
<td align="left">wps_pin</td>
<td align="left"></td>
<td align="left">Wps pin åŠŸèƒ½</td>
</tr>
<tr>
<td align="left">save_config</td>
<td align="left">save_c</td>
<td align="left">ä¿å­˜ä¿¡æ¯åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œæ¯æ¬¡ä¿®æ”¹é…ç½®åè®°å¾—ç”¨</td>
</tr>
</tbody></table>
<ol start="3">
<li><p>Example wpa_cli</p>
<pre><code>for AP that doesn`t have encryption
&gt;add_network      (It will display a network id for you, assume it returns 0)
&gt;set_network 0 ssid â€œ666â€
&gt;set_network 0 key_mgmt NONE
&gt;enable_network 0
&gt;quit

if normal, we have connectted to the AP â€œ666â€, now you need a IP to access internet, for example:
dhcpcd wlan0
if everything is ok, it will get an IP &amp; can access internet

for AP that has WEP
&gt;add_network      (assume returns 1)
&gt;set_network 1 ssid â€œ666â€
&gt;set_network 1 key_mgmt NONE
&gt;set_network 1 wep_key0 â€œyour ap passworkâ€(if usting ASCII, it need double quotation marks, if using hex, then don`t need the double quotation marks)
&gt;set_network 1 wep_tx_keyidx 0
&gt;select_network 1  (optional, remember, if you are connecting with another AP, you should select it to disable the another)
&gt;enable_network 1
and then ,get an IP to access internet

for AP that has WPA-PSK/WPA2-PSK
&gt;add_network      (assume returns 2)
&gt;set_network 2 ssid â€œ666â€
&gt;set_network 2 psk â€œyour pre-shared keyâ€
&gt;select_network 2  (optional, remember, if you are connecting with another AP, you should select it to disable the another)
&gt;enable_network 2
</code></pre>
</li>
<li><p>ç”Ÿæ•ˆ</p>
<pre><code>pi@raspberrypi:~$ sudo /etc/init.d/networking restart
pi@raspberrypi:~$ sudo service networking restart  #è·Ÿä¸Šé¢è¡Œçš„ä½œç”¨ä¸€æ ·ã€‚
pi@raspberrypi:~$ sudo ifdown wlan0   #æœ‰æ—¶éœ€è¦æ‰§è¡Œ æˆ–è€… ä¸‹ä¸€è¡Œå‘½ä»¤æ‰èƒ½å‘ç”Ÿä½œç”¨ã€‚
pi@raspberrypi:~$ sudo ifup wlan0        #å»ºè®®å°è¯•æœ¬æ¡å‘½ä»¤
pi@raspberrypi:~$ wpa_cli status      #æŸ¥çœ‹è¿æ¥çŠ¶æ€</code></pre>
</li>
</ol>
<h4 id="æ–¹æ³•ä¸‰ã€-æ–°åˆ·ç³»ç»ŸWiFiè¿æ¥è®¾ç½®"><a href="#æ–¹æ³•ä¸‰ã€-æ–°åˆ·ç³»ç»ŸWiFiè¿æ¥è®¾ç½®" class="headerlink" title="æ–¹æ³•ä¸‰ã€ æ–°åˆ·ç³»ç»ŸWiFiè¿æ¥è®¾ç½®"></a>æ–¹æ³•ä¸‰ã€ æ–°åˆ·ç³»ç»ŸWiFiè¿æ¥è®¾ç½®</h4><p>ç”¨æˆ·å¯ä»¥åœ¨æœªå¯åŠ¨æ ‘è“æ´¾çš„çŠ¶æ€ä¸‹å•ç‹¬ä¿®æ”¹ <code>/boot/wpa_supplicant.conf</code> æ–‡ä»¶é…ç½® WiFi çš„ SSID å’Œå¯†ç ï¼Œè¿™æ ·æ ‘è“æ´¾å¯åŠ¨åä¼šè‡ªè¡Œè¯»å– <code>wpa_supplicant.conf</code> é…ç½®æ–‡ä»¶è¿æ¥ WiFi è®¾å¤‡ã€‚</p>
<pre class=" language-shell"><code class="language-shell">country=CN
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1

network=&#123;
ssid="AlexLam"
psk="123456"
key_mgmt=WPA-PSK
priority=3
&#125;

network=&#123;
ssid="CMCC-KHLK"
psk="123456"
key_mgmt=WPA-PSK
priority=2
&#125;

network=&#123;
ssid="360WiFi-AlexLin"
psk="123456"
key_mgmt=WPA-PSK
priority=1
&#125;</code></pre>
<h5 id="è§£è¯´"><a href="#è§£è¯´" class="headerlink" title="è§£è¯´"></a>è§£è¯´</h5><ul>
<li>ssid:ç½‘ç»œçš„ssid</li>
<li>psk:å¯†ç </li>
<li>priority:è¿æ¥ä¼˜å…ˆçº§ï¼Œæ•°å­—è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ï¼ˆä¸å¯ä»¥æ˜¯è´Ÿæ•°ï¼‰</li>
<li>scan_ssid:è¿æ¥éšè—WiFiæ—¶éœ€è¦æŒ‡å®šè¯¥å€¼ä¸º1</li>
</ul>
<p><strong>å¦‚æœä½ çš„ WiFi æ²¡æœ‰å¯†ç </strong><br></p>
<pre><code>network=&#123;
ssid=&quot;ä½ çš„æ— çº¿ç½‘ç»œåç§°ï¼ˆssidï¼‰
&quot;key_mgmt=NONE
&#125;</code></pre>
<p><strong>å¦‚æœä½ çš„ WiFi ä½¿ç”¨WEPåŠ å¯†</strong><br></p>
<pre><code>network=&#123;
ssid=&quot;ä½ çš„æ— çº¿ç½‘ç»œåç§°ï¼ˆssidï¼‰&quot;
key_mgmt=NONEwep_key0=&quot;ä½ çš„wifiå¯†ç &quot;
&#125;</code></pre>
<p><strong>å¦‚æœä½ çš„ WiFi ä½¿ç”¨WPA/WPA2åŠ å¯†</strong><br></p>
<pre><code>network=&#123;
ssid=&quot;ä½ çš„æ— çº¿ç½‘ç»œåç§°ï¼ˆssidï¼‰&quot;
key_mgmt=WPA-PSKpsk=&quot;ä½ çš„wifiå¯†ç &quot;
&#125;</code></pre>
<h2 id="åˆ‡æ¢å›½å†…æº"><a href="#åˆ‡æ¢å›½å†…æº" class="headerlink" title="åˆ‡æ¢å›½å†…æº"></a>åˆ‡æ¢å›½å†…æº</h2><h3 id="æŸ¥çœ‹è‡ªå·±çš„ç‰ˆæœ¬ç±»å‹"><a href="#æŸ¥çœ‹è‡ªå·±çš„ç‰ˆæœ¬ç±»å‹" class="headerlink" title="æŸ¥çœ‹è‡ªå·±çš„ç‰ˆæœ¬ç±»å‹"></a>æŸ¥çœ‹è‡ªå·±çš„ç‰ˆæœ¬ç±»å‹</h3><pre><code>    pi@raspberrypi:~$ lsb_release -a
    No LSB modules are available.
    Distributor ID: Raspbian
    Description:    Raspbian GNU/Linux 9.4 (stretch)
    Release:        9.4
    Codename:       stretch</code></pre>
<h3 id="ä¿®æ”¹é…ç½®"><a href="#ä¿®æ”¹é…ç½®" class="headerlink" title="ä¿®æ”¹é…ç½®"></a>ä¿®æ”¹é…ç½®</h3><p>éœ€è¦ä¿®æ”¹çš„åœ°æ–¹æœ‰ä¸¤å¤„</p>
<pre><code>    /etc/apt/sources.list
    /etc/apt/sources.list.d/raspi.list</code></pre>
<p>/etc/apt/sources.list</p>
<pre class=" language-shell"><code class="language-shell">#deb http://raspbian.raspberrypi.org/raspbian/ stretch main contrib non-free rpi
# Uncomment line below then 'apt-get update' to enable 'apt-get source'
#deb-src http://raspbian.raspberrypi.org/raspbian/ stretch main contrib non-freee rpi
deb http://mirrors.ustc.edu.cn/raspbian/raspbian/ stretch main contrib non-free rpi</code></pre>
<p>/etc/apt/sources.list.d/raspi.list</p>
<pre class=" language-shell"><code class="language-shell">#deb http://archive.raspberrypi.org/debian/ stretch main ui
# Uncomment line below then 'apt-get update' to enable 'apt-get source'
#deb-src http://archive.raspberrypi.org/debian/ stretch main ui
deb http://mirrors.ustc.edu.cn/archive.raspberrypi.org/ stretch main ui
deb-src http://mirrors.ustc.edu.cn/archive.raspberrypi.org/ stretch main ui</code></pre>
<h3 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h3><pre><code>  sudo apt-get update
  sudo apt-get upgrade</code></pre>
<h2 id="samba"><a href="#samba" class="headerlink" title="samba"></a>samba</h2><hr>
<h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><pre><code>sudo apt-get install samba</code></pre>
<p>è¿‡ç¨‹æ—¥å¿—</p>
<pre class=" language-shell"><code class="language-shell">pi@raspberrypi:~$ sudo apt-get install samba
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following additional packages will be installed:
  attr libaio1 libfile-copy-recursive-perl python-dnspython python-ldb
  python-samba python-tdb samba-common-bin samba-dsdb-modules
  samba-vfs-modules tdb-tools update-inetd
Suggested packages:
  python-gpgme bind9 bind9utils ctdb ldb-tools ntp | chrony smbldap-tools
  winbind ufw heimdal-clients
The following NEW packages will be installed:
  attr libaio1 libfile-copy-recursive-perl python-dnspython python-ldb
  python-samba python-tdb samba samba-common-bin samba-dsdb-modules
  samba-vfs-modules tdb-tools update-inetd
0 upgraded, 13 newly installed, 0 to remove and 0 not upgraded.
Need to get 3,208 kB/3,473 kB of archives.
After this operation, 23.7 MB of additional disk space will be used.
Do you want to continue? [Y/n]
Get:1 http://mirrors.ustc.edu.cn/raspbian/raspbian stretch/main armhf python-samba armhf 2:4.5.12+dfsg-2+deb9u3 [1,143 kB]
Get:2 http://mirrors.ustc.edu.cn/raspbian/raspbian stretch/main armhf samba-common-bin armhf 2:4.5.12+dfsg-2+deb9u3 [556 kB]
Get:3 http://mirrors.ustc.edu.cn/raspbian/raspbian stretch/main armhf samba armhf 2:4.5.12+dfsg-2+deb9u3 [871 kB]
Get:4 http://mirrors.ustc.edu.cn/raspbian/raspbian stretch/main armhf samba-dsdb-modules armhf 2:4.5.12+dfsg-2+deb9u3 [304 kB]
Get:5 http://mirrors.ustc.edu.cn/raspbian/raspbian stretch/main armhf samba-vfs-modules armhf 2:4.5.12+dfsg-2+deb9u3 [334 kB]
Fetched 3,208 kB in 8s (383 kB/s)
Preconfiguring packages ...
Selecting previously unselected package python-dnspython.
(Reading database ... 126437 files and directories currently installed.)
Preparing to unpack .../00-python-dnspython_1.15.0-1_all.deb ...
Unpacking python-dnspython (1.15.0-1) ...
Selecting previously unselected package python-ldb.
Preparing to unpack .../01-python-ldb_2%3a1.1.27-1_armhf.deb ...
Unpacking python-ldb (2:1.1.27-1) ...
Selecting previously unselected package python-tdb.
Preparing to unpack .../02-python-tdb_1.3.11-2_armhf.deb ...
Unpacking python-tdb (1.3.11-2) ...
Selecting previously unselected package python-samba.
Preparing to unpack .../03-python-samba_2%3a4.5.12+dfsg-2+deb9u3_armhf.deb ...
Unpacking python-samba (2:4.5.12+dfsg-2+deb9u3) ...
Selecting previously unselected package samba-common-bin.
Preparing to unpack .../04-samba-common-bin_2%3a4.5.12+dfsg-2+deb9u3_armhf.deb ...
Unpacking samba-common-bin (2:4.5.12+dfsg-2+deb9u3) ...
Selecting previously unselected package tdb-tools.
Preparing to unpack .../05-tdb-tools_1.3.11-2_armhf.deb ...
Unpacking tdb-tools (1.3.11-2) ...
Selecting previously unselected package libfile-copy-recursive-perl.
Preparing to unpack .../06-libfile-copy-recursive-perl_0.38-1_all.deb ...
Unpacking libfile-copy-recursive-perl (0.38-1) ...
Selecting previously unselected package update-inetd.
Preparing to unpack .../07-update-inetd_4.44_all.deb ...
Unpacking update-inetd (4.44) ...
Selecting previously unselected package samba.
Preparing to unpack .../08-samba_2%3a4.5.12+dfsg-2+deb9u3_armhf.deb ...
Unpacking samba (2:4.5.12+dfsg-2+deb9u3) ...
Selecting previously unselected package attr.
Preparing to unpack .../09-attr_1%3a2.4.47-2_armhf.deb ...
Unpacking attr (1:2.4.47-2) ...
Selecting previously unselected package libaio1:armhf.
Preparing to unpack .../10-libaio1_0.3.110-3_armhf.deb ...
Unpacking libaio1:armhf (0.3.110-3) ...
Selecting previously unselected package samba-dsdb-modules.
Preparing to unpack .../11-samba-dsdb-modules_2%3a4.5.12+dfsg-2+deb9u3_armhf.deb ...
Unpacking samba-dsdb-modules (2:4.5.12+dfsg-2+deb9u3) ...
Selecting previously unselected package samba-vfs-modules.
Preparing to unpack .../12-samba-vfs-modules_2%3a4.5.12+dfsg-2+deb9u3_armhf.deb ...
Unpacking samba-vfs-modules (2:4.5.12+dfsg-2+deb9u3) ...
Setting up python-dnspython (1.15.0-1) ...
Setting up python-tdb (1.3.11-2) ...
Processing triggers for libc-bin (2.24-11+deb9u3) ...
Setting up libaio1:armhf (0.3.110-3) ...
Processing triggers for systemd (232-25+deb9u4) ...
Setting up tdb-tools (1.3.11-2) ...
update-alternatives: using /usr/bin/tdbbackup.tdbtools to provide /usr/bin/tdbbackup (tdbbackup) in auto mode
Processing triggers for man-db (2.7.6.1-2) ...
Setting up samba-dsdb-modules (2:4.5.12+dfsg-2+deb9u3) ...
Setting up attr (1:2.4.47-2) ...
Setting up libfile-copy-recursive-perl (0.38-1) ...
Setting up python-ldb (2:1.1.27-1) ...
Setting up update-inetd (4.44) ...
Setting up samba-vfs-modules (2:4.5.12+dfsg-2+deb9u3) ...
Setting up python-samba (2:4.5.12+dfsg-2+deb9u3) ...
Setting up samba-common-bin (2:4.5.12+dfsg-2+deb9u3) ...
Setting up samba (2:4.5.12+dfsg-2+deb9u3) ...
Adding group `sambashare' (GID 116) ...
Done.
Samba is not being run as an AD Domain Controller, masking samba-ad-dc-service.
Please ignore the following error about deb-systemd-helper not finding samba-ad-dc-service.
Created symlink /etc/systemd/system/multi-user.target.wants/nmbd.service â†’ /lib/systemd/system/nmbd.service.
Failed to preset unit: Unit file /etc/systemd/system/samba-ad-dc.service is masked.
/usr/bin/deb-systemd-helper: error: systemctl preset failed on samba-ad-dc.service: No such file or directory
Created symlink /etc/systemd/system/multi-user.target.wants/smbd.service â†’ /lib/systemd/system/smbd.service.
Processing triggers for libc-bin (2.24-11+deb9u3) ...
Processing triggers for systemd (232-25+deb9u4) ...
pi@raspberrypi:~$</code></pre>
<h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><pre><code>sudo vim /etc/samba/smb.conf</code></pre>
<p>åœ¨æœ€åé¢æ·»åŠ ä»¥ä¸‹å†…å®¹</p>
<pre><code>[public]
   comment = public storage
   path = /home/pi/workdir
   valid users = pi
   read only = no
   create mask = 0777
   directory mask = 0777
   guest ok = no
   browseable = yes</code></pre>
<p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li>commentï¼šå…±äº«æ–‡ä»¶å¤¹è¯´æ˜</li>
<li>pathï¼šå…±äº«æ–‡ä»¶å¤¹ç›®å½•</li>
<li>valid usersï¼šæœ‰æ•ˆç”¨æˆ·</li>
<li>read onlyï¼šæ˜¯å¦åªè¯»</li>
<li>create maskï¼šåˆ›å»ºæ–‡ä»¶çš„æƒé™</li>
<li>directory maskï¼šåˆ›å»ºæ–‡ä»¶å¤¹çš„æƒé™</li>
<li>guest okï¼šæ˜¯å¦å…è®¸è®¿å®¢è®¿é—®</li>
<li>browseableï¼šæ˜¯å¦å¯è§</li>
</ul>
<p>å…¶ä¸­ <code>valid users</code> å³ <code>pi</code> ä¸ºæœ‰æ•ˆç”¨æˆ·ï¼Œè¿˜éœ€è¦æ·»åŠ å…¶åˆ° Samba ä¸­ï¼Œå‘½ä»¤è¡Œæ‰§è¡Œï¼š</p>
<pre><code>sudo smbpasswd -a pi</code></pre>
<p>é‡å¯ samba ä»¥ç”Ÿæ•ˆé…ç½®ï¼Œå‘½ä»¤è¡Œæ‰§è¡Œï¼š</p>
<pre><code>sudo samba restart</code></pre>
<blockquote>
<p>æ³¨ï¼šSamba é»˜è®¤å¼€æœºè‡ªå¯ï¼Œæ— éœ€ä¸ºé‡å¯æ‹…å¿ƒã€‚</p>
</blockquote>
<p>è®¾ç½®æ–‡ä»¶æƒé™<br>åœ¨ Samba é…ç½®æ–‡ä»¶è®¾ç½®æƒé™åï¼Œè¿˜éœ€åœ¨ç³»ç»Ÿä¸­å°†å…±äº«æ–‡ä»¶å¤¹çš„æƒé™è®¾ç½®ä¸ºåŒé…ç½®æ–‡ä»¶ä¸­ç›¸åŒçš„æƒé™ï¼Œä»¥ç¡®ä¿å…¶ä»–ç”¨æˆ·æ­£å¸¸è®¿é—®åŠä¿®æ”¹æ–‡ä»¶å¤¹å†…å®¹ï¼Œå‘½ä»¤è¡Œæ‰§è¡Œï¼š</p>
<pre><code>sudo chmod -R 777 /mnt/udisk</code></pre>
<h3 id="å…¶ä»–æŒ‡ä»¤è®¾ç½®"><a href="#å…¶ä»–æŒ‡ä»¤è®¾ç½®" class="headerlink" title="å…¶ä»–æŒ‡ä»¤è®¾ç½®"></a>å…¶ä»–æŒ‡ä»¤è®¾ç½®</h3><pre class=" language-sh"><code class="language-sh">pdbedit â€“a usernameï¼šæ–°å»ºSambaè´¦æˆ·ã€‚
pdbedit â€“x usernameï¼šåˆ é™¤Sambaè´¦æˆ·ã€‚
pdbedit â€“Lï¼šåˆ—å‡ºSambaç”¨æˆ·åˆ—è¡¨ï¼Œè¯»å–passdb.tdbæ•°æ®åº“æ–‡ä»¶ã€‚
pdbedit â€“Lvï¼šåˆ—å‡ºSambaç”¨æˆ·åˆ—è¡¨çš„è¯¦ç»†ä¿¡æ¯ã€‚
pdbedit â€“c â€œ[D]â€ â€“u usernameï¼šæš‚åœè¯¥Sambaç”¨æˆ·çš„è´¦å·ã€‚
pdbedit â€“c â€œ[]â€ â€“u usernameï¼šæ¢å¤è¯¥Sambaç”¨æˆ·çš„è´¦å·ã€‚
# å¯åŠ¨æœåŠ¡ 
/etc/init.d/smb start
/etc/init.d/smb start
# å¼€æœºè‡ªå¯åŠ¨
chkconfig  smb on
chkconfig nmb on
# æŸ¥çœ‹å¼€å¯çš„ç«¯å£
netstat -nlutp |grep mbd</code></pre>
<h3 id="è®¿é—®å…±äº«æ–‡ä»¶"><a href="#è®¿é—®å…±äº«æ–‡ä»¶" class="headerlink" title="è®¿é—®å…±äº«æ–‡ä»¶"></a>è®¿é—®å…±äº«æ–‡ä»¶</h3><p><strong>Windowsï¼š</strong><br>åœ¨èµ„æºç®¡ç†å™¨åœ°å€æ è¾“å…¥ï¼š<code>\\\\192.168.1.37\\public</code>ï¼Œå…¶ä¸­ <code>192.168.1.37</code> æ›¿æ¢ä¸ºä½ æ ‘è“æ´¾çš„ IP åœ°å€å³å¯ã€‚</p>
<p><strong>macOSï¼š</strong><br>æ‰“å¼€ <code>FInder</code>ï¼Œä¹‹åä½¿ç”¨å¿«æ·é”® <code>cmd+k</code>ï¼ŒæœåŠ¡å™¨åœ°å€ä¸­å¡«å†™<code>smb://192.168.1.37/public</code>ï¼Œå…¶ä¸­ <code>192.168.1.37</code> æ›¿æ¢ä¸ºä½ æ ‘è“æ´¾çš„ IP åœ°å€ï¼Œä¹‹åç‚¹å‡»è¿æ¥å³å¯ã€‚</p>
<h2 id="å¤–è®¾ç›¸å…³"><a href="#å¤–è®¾ç›¸å…³" class="headerlink" title="å¤–è®¾ç›¸å…³"></a>å¤–è®¾ç›¸å…³</h2><h3 id="GPIOæ˜ å°„"><a href="#GPIOæ˜ å°„" class="headerlink" title="GPIOæ˜ å°„"></a>GPIOæ˜ å°„</h3><p><img src="/images/pi_gpio.png" alt="GPIO"></p>
]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>raspberry</tag>
      </tags>
  </entry>
</search>
